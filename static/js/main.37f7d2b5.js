/*! For license information please see main.37f7d2b5.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=new t(512),s=new t(512),c=new t(512);function l(e){return u.get(e)||u.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return s.get(e)||s.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,u=e.length;for(i=0;i<u;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,St=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function $n(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Sr:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Si(Ci,e)):Ii(Ai),Si(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=Ji,Wi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Pu,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=Ji,Wi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Pu(e,t),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return _a(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Ju&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ds(e,t,n),Ju=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,ms(t,e),Ju=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Ju=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Os=null,Rs=0,Ps=0,Ds=Ei(0),Ls=0,Ms=null,Fs=0,js=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ks=null,Gs=!1,Hs=null,Ws=null,Qs=!1,$s=null,Ys=0,Js=0,Xs=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Je():-1!==Zs?Zs:Zs=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Rs===t||(Ks=null,qs=Je()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,As=i,null!==Os?t=0:(Ns=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),t);break}_c(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),r);break}_c(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ks),ic(e,Je()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Je()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&xc();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ps=Ds.current,Ii(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Os=e=Dc(e.current,null),Rs=Ps=t,Ls=0,Ms=null,Us=js=Fs=0,zs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Rs)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Rs===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Ss.current=r,null!==Os)throw Error(a(261));return Ns=null,Rs=0,Ls}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!$e();)bc(Os)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(Os=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ls=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Os=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xs?Js++:(Js=0,Xs=e):Js=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==$s){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Je()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Si(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&As)&&(qs=Je()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var u,s,c,l=t(e),f=t(o);if(l&&f){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var m=n(e);if((s=m.length)!==n(o).length)return!1;for(u=s;0!==u--;)if(!r.call(o,m[u]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(u=s;0!==u--;)if(("_owner"!==(c=m[u])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},805:function(e,t,n){var r;r=function(e){return function(){var t={"./node_modules/css-mediaquery/index.js":function(e,t){"use strict";t.match=function(e,t){return u(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var i=e.expressions.every((function(e){var n=e.feature,r=e.modifier,i=e.value,a=t[n];if(!a)return!1;switch(n){case"orientation":case"scan":return a.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=l(i),a=l(a);break;case"resolution":i=c(i),a=c(a);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=s(i),a=s(a);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,a=parseInt(a,10)||0}switch(r){case"min":return a>=i;case"max":return a<=i;default:return a===i}}));return i&&!n||!i&&n}))},t.parse=u;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function u(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(n),a=t[1],o=t[2],u=t[3]||"",s={};return s.inverse=!!a&&"not"===a.toLowerCase(),s.type=o?o.toLowerCase():"all",u=u.match(/\([^\)]+\)/g)||[],s.expressions=u.map((function(e){var t=e.match(r),n=t[1].toLowerCase().match(i);return{modifier:n[1],feature:n[2],value:t[2]}})),s}))}function s(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function l(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},"./node_modules/hyphenate-style-name/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}var u=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},"./node_modules/matchmediaquery/index.js":function(e,t,n){"use strict";var r=n("./node_modules/css-mediaquery/index.js").match,i="undefined"!==typeof window?window.matchMedia:null;function a(e,t,n){var a=this;if(i&&!n){var o=i.call(window,e);this.matches=o.matches,this.media=o.media,o.addListener(u)}else this.matches=r(e,t),this.media=e;function u(e){a.matches=e.matches,a.media=e.media}this.addListener=function(e){o&&o.addListener(e)},this.removeListener=function(e){o&&o.removeListener(e)},this.dispose=function(){o&&o.removeListener(u)}}e.exports=function(e,t,n){return new a(e,t,n)}},"./node_modules/object-assign/index.js":function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in a=Object(arguments[s]))n.call(a,c)&&(u[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},"./node_modules/prop-types/checkPropTypes.js":function(e,t,n){"use strict";var r=function(){},i=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),a={},o=n("./node_modules/prop-types/lib/has.js");function u(e,t,n,u,s){for(var c in e)if(o(e,c)){var l;try{if("function"!==typeof e[c]){var f=Error((u||"React class")+": "+n+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw f.name="Invariant Violation",f}l=e[c](t,c,u,n,null,i)}catch(d){l=d}if(!l||l instanceof Error||r((u||"React class")+": type specification of "+n+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in a)){a[l.message]=!0;var h=s?s():"";r("Failed "+n+" type: "+l.message+(null!=h?h:""))}}}r=function(e){var t="Warning: "+e;"undefined"!==typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},u.resetWarningCache=function(){a={}},e.exports=u},"./node_modules/prop-types/factoryWithTypeCheckers.js":function(e,t,n){"use strict";var r=n("./node_modules/react-is/index.js"),i=n("./node_modules/object-assign/index.js"),a=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),o=n("./node_modules/prop-types/lib/has.js"),u=n("./node_modules/prop-types/checkPropTypes.js"),s=function(){};function c(){return null}s=function(e){var t="Warning: "+e;"undefined"!==typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},e.exports=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,l="@@iterator",f="<<anonymous>>",h={array:m("array"),bigint:m("bigint"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:v(c),arrayOf:function(e){return v((function(t,n,r,i,o){if("function"!==typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u))return new p("Invalid "+i+" `"+o+"` of type `"+k(u)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<u.length;s++){var c=e(u,s,r,i,o+"["+s+"]",a);if(c instanceof Error)return c}return null}))},element:v((function(t,n,r,i,a){var o=t[n];return e(o)?null:new p("Invalid "+i+" `"+a+"` of type `"+k(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:v((function(e,t,n,i,a){var o=e[t];return r.isValidElementType(o)?null:new p("Invalid "+i+" `"+a+"` of type `"+k(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return v((function(t,n,r,i,a){if(!(t[n]instanceof e)){var o=e.name||f;return new p("Invalid "+i+" `"+a+"` of type `"+((u=t[n]).constructor&&u.constructor.name?u.constructor.name:f)+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}var u;return null}))},node:v((function(e,t,n,r,i){return g(e[t])?null:new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return v((function(t,n,r,i,u){if("function"!==typeof e)return new p("Property `"+u+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=k(s);if("object"!==c)return new p("Invalid "+i+" `"+u+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(o(s,l)){var f=e(s,l,r,i,u+"."+l,a);if(f instanceof Error)return f}return null}))},oneOf:function(e){return Array.isArray(e)?v((function(t,n,r,i,a){for(var o=t[n],u=0;u<e.length;u++)if(d(o,e[u]))return null;var s=JSON.stringify(e,(function(e,t){return"symbol"===b(t)?String(t):t}));return new p("Invalid "+i+" `"+a+"` of value `"+String(o)+"` supplied to `"+r+"`, expected one of "+s+".")})):(s(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),c)},oneOfType:function(e){if(!Array.isArray(e))return s("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+w(n)+" at index "+t+"."),c}return v((function(t,n,r,i,u){for(var s=[],c=0;c<e.length;c++){var l=(0,e[c])(t,n,r,i,u,a);if(null==l)return null;l.data&&o(l.data,"expectedType")&&s.push(l.data.expectedType)}return new p("Invalid "+i+" `"+u+"` supplied to `"+r+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")}))},shape:function(e){return v((function(t,n,r,i,o){var u=t[n],s=k(u);if("object"!==s)return new p("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if("function"!==typeof l)return y(r,i,o,c,b(l));var f=l(u,c,r,i,o+"."+c,a);if(f)return f}return null}))},exact:function(e){return v((function(t,n,r,u,s){var c=t[n],l=k(c);if("object"!==l)return new p("Invalid "+u+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var f=i({},t[n],e);for(var h in f){var d=e[h];if(o(e,h)&&"function"!==typeof d)return y(r,u,s,h,b(d));if(!d)return new p("Invalid "+u+" `"+s+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=d(c,h,r,u,s+"."+h,a);if(v)return v}return null}))}};function d(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function p(e,t){this.message=e,this.data=t&&"object"===typeof t?t:{},this.stack=""}function v(e){var n={},r=0;function i(i,o,u,c,l,h,d){if(c=c||f,h=h||u,d!==a){if(t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}if("undefined"!==typeof console){var m=c+":"+u;!n[m]&&r<3&&(s("You are manually calling a React.PropTypes validation function for the `"+h+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[m]=!0,r++)}}return null==o[u]?i?null===o[u]?new p("The "+l+" `"+h+"` is marked as required in `"+c+"`, but its value is `null`."):new p("The "+l+" `"+h+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(o,u,c,l,h)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function m(e){return v((function(t,n,r,i,a,o){var u=t[n];return k(u)!==e?new p("Invalid "+i+" `"+a+"` of type `"+b(u)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}))}function y(e,t,n,r,i){return new p((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[l]);if("function"===typeof t)return t}(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!g(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!g(o[1]))return!1}return!0;default:return!1}}function k(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if("undefined"===typeof e||null===e)return""+e;var t=k(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,h.checkPropTypes=u,h.resetWarningCache=u.resetWarningCache,h.PropTypes=h,h}},"./node_modules/prop-types/index.js":function(e,t,n){var r=n("./node_modules/react-is/index.js");e.exports=n("./node_modules/prop-types/factoryWithTypeCheckers.js")(r.isElement,!0)},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/prop-types/lib/has.js":function(e){e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":function(e,t){"use strict";!function(){var e="function"===typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var d=e.type;switch(d){case c:case l:case i:case o:case a:case h:return d;default:var m=d&&d.$$typeof;switch(m){case s:case f:case v:case p:case u:return m;default:return t}}case r:return t}}}var w=c,_=l,x=s,E=u,I=n,S=f,T=i,C=v,A=p,N=r,O=o,R=a,P=h,D=!1;function L(e){return b(e)===l}t.AsyncMode=w,t.ConcurrentMode=_,t.ContextConsumer=x,t.ContextProvider=E,t.Element=I,t.ForwardRef=S,t.Fragment=T,t.Lazy=C,t.Memo=A,t.Portal=N,t.Profiler=O,t.StrictMode=R,t.Suspense=P,t.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),L(e)||b(e)===c},t.isConcurrentMode=L,t.isContextConsumer=function(e){return b(e)===s},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===l||e===o||e===a||e===h||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===y||e.$$typeof===g||e.$$typeof===k||e.$$typeof===m)},t.typeOf=b}()},"./node_modules/react-is/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0;a<i;a++){var o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:function(){return i},shallowEqualObjects:function(){return r}})},"./src/Component.ts":function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("./src/useMediaQuery.ts"));t.default=function(e){var t=e.children,n=e.device,i=e.onChange,o=r(e,["children","device","onChange"]),u=(0,a.default)(o,n,i);return"function"===typeof t?t(u):u?t:null}},"./src/Context.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n("react").createContext)(void 0);t.default=r},"./src/index.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n("./src/useMediaQuery.ts"));t.useMediaQuery=i.default;var a=r(n("./src/Component.ts"));t.default=a.default;var o=r(n("./src/toQuery.ts"));t.toQuery=o.default;var u=r(n("./src/Context.ts"));t.Context=u.default},"./src/mediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("./node_modules/prop-types/index.js")),u=o.default.oneOfType([o.default.string,o.default.number]),s={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},c={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:u,deviceHeight:u,width:u,deviceWidth:u,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:u,type:Object.keys(s)},l=i(c,["type"]),f=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:u,maxHeight:u,minDeviceHeight:u,maxDeviceHeight:u,minWidth:u,maxWidth:u,minDeviceWidth:u,maxDeviceWidth:u,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:u,maxResolution:u},l),h=r(r({},s),f);t.default={all:h,types:s,matchers:c,features:f}},"./src/toQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("./node_modules/hyphenate-style-name/index.js")),a=r(n("./src/mediaQuery.ts"));t.default=function(e){var t=[];return Object.keys(a.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(function(e,t){var n=(0,i.default)(e);return"number"===typeof t&&(t="".concat(t,"px")),!0===t?n:!1===t?"not ".concat(n):"(".concat(n,": ").concat(t,")")}(n,r))})),t.join(" and ")}},"./src/useMediaQuery.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("react"),a=r(n("./node_modules/matchmediaquery/index.js")),o=r(n("./node_modules/hyphenate-style-name/index.js")),u=n("./node_modules/shallow-equal/dist/index.esm.js"),s=r(n("./src/toQuery.ts")),c=r(n("./src/Context.ts")),l=function(e){if(e)return Object.keys(e).reduce((function(t,n){return t[(0,o.default)(n)]=e[n],t}),{})},f=function(){var e=(0,i.useRef)(!1);return(0,i.useEffect)((function(){e.current=!0}),[]),e.current},h=function(e){var t=function(){return function(e){return e.query||(0,s.default)(e)}(e)},n=(0,i.useState)(t),r=n[0],a=n[1];return(0,i.useEffect)((function(){var e=t();r!==e&&a(e)}),[e]),r};t.default=function(e,t,n){var r=function(e){var t=(0,i.useContext)(c.default),n=function(){return l(e)||l(t)},r=(0,i.useState)(n),a=r[0],o=r[1];return(0,i.useEffect)((function(){var e=n();(0,u.shallowEqualObjects)(a,e)||o(e)}),[e,t]),a}(t),o=h(e);if(!o)throw new Error("Invalid or missing MediaQuery!");var s=function(e,t){var n=function(){return(0,a.default)(e,t||{},!!t)},r=(0,i.useState)(n),o=r[0],u=r[1],s=f();return(0,i.useEffect)((function(){if(s){var e=n();return u(e),function(){e&&e.dispose()}}}),[e,t]),o}(o,r),d=function(e){var t=(0,i.useState)(e.matches),n=t[0],r=t[1];return(0,i.useEffect)((function(){var t=function(e){r(e.matches)};return e.addListener(t),r(e.matches),function(){e.removeListener(t)}}),[e]),n}(s),p=f();return(0,i.useEffect)((function(){p&&n&&n(d)}),[d]),(0,i.useEffect)((function(){return function(){s&&s.dispose()}}),[]),d}},react:function(t){"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}return r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r("./src/index.ts")}()},e.exports=r(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function P(e){I=e,E||(E=!0,x())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},564:function(e){var t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=function(e){return e.match(t)||[]},r=function(e){return e[0].toUpperCase()+e.slice(1)},i=function(e,t){return n(e).join(t).toLowerCase()},a=function(e){return n(e).reduce((function(e,t){return"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase())}),"")};e.exports={words:n,upperFirst:r,camelCase:a,pascalCase:function(e){return r(a(e))},snakeCase:function(e){return i(e,"_")},kebabCase:function(e){return i(e,"-")},sentenceCase:function(e){return r(i(e," "))},titleCase:function(e){return n(e).map(r).join(" ")}}},514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),u=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!u.has(e[0])||!u.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||s(e[a],a,new Set);return r;function s(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!u.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];s(f,u.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/learn-lingo/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Cc},SDK_VERSION:function(){return jl},_DEFAULT_ENTRY_NAME:function(){return Il},_addComponent:function(){return Al},_addOrOverwriteComponent:function(){return Nl},_apps:function(){return Tl},_clearComponents:function(){return Dl},_components:function(){return Cl},_getProvider:function(){return Rl},_registerComponent:function(){return Ol},_removeServiceInstance:function(){return Pl},deleteApp:function(){return Bl},getApp:function(){return Vl},getApps:function(){return zl},initializeApp:function(){return Ul},onLog:function(){return Gl},registerVersion:function(){return Kl},setLogLevel:function(){return Hl}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function E(e,t,n){return E=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},E.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},I(e)}function S(e){return o(e)||f(e)||s(e)||c()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,N="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),h=e,function(){u.removeEventListener(N,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=P(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=P(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],J(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ne([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,B=3,q=2,K=1,G=10,H=-2,W=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=q),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(z.test(t)?B:""===t?K:G)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(O(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(I(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function ke(){return ge()||O(!1),r.useContext(ve).location}function be(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Re(Ne.UseNavigateStable).router,t=De(Oe.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||O(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ke().pathname,u=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);return be((function(){s.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=te(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e])}()}var _e=r.createContext(null);function xe(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=ke().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(e,n,i){ge()||O(!1);var a,o=r.useContext(pe).navigator,u=r.useContext(me).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ke());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),a=d}else a=f;var p=a.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ie(){var e=function(){var e,t=r.useContext(ye),n=Pe(Oe.UseRouteError),i=De(Oe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Se=r.createElement(Ie,null),Te=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ce(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ae(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||O(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Se);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ne||{}),Oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oe||{});function Re(e){var t=r.useContext(fe);return t||O(!1),t}function Pe(e){var t=r.useContext(he);return t||O(!1),t}function De(e){var t=function(e){var t=r.useContext(me);return t||O(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||O(!1),n.route.id}i.startTransition;function Le(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;ge()||O(!1);var o=r.useContext(me).matches,u=ke().pathname,s=we(),c=te(t,ee(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return r.useEffect((function(){return s(JSON.parse(l),{replace:n,state:i,relative:a})}),[s,l,a,n,i]),null}function Me(e){return function(e){var t=r.useContext(me).outlet;return t?r.createElement(_e.Provider,{value:e},t):t}(e.context)}function Fe(e){O(!1)}function je(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ge()&&O(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,I=void 0===E?"default":E,S=r.useMemo((function(){var e=X(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:x,key:I},navigationType:c}}),[d,y,k,w,x,I,c]);return null==S?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:S}))}function Ue(e){var t=e.children,n=e.location;return Ee(Be(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),ze=new Promise((function(){}));r.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==Fe&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],He=["aria-current","caseSensitive","className","end","style","to","children"];var We=i.startTransition;function Qe(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var s=u.current,c=l(r.useState({action:s.action,location:s.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&We?We((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return s.listen(p)}),[s,p]),r.createElement(je,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:s})}var $e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ke(e,Ge),d=r.useContext(pe).basename,p=!1;if("string"===typeof l&&Ye.test(l)&&(n=l,$e))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=X(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,t){var n=(void 0===t?{}:t).relative;ge()||O(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,u=xe(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=we(),l=ke(),f=xe(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",qe({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Xe=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Ke(e,He),v=xe(h,{relative:p.relative}),m=ke(),y=r.useContext(he),g=r.useContext(pe).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var _,x=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),E=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),I=x?i:void 0;_="function"===typeof s?s({isActive:x,isPending:E}):[s,x?"active":null,E?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:x,isPending:E}):f;return r.createElement(Je,qe({},p,{"aria-current":I,className:_,ref:t,style:S,to:h}),"function"===typeof d?d({isActive:x,isPending:E}):d)}));var Ze,et;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ze||(Ze={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(et||(et={}));function tt(){tt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(p(e)+" is not iterable")}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function nt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){nt(a,r,i,o,u,"next",e)}function u(e){nt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var it="Hero_flexWrapper__sm0NN",at="Hero_hero__nA9XN",ot="Hero_title__fKZYR",ut="Hero_emphasize__Im1Vc",st="Hero_caption__p54TZ",ct="Hero_btn__37byv",lt="HeroPicture_picture__qq0q5",ft=n(184),ht=function(){return(0,ft.jsx)("div",{className:lt})},dt=function(){var e=we();return(0,ft.jsxs)("div",{className:it,children:[(0,ft.jsxs)("div",{className:at,children:[(0,ft.jsxs)("h1",{className:ot,children:["Unlock your potential with the best"," ",(0,ft.jsx)("span",{className:ut,children:"language"})," tutors"]}),(0,ft.jsx)("p",{className:st,children:"Embark on an Exciting Language Journey with Expert Language Tutors: Elevate your language proficiency to new heights by connecting with highly qualified and experienced tutors."}),(0,ft.jsx)("button",{type:"button",className:ct,onClick:function(){e("/teachers")},children:"Get started"})]}),(0,ft.jsx)(ht,{})]})},pt="HeroStats_heroStats__aZoIC",vt="HeroStats_flexWrapper__NAuUP",mt="HeroStats_number__kLSgr",yt="HeroStats_description__p26Al",gt=[{amount:"32,000 +",caption:"Experienced tutors"},{amount:"300,000 +",caption:"5-star tutor reviews"},{amount:"120 +",caption:"Subjects taught"},{amount:"200 +",caption:"Tutor nationalities"}],kt=function(){return(0,ft.jsx)("div",{className:pt,children:(0,ft.jsx)("ul",{className:vt,children:gt.map((function(e,t){return(0,ft.jsxs)("li",{children:[(0,ft.jsx)("span",{className:mt,children:e.amount}),(0,ft.jsx)("span",{className:yt,children:e.caption})]},t)}))})})},bt=function(){return(0,ft.jsxs)("section",{className:"sectionContainer",children:[(0,ft.jsx)(dt,{}),(0,ft.jsx)(kt,{})]})},wt=function(e){var t=e.changeColor;return(0,r.useEffect)((function(){t("#fff")}),[t]),(0,ft.jsx)(bt,{})},_t="TeachersList_title__763p9",xt="TeachersList_teachersList__M0tY0",Et="LikeButton_liked__F+ytU",It=function(e){var t=e.handleClick,n=e.id,r=e.icon,i=e.alt;return(0,ft.jsx)("button",{type:"button",onClick:function(){return t(n)},className:Et,children:(0,ft.jsx)("img",{src:r,alt:i})})};var St=n.p+"static/media/like.993341ffec344055c399eb5b89409af6.svg";var Tt=n.p+"static/media/liked.51c4d950c4e02dbc94624b7ea6cb07f2.svg",Ct="TeacherCard_teacherCard__Se-TD",At="TeacherCard_roundImageBorder__JKPJU",Nt="TeacherCard_teacherPhoto__GLA9K",Ot="TeacherCard_teacherCommonInfo__uZn5U",Rt="TeacherCard_languages__qOkKx",Pt="TeacherCard_lessonsOnline__qLBPX",Dt="TeacherCard_lessonsDone__exkQ9",Lt="TeacherCard_rating__sEol6",Mt="TeacherCard_price__drge3",Ft="TeacherCard_priceHighlight__g-ydt",jt="TeacherCard_teacherName__1+TKU",Ut="TeacherCard_furtherInfoList__tRZuh",Vt="TeacherCard_furtherInfo__f9DZy",zt="TeacherCard_blackUnderlined__IL28e",Bt="TeacherCard_black__c6fkU",qt="TeacherCard_paragraphLineHeight__DqjH1",Kt="TeacherCard_reviewInstances__ap4YI",Gt="TeacherCard_reviewerData__+-fYO",Ht="TeacherCard_reviewerAvatar__7yigV",Wt="TeacherCard_reviewerPhoto__J99gn",Qt="TeacherCard_reviewerNameAndRating__Tx-+n",$t="TeacherCard_colorGrey__b-pNg",Yt="TeacherCard_ratingWithStar__6+5Gf",Jt="TeacherCard_levels__gAQtA",Xt="TeacherCard_level__zrx51",Zt="TeacherCard_btn__rwgw8",en=n(164),tn="Backdrop_backdrop__3SbQc",nn=function(e){var t=e.isModalOpen,n=e.setIsModalOpen;return t?(0,ft.jsx)("div",{className:tn,onClick:function(){return n()}}):null},rn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},an=r.createContext&&r.createContext(rn),on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},on.apply(this,arguments)},un=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sn(e){return e&&e.map((function(e,t){return r.createElement(e.tag,on({key:t},e.attr),sn(e.child))}))}function cn(e){return function(t){return r.createElement(ln,on({attr:on({},e.attr)},t),sn(e.child))}}function ln(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=un(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",on({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:on(on({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==an?r.createElement(an.Consumer,null,(function(e){return t(e)})):t(rn)}function fn(e){return cn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]})(e)}function hn(e){return cn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}function dn(e){return cn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(e)}function pn(e){return cn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}var vn=[{title:"Home",path:"/",icons:(0,ft.jsx)(pn,{})},{title:"Teachers",path:"/teachers",icons:(0,ft.jsx)(fn,{})},{title:"Favorites",path:"/favorites",icons:(0,ft.jsx)(dn,{})}],mn=[{title:"Home",path:"/",icons:(0,ft.jsx)(pn,{})},{title:"Teachers",path:"/teachers",icons:(0,ft.jsx)(fn,{})}],yn="keyup";var gn=document.getElementById("modal-root"),kn=document.getElementById("window-root"),bn=function(e){var t=e.children,n=e.isModalOpen,i=e.setIsModalOpen;return(0,r.useEffect)((function(){document.body.style.overflow=n?"hidden":"unset"}),[n]),function(e){var t=(0,r.useCallback)((function(t){"Escape"===t.key&&e()}),[e]);(0,r.useEffect)((function(){return document.addEventListener(yn,t,!1),function(){document.removeEventListener(yn,t,!1)}}),[t])}((function(){return i(!1)})),(0,ft.jsxs)(ft.Fragment,{children:[en.createPortal((0,ft.jsx)(nn,{isModalOpen:n,setIsModalOpen:i}),gn),en.createPortal(t,kn)]})};function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}function _n(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function xn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}function En(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var In=!1,Sn=r.createContext(null),Tn=function(e){return e.scrollTop},Cn="unmounted",An="exited",Nn="entering",On="entered",Rn="exiting",Pn=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=An,r.appearStatus=Nn):i=On:i=t.unmountOnExit||t.mountOnEnter?Cn:An,r.state={status:i},r.nextCallback=null,r}xn(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Cn?{status:An}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Nn&&n!==On&&(t=Nn):n!==Nn&&n!==On||(t=Rn)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:en.findDOMNode(this);n&&Tn(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===An&&this.setState({status:Cn})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[en.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||In?this.safeSetState({status:On},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Nn},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:On},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:en.findDOMNode(this);t&&!In?(this.props.onExit(r),this.safeSetState({status:Rn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:An},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:An},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:en.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Cn)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,_n(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Sn.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function Dn(){}Pn.contextType=Sn,Pn.propTypes={},Pn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dn,onEntering:Dn,onEntered:Dn,onExit:Dn,onExiting:Dn,onExited:Dn},Pn.UNMOUNTED=Cn,Pn.EXITED=An,Pn.ENTERING=Nn,Pn.ENTERED=On,Pn.EXITING=Rn;var Ln=Pn,Mn=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=En(n.className,r):n.setAttribute("class",En(n.className&&n.className.baseVal||"",r)));var n,r}))},Fn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}xn(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Tn(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&Mn(e,r),i&&Mn(e,i),a&&Mn(e,a)},n.render=function(){var e=this.props,t=(e.classNames,_n(e,["classNames"]));return r.createElement(Ln,wn({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);Fn.defaultProps={classNames:""},Fn.propTypes={};var jn=Fn;function Un(){return Un="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Un.apply(this,arguments)}function Vn(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn=n(758),Bn=n(564),qn=n(514),Kn=n.n(qn),Gn=Object.prototype.toString,Hn=Error.prototype.toString,Wn=RegExp.prototype.toString,Qn="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},$n=/^Symbol\((.*)\)(.*)$/;function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Qn.call(e).replace($n,"Symbol($1)");var r=Gn.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Hn.call(e)+"]":"RegExp"===r?Wn.call(e):null}function Jn(e,t){var n=Yn(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=Yn(this[e],t);return null!==r?r:n}),2)}function Xn(e){return null==e?[]:[].concat(e)}var Zn=/\$\{\s*(\w+)\s*\}/g,er=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],Xn(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,h(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(_(o),n),o}return y(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"===typeof e?e.replace(Zn,(function(e,n){return Jn(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(I(Error)),tr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r?" (cast from the value `".concat(Jn(i,!0),"`)."):".";return"mixed"!==n?"".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(Jn(r,!0),"`")+a:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(Jn(r,!0),"`")+a}},nr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},rr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ir={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ar={isValue:"${path} field must be ${value}"},or={noUnknown:"${path} field has unspecified keys: ${unknown}"},ur={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},sr=function(e){var t=e.path,n=e.value,r=e.spec.types.length;if(Array.isArray(n)){if(n.length<r)return"".concat(t," tuple value has too few items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(Jn(n,!0),"`");if(n.length>r)return"".concat(t," tuple value has too many items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(Jn(n,!0),"`")}return er.formatError(tr.notType,e)},cr=(Object.assign(Object.create(null),{mixed:tr,string:nr,number:rr,date:ir,object:or,array:ur,boolean:ar}),function(e){return e&&e.__isYupSchema__}),lr=function(){function e(t,n){d(this,e),this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}return y(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!cr(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}],[{key:"fromOptions",value:function(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};return new e(t,(function(e,t){var n,r=o.apply(void 0,h(e))?i:a;return null!=(n=null==r?void 0:r(t))?n:t}))}}]),e}(),fr="$",hr=".";var dr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===fr,this.isValue=this.key[0]===hr,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?fr:this.isValue?hr:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,zn.getter)(this.path,!0),this.map=n.map}return y(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();dr.prototype.__isYupRef=!0;var pr=function(e){return null==e};function vr(e){function t(t,n,r){var i=t.value,a=t.path,o=void 0===a?"":a,u=t.options,s=t.originalValue,c=t.schema,l=e.name,f=e.test,h=e.params,d=e.message,p=e.skipAbsent,v=u.parent,m=u.context,y=u.abortEarly;function g(e){return dr.isRef(e)?e.getValue(i,v,m):e}function k(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({value:i,originalValue:s,label:c.spec.label,path:e.path||o,spec:c.spec},h,e.params),n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];t[a]=g(t[a])}var u=new er(er.formatError(e.message||d,t),i,t.path,e.type||l);return u.params=t,u}var b=(void 0===y?c.spec.abortEarly:y)?n:r,w={path:o,parent:v,type:l,from:u.from,createError:k,resolve:g,options:u,originalValue:s,schema:c},_=function(e){er.isError(e)?b(e):e?r(null):b(k())},x=function(e){er.isError(e)?b(e):n(e)},E=p&&pr(i);if(u.sync){var I;try{var S;if("function"===typeof(null==(S=I=!!E||f.call(w,i,w))?void 0:S.then))throw new Error('Validation test of type: "'.concat(w.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(T){return void x(T)}_(I)}else try{Promise.resolve(!!E||f.call(w,i,w)).then(_,x)}catch(T){x(T)}}return t.OPTIONS=e,t}function mr(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,zn.forEach)(t,(function(u,s,c){var l=s?u.slice(1,u.length-1):u,f="tuple"===(e=e.resolve({context:o,parent:r,value:n})).type,h=c?parseInt(l,10):0;if(e.innerType||f){if(f&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(a,'" must contain an index to the tuple element, e.g. "').concat(a,'[0]"'));if(n&&h>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(u,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[h],e=f?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e.type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=s?"["+u+"]":"."+u})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var yr=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"describe",value:function(){var e,t=[],n=T(this.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(dr.isRef(r)?r.describe():r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"resolveAll",value:function(e){var t,n=[],r=T(this.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(e(i))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"clone",value:function(){return new n(this.values())}},{key:"merge",value:function(e,t){var n=this.clone();return e.forEach((function(e){return n.add(e)})),t.forEach((function(e){return n.delete(e)})),n}}]),n}(I(Set));function gr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(cr(e)||!e||"object"!==typeof e)return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime()),n.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),n.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),n.set(e,t);for(var r=0;r<e.length;r++)t[r]=gr(e[r],n)}else if(e instanceof Map){t=new Map,n.set(e,t);var i,a=T(e.entries());try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2),u=o[0],s=o[1];t.set(u,gr(s,n))}}catch(g){a.e(g)}finally{a.f()}}else if(e instanceof Set){t=new Set,n.set(e,t);var c,f=T(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;t.add(gr(h,n))}}catch(g){f.e(g)}finally{f.f()}}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},n.set(e,t);for(var d=0,p=Object.entries(e);d<p.length;d++){var v=l(p[d],2),m=v[0],y=v[1];t[m]=gr(y,n)}}return t}var kr=function(){function e(t){var n=this;d(this,e),this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new yr,this._blacklist=new yr,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(tr.notType)})),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},null==t?void 0:t.spec),this.withMutation((function(e){e.nonNullable()}))}return y(e,[{key:"_type",get:function(){return this.type}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=h(this.deps),t.conditions=h(this.conditions),t.tests=h(this.tests),t.transforms=h(this.transforms),t.spec=gr(Object.assign({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(h(t.transforms),h(n.transforms)),n}},{key:"isType",value:function(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"resolveOptions",value:function(e){var t,n,r;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive})}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&pr(i))return i;var a=Jn(e),o=Jn(i);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n.type,'". \n\n')+"attempted value: ".concat(a," \n")+(o!==a?"result of cast: ".concat(o):""))}return i}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault(t)),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=n.path,o=n.originalValue,u=void 0===o?e:o,s=n.strict,c=void 0===s?this.spec.strict:s,l=e;c||(l=this._cast(l,Object.assign({assert:!1},n)));for(var f=[],h=0,d=Object.values(this.internalTests);h<d.length;h++){var p=d[h];p&&f.push(p)}this.runTests({path:a,value:l,originalValue:u,options:n,tests:f},r,(function(e){if(e.length)return i(e,l);t.runTests({path:a,value:l,originalValue:u,options:n,tests:t.tests},r,i)}))}},{key:"runTests",value:function(e,t,n){var r=!1,i=e.tests,a=e.value,o=e.originalValue,u=e.path,s=e.options,c=function(e){r||(r=!0,t(e,a))},l=function(e){r||(r=!0,n(e,a))},f=i.length,h=[];if(!f)return l([]);for(var d={value:a,originalValue:o,path:u,options:s,schema:this},p=0;p<i.length;p++){(0,i[p])(d,c,(function(e){e&&(h=h.concat(e)),--f<=0&&l(h)}))}}},{key:"asNestedTest",value:function(e){var t,n=this,r=e.key,i=e.index,a=e.parent,o=e.parentPath,u=e.originalParent,s=e.options,c=null!=r?r:i;if(null==c)throw TypeError("Must include `key` or `index` for nested validations");var l="number"===typeof c,f=a[c],h=Object.assign({},s,(Vn(t={strict:!0,parent:a,value:f,originalValue:u[c],key:void 0},l?"index":"key",c),Vn(t,"path",l||c.includes(".")?"".concat(o||"","[").concat(f?c:'"'.concat(c,'"'),"]"):(o?"".concat(o,"."):"")+r),t));return function(e,t,r){return n.resolve(h)._validate(f,h,t,r)}}},{key:"validate",value:function(e,t){var n=this.resolve(Object.assign({},t,{value:e}));return new Promise((function(r,i){return n._validate(e,t,(function(e,t){er.isError(e)&&(e.value=t),i(e)}),(function(e,t){e.length?i(new er(e,t)):r(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(Object.assign({},t,{value:e}))._validate(e,Object.assign({},t,{sync:!0}),(function(e,t){throw er.isError(e)&&(e.value=t),e}),(function(t,r){if(t.length)throw new er(t,e);n=r})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(er.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(er.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(e){var t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):gr(t)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault(e)}},{key:"default",value:function(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}},{key:"nullability",value:function(e,t){var n=this.clone({nullable:e});return n.internalTests.nullable=vr({message:t,name:"nullable",test:function(e){return null!==e||this.schema.spec.nullable}}),n}},{key:"optionality",value:function(e,t){var n=this.clone({optional:e});return n.internalTests.optionality=vr({message:t,name:"optionality",test:function(e){return void 0!==e||this.schema.spec.optional}}),n}},{key:"optional",value:function(){return this.optionality(!0)}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr.defined;return this.optionality(!1,e)}},{key:"nullable",value:function(){return this.nullability(!0)}},{key:"nonNullable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr.notNull;return this.nullability(!1,e)}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr.required;return this.clone().withMutation((function(t){return t.nonNullable(e).defined(e)}))}},{key:"notRequired",value:function(){return this.clone().withMutation((function(e){return e.nullable().optional()}))}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=tr.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=vr(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=Xn(e).map((function(e){return new dr(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"===typeof t?new lr(r,t):lr.fromOptions(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t.internalTests.typeError=vr({message:e,name:"typeError",skipAbsent:!0,test:function(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=vr({message:t,name:"oneOf",skipAbsent:!0,test:function(e){var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=vr({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(e){var t=(e?this.resolve(e):this).clone(),n=t.spec,r=n.label,i={meta:n.meta,label:r,optional:n.optional,nullable:n.nullable,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return i}}]),e}();kr.prototype.__isYupSchema__=!0;for(var br=function(){var e=_r[wr];kr.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=mr(this,t,n,r.context),a=i.parent,o=i.parentPath;return i.schema[e](a&&a[o],Object.assign({},r,{parent:a,path:t}))}},wr=0,_r=["validate","validateSync"];wr<_r.length;wr++)br();for(var xr=0,Er=["equals","is"];xr<Er.length;xr++){var Ir=Er[xr];kr.prototype[Ir]=kr.prototype.oneOf}for(var Sr=0,Tr=["not","nope"];Sr<Tr.length;Sr++){var Cr=Tr[Sr];kr.prototype[Cr]=kr.prototype.notOneOf}var Ar=function(){return!0};var Nr=function(e){k(n,e);var t=x(n);function n(e){return d(this,n),t.call(this,"function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Ar},e))}return y(n)}(kr);Nr.prototype;var Or=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),e=t.call(this,{type:"boolean",check:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}}),e.withMutation((function(){e.transform((function(e,t,n){if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return y(n,[{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return pr(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return pr(e)||!1===e}})}},{key:"default",value:function(e){return Un(b(n.prototype),"default",this).call(this,e)}},{key:"defined",value:function(e){return Un(b(n.prototype),"defined",this).call(this,e)}},{key:"optional",value:function(){return Un(b(n.prototype),"optional",this).call(this)}},{key:"required",value:function(e){return Un(b(n.prototype),"required",this).call(this,e)}},{key:"notRequired",value:function(){return Un(b(n.prototype),"notRequired",this).call(this)}},{key:"nullable",value:function(){return Un(b(n.prototype),"nullable",this).call(this)}},{key:"nonNullable",value:function(e){return Un(b(n.prototype),"nonNullable",this).call(this,e)}},{key:"strip",value:function(e){return Un(b(n.prototype),"strip",this).call(this,e)}}]),n}(kr);Or.prototype;var Rr=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pr=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Dr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Lr=function(e){return pr(e)||e===e.trim()},Mr={}.toString();function Fr(){return new jr}var jr=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"string",check:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}})).withMutation((function(){e.transform((function(e,t,n){if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;var r=null!=e&&e.toString?e.toString():e;return r===Mr?e:r}))})),e}return y(n,[{key:"required",value:function(e){return Un(b(n.prototype),"required",this).call(this,e).withMutation((function(t){return t.test({message:e||tr.required,name:"required",skipAbsent:!0,test:function(e){return!!e.length}})}))}},{key:"notRequired",value:function(){return Un(b(n.prototype),"notRequired",this).call(this).withMutation((function(e){return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}))}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test:function(t){return t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test:function(t){return t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||nr.matches,params:{regex:e},skipAbsent:!0,test:function(t){return""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.email;return this.matches(Rr,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.url;return this.matches(Pr,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.uuid;return this.matches(Dr,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:Lr})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.lowercase;return this.transform((function(e){return pr(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:function(e){return pr(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.uppercase;return this.transform((function(e){return pr(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:function(e){return pr(e)||e===e.toUpperCase()}})}}]),n}(kr);Fr.prototype=jr.prototype;var Ur=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,{type:"number",check:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}})).withMutation((function(){e.transform((function(e,t,n){if(!n.spec.coerce)return e;var r=e;if("string"===typeof r){if(""===(r=r.replace(/\s/g,"")))return NaN;r=+r}return n.isType(r)||null===r?r:parseFloat(r)}))})),e}return y(n,[{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(t){return t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test:function(t){return t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test:function(t){return t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:function(e){return Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return pr(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return pr(t)?t:Math[e](t)}))}}]),n}(kr);Ur.prototype;var Vr=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var zr=new Date("");function Br(){return new qr}var qr=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),e=t.call(this,{type:"date",check:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),e.withMutation((function(){e.transform((function(e,t,r){return!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=Vr.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?n.INVALID_DATE:new Date(e))}))})),e}return y(n,[{key:"prepareParam",value:function(e,t){var n;if(dr.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(e){return e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(e){return e<=this.resolve(n)}})}}]),n}(kr);function Kr(e,t){var n=1/0;return e.some((function(e,r){var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function Gr(e){return function(t,n){return Kr(e,t)-Kr(e,n)}}qr.INVALID_DATE=zr,Br.prototype=qr.prototype,Br.INVALID_DATE=zr;var Hr=function(e,t,n){if("string"!==typeof e)return e;var r=e;try{r=JSON.parse(e)}catch(i){}return n.isType(r)?r:e};function Wr(e){if("fields"in e){for(var t={},n=0,r=Object.entries(e.fields);n<r.length;n++){var i=l(r[n],2),a=i[0],o=i[1];t[a]=Wr(o)}return e.setFields(t)}if("array"===e.type){var u=e.optional();return u.innerType&&(u.innerType=Wr(u.innerType)),u}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Wr)}):"optional"in e?e.optional():e}var Qr=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var $r=Gr([]);function Yr(e){return new Jr(e)}var Jr=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,{type:"object",check:function(e){return Qr(e)||"function"===typeof e}})).fields=Object.create(null),r._sortErrors=$r,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){e&&r.shape(e)})),r}return y(n,[{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Un(b(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault(i);if(!this._typeCheck(a))return a;var o,u=this.fields,s=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(a).filter((function(e){return!r._nodes.includes(e)}))),l={},f=Object.assign({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=T(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=u[p],m=p in a;if(v){var y,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var k=(v=v.resolve({value:g,context:i.context,parent:l}))instanceof kr?v.spec:void 0,w=null==k?void 0:k.strict;if(null!=k&&k.strip){h=h||p in a;continue}void 0!==(y=i.__validating&&w?a[p]:v.cast(a[p],f))&&(l[p]=y)}else m&&!s&&(l[p]=a[p]);m===p in l&&l[p]===a[p]||(h=!0)}}catch(_){d.e(_)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=r.from,u=void 0===o?[]:o,s=r.originalValue,c=void 0===s?e:s,l=r.recursive,f=void 0===l?this.spec.recursive:l;r.from=[{schema:this,value:c}].concat(h(u)),r.__validating=!0,r.originalValue=c,Un(b(n.prototype),"_validate",this).call(this,e,r,i,(function(e,n){if(f&&Qr(n)){c=c||n;var o,u=[],s=T(t._nodes);try{for(s.s();!(o=s.n()).done;){var l=o.value,h=t.fields[l];h&&!dr.isRef(h)&&u.push(h.asNestedTest({options:r,key:l,parent:n,parentPath:r.path,originalParent:c}))}}catch(d){s.e(d)}finally{s.f()}t.runTests({tests:u,value:n,originalValue:c,options:r},i,(function(r){a(r.sort(t._sortErrors).concat(e),n)}))}else a(e,n)}))}},{key:"clone",value:function(e){var t=Un(b(n.prototype),"clone",this).call(this,e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=Un(b(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var u=l(o[a],2),s=u[0],c=u[1],f=i[s];i[s]=void 0===f?c:f}return r.withMutation((function(n){return n.setFields(i,[].concat(h(t._excludedEdges),h(e._excludedEdges)))}))}},{key:"_getDefault",value:function(e){var t=this;if("default"in this.spec)return Un(b(n.prototype),"_getDefault",this).call(this,e);if(this._nodes.length){var r={};return this._nodes.forEach((function(n){var i,a=t.fields[n],o=e;null!=(i=o)&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=a&&"getDefault"in a?a.getDefault(o):void 0})),r}}},{key:"setFields",value:function(e,t){var n=this.clone();return n.fields=e,n._nodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,zn.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}for(var o=function(){var t=s[u],n=e[t];r.add(t),dr.isRef(n)&&n.isSibling?a(n.path,t):cr(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))},u=0,s=Object.keys(e);u<s.length;u++)o();return Kn().array(Array.from(r),n).reverse()}(e,t),n._sortErrors=Gr(Object.keys(e)),t&&(n._excludedEdges=t),n}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation((function(n){var r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[].concat(h(n._excludedEdges),h(t))),n.setFields(Object.assign(n.fields,e),r)}))}},{key:"partial",value:function(){for(var e={},t=0,n=Object.entries(this.fields);t<n.length;t++){var r=l(n[t],2),i=r[0],a=r[1];e[i]="optional"in a&&a.optional instanceof Function?a.optional():a}return this.setFields(e)}},{key:"deepPartial",value:function(){return Wr(this)}},{key:"pick",value:function(e){var t,n={},r=T(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.setFields(n)}},{key:"omit",value:function(e){var t,n=Object.assign({},this.fields),r=T(e);try{for(r.s();!(t=r.n()).done;){delete n[t.value]}}catch(i){r.e(i)}finally{r.f()}return this.setFields(n)}},{key:"from",value:function(e,t,n){var r=(0,zn.getter)(e,!0);return this.transform((function(i){if(!i)return i;var a=i;return function(e,t){var n=h((0,zn.normalizePath)(t));if(1===n.length)return n[0]in e;var r=n.pop(),i=(0,zn.getter)((0,zn.join)(n),!0)(e);return!(!i||!(r in i))}(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"json",value:function(){return this.transform(Hr)}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=function(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){if(!t)return t;for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];n[e(a)]=t[a]}return n}))}},{key:"camelCase",value:function(){return this.transformKeys(Bn.camelCase)}},{key:"snakeCase",value:function(){return this.transformKeys(Bn.snakeCase)}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return(0,Bn.snakeCase)(e).toUpperCase()}))}},{key:"describe",value:function(e){var t=Un(b(n.prototype),"describe",this).call(this,e);t.fields={};for(var r=0,i=Object.entries(this.fields);r<i.length;r++){var a,o=l(i[r],2),u=o[0],s=o[1],c=e;null!=(a=c)&&a.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[u]})),t.fields[u]=s.describe(c)}return t}}]),n}(kr);Yr.prototype=Jr.prototype;var Xr=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),r=t.call(this,{type:"array",spec:{types:e},check:function(e){return Array.isArray(e)}}),r.innerType=void 0,r.innerType=e,r}return y(n,[{key:"_cast",value:function(e,t){var r=this,i=Un(b(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,u=this.innerType,s=null!=(t=i.recursive)?t:this.spec.recursive;null!=i.originalValue&&i.originalValue,Un(b(n.prototype),"_validate",this).call(this,e,i,a,(function(t,n){var c;if(s&&u&&r._typeCheck(n)){for(var l=new Array(n.length),f=0;f<n.length;f++){var h;l[f]=u.asNestedTest({options:i,index:f,parent:n,parentPath:i.path,originalParent:null!=(h=i.originalValue)?h:e})}r.runTests({value:n,tests:l,originalValue:null!=(c=i.originalValue)?c:e,options:i},a,(function(e){return o(e.concat(t),n)}))}else o(t,n)}))}},{key:"clone",value:function(e){var t=Un(b(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"json",value:function(){return this.transform(Hr)}},{key:"concat",value:function(e){var t=Un(b(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!cr(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Jn(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test:function(t){return t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||ur.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||ur.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(t){return t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(e){var t=Un(b(n.prototype),"describe",this).call(this,e);if(this.innerType){var r,i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),t.innerType=this.innerType.describe(i)}return t}}]),n}(kr);Xr.prototype;var Zr=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),r=t.call(this,{type:"tuple",spec:{types:e},check:function(e){var t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),r.withMutation((function(){r.typeError(sr)})),r}return y(n,[{key:"_cast",value:function(e,t){var r=this.spec.types,i=Un(b(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i))return i;var a=!1,o=r.map((function(e,n){var r=e.cast(i[n],Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return r!==i[n]&&(a=!0),r}));return a?o:i}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=this.spec.types;Un(b(n.prototype),"_validate",this).call(this,e,r,i,(function(n,u){var s;if(t._typeCheck(u)){var c,f=[],h=T(o.entries());try{for(h.s();!(c=h.n()).done;){var d,p=l(c.value,2),v=p[0],m=p[1];f[v]=m.asNestedTest({options:r,index:v,parent:u,parentPath:r.path,originalParent:null!=(d=r.originalValue)?d:e})}}catch(y){h.e(y)}finally{h.f()}t.runTests({value:u,tests:f,originalValue:null!=(s=r.originalValue)?s:e,options:r},i,(function(e){return a(e.concat(n),u)}))}else a(n,u)}))}},{key:"describe",value:function(e){var t=Un(b(n.prototype),"describe",this).call(this,e);return t.innerType=this.spec.types.map((function(t,n){var r,i=e;return null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),t.describe(i)})),t}}]),n}(kr);Zr.prototype;var ei=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ti}(e)}(e)};var ti="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ni(e,t){return!1!==t.clone&&t.isMergeableObject(e)?ii((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function ri(e,t,n){return e.concat(t).map((function(e){return ni(e,n)}))}function ii(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||ri,n.isMergeableObject=n.isMergeableObject||ei;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=ni(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=ii(e[i],t[i],n):r[i]=ni(t[i],n)})),r}(e,t,n):ni(t,n)}ii.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return ii(e,n,t)}),{})};var ai=ii,oi="object"==typeof global&&global&&global.Object===Object&&global,ui="object"==typeof self&&self&&self.Object===Object&&self,si=oi||ui||Function("return this")(),ci=si.Symbol,li=Object.prototype,fi=li.hasOwnProperty,hi=li.toString,di=ci?ci.toStringTag:void 0;var pi=function(e){var t=fi.call(e,di),n=e[di];try{e[di]=void 0;var r=!0}catch(a){}var i=hi.call(e);return r&&(t?e[di]=n:delete e[di]),i},vi=Object.prototype.toString;var mi=function(e){return vi.call(e)},yi=ci?ci.toStringTag:void 0;var gi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yi&&yi in Object(e)?pi(e):mi(e)};var ki=function(e,t){return function(n){return e(t(n))}},bi=ki(Object.getPrototypeOf,Object);var wi=function(e){return null!=e&&"object"==typeof e},_i=Function.prototype,xi=Object.prototype,Ei=_i.toString,Ii=xi.hasOwnProperty,Si=Ei.call(Object);var Ti=function(e){if(!wi(e)||"[object Object]"!=gi(e))return!1;var t=bi(e);if(null===t)return!0;var n=Ii.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ei.call(n)==Si},Ci=n(77),Ai=n.n(Ci);var Ni=function(e,t){};var Oi=function(){this.__data__=[],this.size=0};var Ri=function(e,t){return e===t||e!==e&&t!==t};var Pi=function(e,t){for(var n=e.length;n--;)if(Ri(e[n][0],t))return n;return-1},Di=Array.prototype.splice;var Li=function(e){var t=this.__data__,n=Pi(t,e);return!(n<0)&&(n==t.length-1?t.pop():Di.call(t,n,1),--this.size,!0)};var Mi=function(e){var t=this.__data__,n=Pi(t,e);return n<0?void 0:t[n][1]};var Fi=function(e){return Pi(this.__data__,e)>-1};var ji=function(e,t){var n=this.__data__,r=Pi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ui(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ui.prototype.clear=Oi,Ui.prototype.delete=Li,Ui.prototype.get=Mi,Ui.prototype.has=Fi,Ui.prototype.set=ji;var Vi=Ui;var zi=function(){this.__data__=new Vi,this.size=0};var Bi=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var qi=function(e){return this.__data__.get(e)};var Ki=function(e){return this.__data__.has(e)};var Gi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Hi=function(e){if(!Gi(e))return!1;var t=gi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Wi=si["__core-js_shared__"],Qi=function(){var e=/[^.]+$/.exec(Wi&&Wi.keys&&Wi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var $i=function(e){return!!Qi&&Qi in e},Yi=Function.prototype.toString;var Ji=function(e){if(null!=e){try{return Yi.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Xi=/^\[object .+?Constructor\]$/,Zi=Function.prototype,ea=Object.prototype,ta=Zi.toString,na=ea.hasOwnProperty,ra=RegExp("^"+ta.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ia=function(e){return!(!Gi(e)||$i(e))&&(Hi(e)?ra:Xi).test(Ji(e))};var aa=function(e,t){return null==e?void 0:e[t]};var oa=function(e,t){var n=aa(e,t);return ia(n)?n:void 0},ua=oa(si,"Map"),sa=oa(Object,"create");var ca=function(){this.__data__=sa?sa(null):{},this.size=0};var la=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},fa=Object.prototype.hasOwnProperty;var ha=function(e){var t=this.__data__;if(sa){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return fa.call(t,e)?t[e]:void 0},da=Object.prototype.hasOwnProperty;var pa=function(e){var t=this.__data__;return sa?void 0!==t[e]:da.call(t,e)};var va=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sa&&void 0===t?"__lodash_hash_undefined__":t,this};function ma(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ma.prototype.clear=ca,ma.prototype.delete=la,ma.prototype.get=ha,ma.prototype.has=pa,ma.prototype.set=va;var ya=ma;var ga=function(){this.size=0,this.__data__={hash:new ya,map:new(ua||Vi),string:new ya}};var ka=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ba=function(e,t){var n=e.__data__;return ka(t)?n["string"==typeof t?"string":"hash"]:n.map};var wa=function(e){var t=ba(this,e).delete(e);return this.size-=t?1:0,t};var _a=function(e){return ba(this,e).get(e)};var xa=function(e){return ba(this,e).has(e)};var Ea=function(e,t){var n=ba(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ia(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ia.prototype.clear=ga,Ia.prototype.delete=wa,Ia.prototype.get=_a,Ia.prototype.has=xa,Ia.prototype.set=Ea;var Sa=Ia;var Ta=function(e,t){var n=this.__data__;if(n instanceof Vi){var r=n.__data__;if(!ua||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sa(r)}return n.set(e,t),this.size=n.size,this};function Ca(e){var t=this.__data__=new Vi(e);this.size=t.size}Ca.prototype.clear=zi,Ca.prototype.delete=Bi,Ca.prototype.get=qi,Ca.prototype.has=Ki,Ca.prototype.set=Ta;var Aa=Ca;var Na=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Oa=function(){try{var e=oa(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Ra=function(e,t,n){"__proto__"==t&&Oa?Oa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Pa=Object.prototype.hasOwnProperty;var Da=function(e,t,n){var r=e[t];Pa.call(e,t)&&Ri(r,n)&&(void 0!==n||t in e)||Ra(e,t,n)};var La=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?Ra(n,u,s):Da(n,u,s)}return n};var Ma=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Fa=function(e){return wi(e)&&"[object Arguments]"==gi(e)},ja=Object.prototype,Ua=ja.hasOwnProperty,Va=ja.propertyIsEnumerable,za=Fa(function(){return arguments}())?Fa:function(e){return wi(e)&&Ua.call(e,"callee")&&!Va.call(e,"callee")},Ba=za,qa=Array.isArray;var Ka=function(){return!1},Ga="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ha=Ga&&"object"==typeof module&&module&&!module.nodeType&&module,Wa=Ha&&Ha.exports===Ga?si.Buffer:void 0,Qa=(Wa?Wa.isBuffer:void 0)||Ka,$a=/^(?:0|[1-9]\d*)$/;var Ya=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$a.test(e))&&e>-1&&e%1==0&&e<t};var Ja=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Xa={};Xa["[object Float32Array]"]=Xa["[object Float64Array]"]=Xa["[object Int8Array]"]=Xa["[object Int16Array]"]=Xa["[object Int32Array]"]=Xa["[object Uint8Array]"]=Xa["[object Uint8ClampedArray]"]=Xa["[object Uint16Array]"]=Xa["[object Uint32Array]"]=!0,Xa["[object Arguments]"]=Xa["[object Array]"]=Xa["[object ArrayBuffer]"]=Xa["[object Boolean]"]=Xa["[object DataView]"]=Xa["[object Date]"]=Xa["[object Error]"]=Xa["[object Function]"]=Xa["[object Map]"]=Xa["[object Number]"]=Xa["[object Object]"]=Xa["[object RegExp]"]=Xa["[object Set]"]=Xa["[object String]"]=Xa["[object WeakMap]"]=!1;var Za=function(e){return wi(e)&&Ja(e.length)&&!!Xa[gi(e)]};var eo=function(e){return function(t){return e(t)}},to="object"==typeof exports&&exports&&!exports.nodeType&&exports,no=to&&"object"==typeof module&&module&&!module.nodeType&&module,ro=no&&no.exports===to&&oi.process,io=function(){try{var e=no&&no.require&&no.require("util").types;return e||ro&&ro.binding&&ro.binding("util")}catch(t){}}(),ao=io&&io.isTypedArray,oo=ao?eo(ao):Za,uo=Object.prototype.hasOwnProperty;var so=function(e,t){var n=qa(e),r=!n&&Ba(e),i=!n&&!r&&Qa(e),a=!n&&!r&&!i&&oo(e),o=n||r||i||a,u=o?Ma(e.length,String):[],s=u.length;for(var c in e)!t&&!uo.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ya(c,s))||u.push(c);return u},co=Object.prototype;var lo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||co)},fo=ki(Object.keys,Object),ho=Object.prototype.hasOwnProperty;var po=function(e){if(!lo(e))return fo(e);var t=[];for(var n in Object(e))ho.call(e,n)&&"constructor"!=n&&t.push(n);return t};var vo=function(e){return null!=e&&Ja(e.length)&&!Hi(e)};var mo=function(e){return vo(e)?so(e):po(e)};var yo=function(e,t){return e&&La(t,mo(t),e)};var go=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},ko=Object.prototype.hasOwnProperty;var bo=function(e){if(!Gi(e))return go(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&ko.call(e,r))&&n.push(r);return n};var wo=function(e){return vo(e)?so(e,!0):bo(e)};var _o=function(e,t){return e&&La(t,wo(t),e)},xo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Eo=xo&&"object"==typeof module&&module&&!module.nodeType&&module,Io=Eo&&Eo.exports===xo?si.Buffer:void 0,So=Io?Io.allocUnsafe:void 0;var To=function(e,t){if(t)return e.slice();var n=e.length,r=So?So(n):new e.constructor(n);return e.copy(r),r};var Co=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Ao=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var No=function(){return[]},Oo=Object.prototype.propertyIsEnumerable,Ro=Object.getOwnPropertySymbols,Po=Ro?function(e){return null==e?[]:(e=Object(e),Ao(Ro(e),(function(t){return Oo.call(e,t)})))}:No,Do=Po;var Lo=function(e,t){return La(e,Do(e),t)};var Mo=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Fo=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Mo(t,Do(e)),e=bi(e);return t}:No,jo=Fo;var Uo=function(e,t){return La(e,jo(e),t)};var Vo=function(e,t,n){var r=t(e);return qa(e)?r:Mo(r,n(e))};var zo=function(e){return Vo(e,mo,Do)};var Bo=function(e){return Vo(e,wo,jo)},qo=oa(si,"DataView"),Ko=oa(si,"Promise"),Go=oa(si,"Set"),Ho=oa(si,"WeakMap"),Wo="[object Map]",Qo="[object Promise]",$o="[object Set]",Yo="[object WeakMap]",Jo="[object DataView]",Xo=Ji(qo),Zo=Ji(ua),eu=Ji(Ko),tu=Ji(Go),nu=Ji(Ho),ru=gi;(qo&&ru(new qo(new ArrayBuffer(1)))!=Jo||ua&&ru(new ua)!=Wo||Ko&&ru(Ko.resolve())!=Qo||Go&&ru(new Go)!=$o||Ho&&ru(new Ho)!=Yo)&&(ru=function(e){var t=gi(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ji(n):"";if(r)switch(r){case Xo:return Jo;case Zo:return Wo;case eu:return Qo;case tu:return $o;case nu:return Yo}return t});var iu=ru,au=Object.prototype.hasOwnProperty;var ou=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&au.call(e,"index")&&(n.index=e.index,n.input=e.input),n},uu=si.Uint8Array;var su=function(e){var t=new e.constructor(e.byteLength);return new uu(t).set(new uu(e)),t};var cu=function(e,t){var n=t?su(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},lu=/\w*$/;var fu=function(e){var t=new e.constructor(e.source,lu.exec(e));return t.lastIndex=e.lastIndex,t},hu=ci?ci.prototype:void 0,du=hu?hu.valueOf:void 0;var pu=function(e){return du?Object(du.call(e)):{}};var vu=function(e,t){var n=t?su(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var mu=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return su(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return cu(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vu(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return fu(e);case"[object Symbol]":return pu(e)}},yu=Object.create,gu=function(){function e(){}return function(t){if(!Gi(t))return{};if(yu)return yu(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ku=gu;var bu=function(e){return"function"!=typeof e.constructor||lo(e)?{}:ku(bi(e))};var wu=function(e){return wi(e)&&"[object Map]"==iu(e)},_u=io&&io.isMap,xu=_u?eo(_u):wu;var Eu=function(e){return wi(e)&&"[object Set]"==iu(e)},Iu=io&&io.isSet,Su=Iu?eo(Iu):Eu,Tu="[object Arguments]",Cu="[object Function]",Au="[object Object]",Nu={};Nu[Tu]=Nu["[object Array]"]=Nu["[object ArrayBuffer]"]=Nu["[object DataView]"]=Nu["[object Boolean]"]=Nu["[object Date]"]=Nu["[object Float32Array]"]=Nu["[object Float64Array]"]=Nu["[object Int8Array]"]=Nu["[object Int16Array]"]=Nu["[object Int32Array]"]=Nu["[object Map]"]=Nu["[object Number]"]=Nu[Au]=Nu["[object RegExp]"]=Nu["[object Set]"]=Nu["[object String]"]=Nu["[object Symbol]"]=Nu["[object Uint8Array]"]=Nu["[object Uint8ClampedArray]"]=Nu["[object Uint16Array]"]=Nu["[object Uint32Array]"]=!0,Nu["[object Error]"]=Nu[Cu]=Nu["[object WeakMap]"]=!1;var Ou=function e(t,n,r,i,a,o){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=a?r(t,i,a,o):r(t)),void 0!==u)return u;if(!Gi(t))return t;var f=qa(t);if(f){if(u=ou(t),!s)return Co(t,u)}else{var h=iu(t),d=h==Cu||"[object GeneratorFunction]"==h;if(Qa(t))return To(t,s);if(h==Au||h==Tu||d&&!a){if(u=c||d?{}:bu(t),!s)return c?Uo(t,_o(u,t)):Lo(t,yo(u,t))}else{if(!Nu[h])return a?t:{};u=mu(t,h,s)}}o||(o=new Aa);var p=o.get(t);if(p)return p;o.set(t,u),Su(t)?t.forEach((function(i){u.add(e(i,n,r,i,t,o))})):xu(t)&&t.forEach((function(i,a){u.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?Bo:zo:c?wo:mo)(t);return Na(v||t,(function(i,a){v&&(i=t[a=i]),Da(u,a,e(i,n,r,a,t,o))})),u};var Ru=function(e){return Ou(e,4)};var Pu=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Du=function(e){return"symbol"==typeof e||wi(e)&&"[object Symbol]"==gi(e)};function Lu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Lu.Cache||Sa),n}Lu.Cache=Sa;var Mu=Lu;var Fu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ju=/\\(\\)?/g,Uu=function(e){var t=Mu(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Fu,(function(e,n,r,i){t.push(r?i.replace(ju,"$1"):n||e)})),t})),Vu=Uu;var zu=function(e){if("string"==typeof e||Du(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Bu=ci?ci.prototype:void 0,qu=Bu?Bu.toString:void 0;var Ku=function e(t){if("string"==typeof t)return t;if(qa(t))return Pu(t,e)+"";if(Du(t))return qu?qu.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Gu=function(e){return null==e?"":Ku(e)};var Hu=function(e){return qa(e)?Pu(e,zu):Du(e)?[e]:Co(Vu(Gu(e)))};n(110);var Wu=function(e){return Ou(e,5)};function Qu(){return Qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(this,arguments)}function $u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Yu(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xu=(0,r.createContext)(void 0);Xu.displayName="FormikContext";Xu.Provider,Xu.Consumer;function Zu(){var e=(0,r.useContext)(Xu);return e||Ni(!1),e}var es=function(e){return Array.isArray(e)&&0===e.length},ts=function(e){return"function"===typeof e},ns=function(e){return null!==e&&"object"===typeof e},rs=function(e){return String(Math.floor(Number(e)))===e},is=function(e){return"[object String]"===Object.prototype.toString.call(e)},as=function(e){return 0===r.Children.count(e)},os=function(e){return ns(e)&&ts(e.then)};function us(e,t,n,r){void 0===r&&(r=0);for(var i=Hu(t);e&&r<i.length;)e=e[i[r++]];return r===i.length||e?void 0===e?n:e:n}function ss(e,t,n){for(var r=Ru(e),i=r,a=0,o=Hu(t);a<o.length-1;a++){var u=o[a],s=us(e,o.slice(0,a+1));if(s&&(ns(s)||Array.isArray(s)))i=i[u]=Ru(s);else{var c=o[a+1];i=i[u]=rs(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function cs(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],u=e[o];ns(u)?n.get(u)||(n.set(u,!0),r[o]=Array.isArray(u)?[]:{},cs(u,t,n,r[o])):r[o]=t}return r}var ls={},fs={};function hs(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,u=void 0!==o&&o,s=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,f=e.onSubmit,h=Yu(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Qu({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:f},h),p=(0,r.useRef)(d.initialValues),v=(0,r.useRef)(d.initialErrors||ls),m=(0,r.useRef)(d.initialTouched||fs),y=(0,r.useRef)(d.initialStatus),g=(0,r.useRef)(!1),k=(0,r.useRef)({});(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,r.useState)(0)[1],w=(0,r.useRef)({values:d.initialValues,errors:d.initialErrors||ls,touched:d.initialTouched||fs,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),_=w.current,x=(0,r.useCallback)((function(e){var t=w.current;w.current=function(e,t){switch(t.type){case"SET_VALUES":return Qu({},e,{values:t.payload});case"SET_TOUCHED":return Qu({},e,{touched:t.payload});case"SET_ERRORS":return Ai()(e.errors,t.payload)?e:Qu({},e,{errors:t.payload});case"SET_STATUS":return Qu({},e,{status:t.payload});case"SET_ISSUBMITTING":return Qu({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Qu({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Qu({},e,{values:ss(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Qu({},e,{touched:ss(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Qu({},e,{errors:ss(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Qu({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Qu({},e,{touched:cs(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Qu({},e,{isSubmitting:!1});default:return e}}(t,e),t!==w.current&&b((function(e){return e+1}))}),[]),E=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(ls):os(i)?i.then((function(e){n(e||ls)}),(function(e){r(e)})):n(i)}))}),[d.validate]),I=(0,r.useCallback)((function(e,t){var n=d.validationSchema,r=ts(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);var i=ds(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}(e,r);return new Promise((function(e,t){i.then((function(){e(ls)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return ss(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;us(t,o.path)||(t=ss(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(k.current[e].validate(t))}))}),[]),T=(0,r.useCallback)((function(e){var t=Object.keys(k.current).filter((function(e){return ts(k.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,us(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=ss(e,t[r],n)),e}),{})}))}),[S]),C=(0,r.useCallback)((function(e){return Promise.all([T(e),d.validationSchema?I(e):{},d.validate?E(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return ai.all([t,n,r],{arrayMerge:ps})}))}),[d.validate,d.validationSchema,T,E,I]),A=ms((function(e){return void 0===e&&(e=_.values),x({type:"SET_ISVALIDATING",payload:!0}),C(e).then((function(e){return g.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){u&&!0===g.current&&Ai()(p.current,d.initialValues)&&A(p.current)}),[u,A]);var N=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:m.current?m.current:d.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:d.initialStatus;p.current=t,v.current=n,m.current=r,y.current=i;var a=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(_.values,$);os(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,r.useEffect)((function(){!0!==g.current||Ai()(p.current,d.initialValues)||l&&(p.current=d.initialValues,N(),u&&A(p.current))}),[l,d.initialValues,N,u,A]),(0,r.useEffect)((function(){l&&!0===g.current&&!Ai()(v.current,d.initialErrors)&&(v.current=d.initialErrors||ls,x({type:"SET_ERRORS",payload:d.initialErrors||ls}))}),[l,d.initialErrors]),(0,r.useEffect)((function(){l&&!0===g.current&&!Ai()(m.current,d.initialTouched)&&(m.current=d.initialTouched||fs,x({type:"SET_TOUCHED",payload:d.initialTouched||fs}))}),[l,d.initialTouched]),(0,r.useEffect)((function(){l&&!0===g.current&&!Ai()(y.current,d.initialStatus)&&(y.current=d.initialStatus,x({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var O=ms((function(e){if(k.current[e]&&ts(k.current[e].validate)){var t=us(_.values,e),n=k.current[e].validate(t);return os(n)?(x({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),x({type:"SET_ISVALIDATING",payload:!1})}))):(x({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(x({type:"SET_ISVALIDATING",payload:!0}),I(_.values,e).then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:us(t,e)}}),x({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,r.useCallback)((function(e,t){var n=t.validate;k.current[e]={validate:n}}),[]),P=(0,r.useCallback)((function(e){delete k.current[e]}),[]),D=ms((function(e,t){return x({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?A(_.values):Promise.resolve()})),L=(0,r.useCallback)((function(e){x({type:"SET_ERRORS",payload:e})}),[]),M=ms((function(e,t){var r=ts(e)?e(_.values):e;return x({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?A(r):Promise.resolve()})),F=(0,r.useCallback)((function(e,t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=ms((function(e,t,r){return x({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?A(ss(_.values,e,t)):Promise.resolve()})),U=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!is(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,u=a.name,s=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(u||s),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(us(_.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&j(r,i)}),[j,_.values]),V=ms((function(e){if(is(e))return function(t){return U(t,e)};U(e)})),z=ms((function(e,t,n){return void 0===t&&(t=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?A(_.values):Promise.resolve()})),B=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));z(a,!0)}),[z]),q=ms((function(e){if(is(e))return function(t){return B(t,e)};B(e)})),K=(0,r.useCallback)((function(e){ts(e)?x({type:"SET_FORMIK_STATE",payload:e}):x({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),G=(0,r.useCallback)((function(e){x({type:"SET_STATUS",payload:e})}),[]),H=(0,r.useCallback)((function(e){x({type:"SET_ISSUBMITTING",payload:e})}),[]),W=ms((function(){return x({type:"SUBMIT_ATTEMPT"}),A().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Y()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return g.current&&x({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw x({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(x({type:"SUBMIT_FAILURE"}),t))throw e}))})),Q=ms((function(e){e&&e.preventDefault&&ts(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ts(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:N,validateForm:A,validateField:O,setErrors:L,setFieldError:F,setFieldTouched:z,setFieldValue:j,setStatus:G,setSubmitting:H,setTouched:D,setValues:M,setFormikState:K,submitForm:W},Y=ms((function(){return f(_.values,$)})),J=ms((function(e){e&&e.preventDefault&&ts(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ts(e.stopPropagation)&&e.stopPropagation(),N()})),X=(0,r.useCallback)((function(e){return{value:us(_.values,e),error:us(_.errors,e),touched:!!us(_.touched,e),initialValue:us(p.current,e),initialTouched:!!us(m.current,e),initialError:us(v.current,e)}}),[_.errors,_.touched,_.values]),Z=(0,r.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return z(e,t,n)},setError:function(t){return F(e,t)}}}),[j,z,F]),ee=(0,r.useCallback)((function(e){var t=ns(e),n=t?e.name:e,r=us(_.values,n),i={name:n,value:r,onChange:V,onBlur:q};if(t){var a=e.type,o=e.value,u=e.as,s=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===u&&s&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,V,_.values]),te=(0,r.useMemo)((function(){return!Ai()(p.current,_.values)}),[p.current,_.values]),ne=(0,r.useMemo)((function(){return"undefined"!==typeof s?te?_.errors&&0===Object.keys(_.errors).length:!1!==s&&ts(s)?s(d):s:_.errors&&0===Object.keys(_.errors).length}),[s,te,_.errors,d]);return Qu({},_,{initialValues:p.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:q,handleChange:V,handleReset:J,handleSubmit:Q,resetForm:N,setErrors:L,setFormikState:K,setFieldTouched:z,setFieldValue:j,setFieldError:F,setStatus:G,setSubmitting:H,setTouched:D,setValues:M,submitForm:W,validateForm:A,validateField:O,isValid:ne,dirty:te,unregisterField:P,registerField:R,getFieldProps:ee,getFieldMeta:X,getFieldHelpers:Z,validateOnBlur:a,validateOnChange:n,validateOnMount:u})}function ds(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||Ti(e)?ds(e):""!==e?e:void 0})):Ti(e[r])?t[r]=ds(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function ps(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?ai(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=ai(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var vs="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function ms(e){var t=(0,r.useRef)(e);return vs((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var ys=(0,r.forwardRef)((function(e,t){var n=e.action,i=Yu(e,["action"]),a=null!=n?n:"#",o=Zu(),u=o.handleReset,s=o.handleSubmit;return(0,r.createElement)("form",Qu({onSubmit:s,ref:t,onReset:u,action:a},i))}));ys.displayName="Form";var gs=function(e,t,n){var r=ks(e);return r.splice(t,0,n),r},ks=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Qu({},e,{length:t+1}))}return[]},bs=function(e,t){var n="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||ns(e)){var t=ks(e);return n(t)}return e}},ws=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i=bs(r,e),o=bs(t,e),u=ss(n.values,a,e(us(n.values,a))),s=r?i(us(n.errors,a)):void 0,c=t?o(us(n.touched,a)):void 0;return es(s)&&(s=void 0),es(c)&&(c=void 0),Qu({},n,{values:u,errors:r?ss(n.errors,a,s):n.errors,touched:t?ss(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(ks(t),[Wu(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ks(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ks(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return gs(n,e,t)}),(function(t){return gs(t,e,null)}),(function(t){return gs(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=ks(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t=r.length,r}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Ju(n)),n.pop=n.pop.bind(Ju(n)),n}$u(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ai()(us(e.formik.values,e.name),us(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?ks(n):[];return t||(t=r[e]),ts(r.splice)&&r.splice(e,1),ts(r.every)&&r.every((function(e){return void 0===e}))?[]:r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t.slice();return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,u=Qu({},e,{form:Yu(t.formik,["validate","validationSchema"]),name:o});return n?(0,r.createElement)(n,u):i?i(u):a?"function"===typeof a?a(u):as(a)?null:r.Children.only(a):null},t}(r.Component);ws.defaultProps={validateOnChange:!0};var _s=n.p+"static/media/x.8a76889d732c988942d0a1a991cba2d4.svg",xs="BookTrialModal_modal__ff5-A",Es="BookTrialModal_modalEnterActive__AvXEY",Is="BookTrialModal_modalExitActive__NsF7E",Ss="BookTrialModal_closeButton__F0ETU",Ts="BookTrialModal_title__BtS-v",Cs="BookTrialModal_scrollableFormArea__rCJey",As="BookTrialModal_caption__4ZtDO",Ns="BookTrialModal_teacherWrapper__1t-Q1",Os="BookTrialModal_teacherPhoto__7m8zo",Rs="BookTrialModal_teacherImage__m3O+S",Ps="BookTrialModal_teacherCaption__oIILg",Ds="BookTrialModal_teacherName__086VN",Ls="BookTrialModal_error__BDe61",Ms="BookTrialModal_radioWrapper__Fd07V",Fs="BookTrialModal_legend__tZ1kA",js="BookTrialModal_formControl__-Cmyb",Us="BookTrialModal_nameInputWrapper__JB8Qo",Vs="BookTrialModal_nameInput__eOwJb",zs="BookTrialModal_emailInputWrapper__t1SEi",Bs="BookTrialModal_emailInput__7Ocgf",qs="BookTrialModal_numberInputWrapper__6hcIa",Ks="BookTrialModal_numberInput__7RzZX",Gs="BookTrialModal_submitButton__bdfeE",Hs=Yr().shape({reason:Fr().required("Required"),name:Fr().required("Required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,{message:"Name may contain only letters, apostrophe, dash and spaces.",excludeEmptyString:!0}),email:Fr().email("Invalid email address").required("Required"),number:Fr().min(7,"Must contain 7 characters or more").required("Required")}),Ws=function(e){var t=e.teacherName,n=e.teacherPhoto,i=e.isModalOpen,a=e.setIsModalOpen,o=(0,r.useRef)(null),u=hs({initialValues:{reason:"",name:"",email:"",number:""},onSubmit:function(e,t){console.log(JSON.stringify(e,null,2)),t.resetForm({values:{reason:"",name:"",email:"",number:""}})},validationSchema:Hs}),s=function(e){var t=e.target;u.values.reason=t.value};return(0,ft.jsx)(jn,{mountOnEnter:!0,unmountOnExit:!0,in:i,nodeRef:o,timeout:{enter:700,exit:700},classNames:{enterActive:Es,exitActive:Is},children:(0,ft.jsxs)("form",{className:xs,ref:o,onSubmit:u.handleSubmit,children:[(0,ft.jsx)("button",{type:"button",className:Ss,onClick:function(){return a()},children:(0,ft.jsx)("img",{src:_s,alt:"close"})}),(0,ft.jsx)("h2",{className:Ts,children:"Book trial lesson"}),(0,ft.jsxs)("div",{className:Cs,children:[(0,ft.jsx)("p",{className:As,children:"Our experienced tutor will assess your current language level, discuss your learning goals, and tailor the lesson to your specific needs."}),(0,ft.jsxs)("div",{className:Ns,children:[(0,ft.jsx)("div",{className:Os,children:(0,ft.jsx)("img",{className:Rs,src:n,alt:"teacher"})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:Ps,children:"Your teacher"}),(0,ft.jsx)("span",{className:Ds,children:t})]})]}),(0,ft.jsxs)("fieldset",{className:Ms,onBlur:u.handleBlur,children:[(0,ft.jsx)("legend",{className:Fs,children:"What is your main reason for learning English?"}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{className:js,children:[(0,ft.jsx)("input",{type:"radio",id:"career",name:"reason",value:"Career and business",onChange:function(e){return s(e)}}),"Career and business"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{className:js,children:[(0,ft.jsx)("input",{type:"radio",id:"lesson",name:"reason",value:"Lesson for kids",onChange:function(e){return s(e)}}),"Lesson for kids"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{className:js,children:[(0,ft.jsx)("input",{type:"radio",id:"abroad",name:"reason",value:"Living abroad",onChange:function(e){return s(e)}}),"Living abroad"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{className:js,children:[(0,ft.jsx)("input",{type:"radio",id:"exams",name:"reason",value:"Exams and coursework",onChange:function(e){return s(e)}}),"Exams and coursework"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{className:js,children:[(0,ft.jsx)("input",{type:"radio",id:"hobby",name:"reason",value:"Culture, travel or hobby",onChange:function(e){return s(e)}}),"Culture, travel or hobby"]})}),u.errors.reason&&(0,ft.jsx)("span",{className:Ls,children:u.errors.reason})]}),(0,ft.jsxs)("label",{className:Us,children:[(0,ft.jsx)("input",{className:Vs,id:"name",name:"name",type:"name",placeholder:"Full Name",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.name}),u.errors.name&&u.touched.name&&(0,ft.jsx)("span",{className:Ls,children:u.errors.name})]}),(0,ft.jsxs)("label",{className:zs,children:[(0,ft.jsx)("input",{className:Bs,id:"email",name:"email",type:"email",placeholder:"Email",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.email}),u.errors.email&&u.touched.email&&(0,ft.jsx)("span",{className:Ls,children:u.errors.email})]}),(0,ft.jsxs)("label",{className:qs,children:[(0,ft.jsx)("input",{className:Ks,id:"number",name:"number",type:"text",placeholder:"Phone number",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.number}),u.errors.number&&u.touched.number&&(0,ft.jsx)("span",{className:Ls,children:u.errors.number})]})]}),(0,ft.jsx)("button",{className:Gs,type:"submit",children:"Book"})]})})},Qs="LoginModal_modal__RHsyG",$s="LoginModal_modalEnterActive__0mBGY",Ys="LoginModal_modalExitActive__9Mwhr",Js="LoginModal_closeButton__iNgxc",Xs="LoginModal_title__YJOTe",Zs="LoginModal_caption__quqE1",ec="LoginModal_error__7YaNI",tc="LoginModal_emailInputWrapper__tZx14",nc="LoginModal_emailInput__PLuu9",rc="LoginModal_passwordInputWrapper__mqQxv",ic="LoginModal_passwordInput__Q3bOl",ac="LoginModal_passwordShownButton__hxmkw",oc="LoginModal_submitButton__PKyRC";var uc=n.p+"static/media/eye-off.8866ee17a8445084c2644f76756a4fc7.svg";var sc=n.p+"static/media/eye-on.53efd1b8428705d6218db6cb58179a7e.svg",cc=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new fc;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},fc=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(I(Error)),hc=function(e){return function(e){var t=cc(e);return lc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},dc=function(e){try{return lc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=pc(e[n],t[n]));return e}var vc=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},mc=function(){try{return vc()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/learn-lingo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&dc(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},yc=function(e){var t,n;return null===(n=null===(t=mc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},gc=function(){var e;return null===(e=mc())||void 0===e?void 0:e.config},kc=function(e){var t;return null===(t=mc())||void 0===t?void 0:t["_".concat(e)]},bc=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function wc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hc(JSON.stringify({alg:"none",type:"JWT"})),hc(JSON.stringify(a)),""].join(".")}function _c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xc(){var e,t=null===(e=mc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ec(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ic(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Sc(){var e=_c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Tc(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Cc=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Ac.prototype.create),a}return y(n)}(I(Error)),Ac=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Cc(n,a,t)}}]),e}();var Nc=/\{\$([^}]+)}/g;function Oc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Dc(u)&&Dc(s)){if(!Pc(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Dc(e){return null!==e&&"object"===typeof e}function Lc(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Mc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Fc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function jc(e,t){var n=new Uc(e,t);return n.subscribe.bind(n)}var Uc=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Vc),void 0===r.error&&(r.error=Vc),void 0===r.complete&&(r.complete=Vc);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Vc(){}function zc(e){return e&&e._delegate?e._delegate:e}var Bc=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qc="[DEFAULT]",Kc=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new bc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qc})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===qc?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc;return this.component?this.component.multipleInstances?e:qc:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Gc,Hc,Wc=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Kc(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Qc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hc||(Hc={}));var $c={debug:Hc.DEBUG,verbose:Hc.VERBOSE,info:Hc.INFO,warn:Hc.WARN,error:Hc.ERROR,silent:Hc.SILENT},Yc=Hc.INFO,Jc=(Vn(Gc={},Hc.DEBUG,"log"),Vn(Gc,Hc.VERBOSE,"log"),Vn(Gc,Hc.INFO,"info"),Vn(Gc,Hc.WARN,"warn"),Vn(Gc,Hc.ERROR,"error"),Gc),Xc=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Jc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Zc=function(){function e(t){d(this,e),this.name=t,this._logLevel=Yc,this._logHandler=Xc,this._userLogHandler=null,Qc.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Hc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?$c[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hc.DEBUG].concat(t)),this._logHandler.apply(this,[this,Hc.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hc.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Hc.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hc.INFO].concat(t)),this._logHandler.apply(this,[this,Hc.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hc.WARN].concat(t)),this._logHandler.apply(this,[this,Hc.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hc.ERROR].concat(t)),this._logHandler.apply(this,[this,Hc.ERROR].concat(t))}}]),e}();function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl,rl,il=function(e,t){return t.some((function(t){return e instanceof t}))};var al=new WeakMap,ol=new WeakMap,ul=new WeakMap,sl=new WeakMap,cl=new WeakMap;var ll={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ol.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ul.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rl||(rl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pl(this),n),dl(al.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dl(e.apply(pl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pl(this),t].concat(r));return ul.set(a,t.sort?t.sort():[t]),dl(a)}}function hl(e){return"function"===typeof e?fl(e):(e instanceof IDBTransaction&&function(e){if(!ol.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ol.set(e,t)}}(e),il(e,nl||(nl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ll):e)}function dl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&al.set(t,e)})).catch((function(){})),cl.set(t,e),t}(e);if(sl.has(e))return sl.get(e);var t=hl(e);return t!==e&&(sl.set(e,t),cl.set(t,e)),t}var pl=function(e){return cl.get(e)};var vl,ml,yl=["get","getKey","getAll","getAllKeys","count"],gl=["put","add","delete","clear"],kl=new Map;function bl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(kl.get(t))return kl.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gl.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||yl.includes(n))){var a=function(){var e=rt(tt().mark((function e(t){var a,o,u,s,c,l,f=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return kl.set(t,a),a}}}ll=function(e){return tl(tl({},e),{},{get:function(t,n,r){return bl(t,n)||e.get(t,n,r)},has:function(t,n){return!!bl(t,n)||e.has(t,n)}})}(ll);var wl=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _l="@firebase/app",xl="0.9.17",El=new Zc("@firebase/app"),Il="[DEFAULT]",Sl=(Vn(vl={},_l,"fire-core"),Vn(vl,"@firebase/app-compat","fire-core-compat"),Vn(vl,"@firebase/analytics","fire-analytics"),Vn(vl,"@firebase/analytics-compat","fire-analytics-compat"),Vn(vl,"@firebase/app-check","fire-app-check"),Vn(vl,"@firebase/app-check-compat","fire-app-check-compat"),Vn(vl,"@firebase/auth","fire-auth"),Vn(vl,"@firebase/auth-compat","fire-auth-compat"),Vn(vl,"@firebase/database","fire-rtdb"),Vn(vl,"@firebase/database-compat","fire-rtdb-compat"),Vn(vl,"@firebase/functions","fire-fn"),Vn(vl,"@firebase/functions-compat","fire-fn-compat"),Vn(vl,"@firebase/installations","fire-iid"),Vn(vl,"@firebase/installations-compat","fire-iid-compat"),Vn(vl,"@firebase/messaging","fire-fcm"),Vn(vl,"@firebase/messaging-compat","fire-fcm-compat"),Vn(vl,"@firebase/performance","fire-perf"),Vn(vl,"@firebase/performance-compat","fire-perf-compat"),Vn(vl,"@firebase/remote-config","fire-rc"),Vn(vl,"@firebase/remote-config-compat","fire-rc-compat"),Vn(vl,"@firebase/storage","fire-gcs"),Vn(vl,"@firebase/storage-compat","fire-gcs-compat"),Vn(vl,"@firebase/firestore","fire-fst"),Vn(vl,"@firebase/firestore-compat","fire-fst-compat"),Vn(vl,"fire-js","fire-js"),Vn(vl,"firebase","fire-js-all"),vl),Tl=new Map,Cl=new Map;function Al(e,t){try{e.container.addComponent(t)}catch(n){El.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Nl(e,t){e.container.addOrOverwriteComponent(t)}function Ol(e){var t=e.name;if(Cl.has(t))return El.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cl.set(t,e);var n,r=T(Tl.values());try{for(r.s();!(n=r.n()).done;){Al(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Rl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il;Rl(e,t).clearInstance(n)}function Dl(){Cl.clear()}var Ll=(Vn(ml={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Vn(ml,"bad-app-name","Illegal App name: '{$appName}"),Vn(ml,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Vn(ml,"app-deleted","Firebase App named '{$appName}' already deleted"),Vn(ml,"no-options","Need to provide options, when not being deployed to hosting via source."),Vn(ml,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vn(ml,"invalid-log-argument","First argument to `onLog` must be null or a function."),Vn(ml,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Vn(ml,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Vn(ml,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Vn(ml,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ml),Ml=new Ac("app","Firebase",Ll),Fl=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bc("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ml.create("app-deleted",{appName:this._name})}}]),e}(),jl="10.3.0";function Ul(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Il,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ml.create("bad-app-name",{appName:String(i)});if(n||(n=gc()),!n)throw Ml.create("no-options");var a=Tl.get(i);if(a){if(Pc(n,a.options)&&Pc(r,a.config))return a;throw Ml.create("duplicate-app",{appName:i})}var o,u=new Wc(i),s=T(Cl.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Fl(n,r,u);return Tl.set(i,l),l}function Vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il,t=Tl.get(e);if(!t&&e===Il&&gc())return Ul();if(!t)throw Ml.create("no-app",{appName:e});return t}function zl(){return Array.from(Tl.values())}function Bl(e){return ql.apply(this,arguments)}function ql(){return ql=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Tl.has(n)){e.next=6;break}return Tl.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Kl(e,t,n){var r,i=null!==(r=Sl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void El.warn(u.join(" "))}Ol(new Bc("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Gl(e,t){if(null!==e&&"function"!==typeof e)throw Ml.create("invalid-log-argument");!function(e,t){var n,r=T(Qc);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=$c[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Hc[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Hl(e){var t;t=e,Qc.forEach((function(e){e.setLogLevel(t)}))}var Wl="firebase-heartbeat-database",Ql=1,$l="firebase-heartbeat-store",Yl=null;function Jl(){return Yl||(Yl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=dl(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(dl(u.result),e.oldVersion,e.newVersion,dl(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Wl,Ql,{upgrade:function(e,t){if(0===t)e.createObjectStore($l)}}).catch((function(e){throw Ml.create("idb-open",{originalErrorMessage:e.message})}))),Yl}function Xl(e){return Zl.apply(this,arguments)}function Zl(){return Zl=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jl();case 3:return n=e.sent,e.next=6,n.transaction($l).objectStore($l).get(nf(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Cc?El.warn(e.t0.message):(i=Ml.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),El.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Zl.apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jl();case 3:return r=e.sent,i=r.transaction($l,"readwrite"),a=i.objectStore($l),e.next=8,a.put(n,nf(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Cc?El.warn(e.t0.message):(o=Ml.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),El.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),tf.apply(this,arguments)}function nf(e){return"".concat(e.name,"!").concat(e.options.appId)}var rf=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new sf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=rt(tt().mark((function e(){var t,n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=af(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=af(),n=of(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=hc(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function af(){return(new Date).toISOString().substring(0,10)}function of(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),cf(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),cf(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var uf,sf=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xl(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ef(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ef(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function cf(e){return hc(JSON.stringify({version:2,heartbeats:e})).length}uf="",Ol(new Bc("platform-logger",(function(e){return new wl(e)}),"PRIVATE")),Ol(new Bc("heartbeat",(function(e){return new rf(e)}),"PRIVATE")),Kl(_l,xl,uf),Kl(_l,xl,"esm2017"),Kl("fire-js","");function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ff,hf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},df="EMAIL_SIGNIN",pf="PASSWORD_RESET",vf="RECOVER_EMAIL",mf="REVERT_SECOND_FACTOR_ADDITION",yf="VERIFY_AND_CHANGE_EMAIL",gf="VERIFY_EMAIL";function kf(e){return void 0!==e&&void 0!==e.getResponse}function bf(e){return void 0!==e&&void 0!==e.enterprise}var wf=y((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function _f(){return Vn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xf=function(){var e;return Vn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Vn(e,"argument-error",""),Vn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Vn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Vn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Vn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Vn(e,"cordova-not-ready","Cordova framework is not ready."),Vn(e,"cors-unsupported","This browser is not supported."),Vn(e,"credential-already-in-use","This credential is already associated with a different user account."),Vn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Vn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Vn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Vn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Vn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Vn(e,"email-already-in-use","The email address is already in use by another account."),Vn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Vn(e,"expired-action-code","The action code has expired."),Vn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Vn(e,"internal-error","An internal AuthError has occurred."),Vn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Vn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Vn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Vn(e,"invalid-auth-event","An internal AuthError has occurred."),Vn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Vn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Vn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Vn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Vn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Vn(e,"invalid-email","The email address is badly formatted."),Vn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Vn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Vn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Vn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Vn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Vn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Vn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Vn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Vn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Vn(e,"wrong-password","The password is invalid or the user does not have a password."),Vn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Vn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Vn(e,"invalid-provider-id","The specified provider ID is invalid."),Vn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Vn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Vn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Vn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Vn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Vn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Vn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Vn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Vn(e,"missing-continue-uri","A continue URL must be provided in the request."),Vn(e,"missing-iframe-start","An internal AuthError has occurred."),Vn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Vn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Vn(e,"missing-password","A non-empty password must be provided"),Vn(e,"missing-multi-factor-info","No second factor identifier is provided."),Vn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Vn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Vn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Vn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Vn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Vn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Vn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Vn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Vn(e,"no-auth-event","An internal AuthError has occurred."),Vn(e,"no-such-provider","User was not linked to an account with the given provider."),Vn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Vn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Vn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Vn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Vn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Vn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Vn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Vn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Vn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Vn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Vn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Vn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Vn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Vn(e,"timeout","The operation has timed out."),Vn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Vn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Vn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Vn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Vn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Vn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Vn(e,"unverified-email","The operation requires a verified email."),Vn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Vn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Vn(e,"user-disabled","The user account has been disabled by an administrator."),Vn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Vn(e,"user-signed-out",""),Vn(e,"weak-password","The password must be 6 characters long or more."),Vn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Vn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Vn(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Vn(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Vn(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Vn(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Vn(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Vn(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Vn(e,"invalid-req-type","Invalid request parameters."),Vn(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Vn(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Vn(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Ef=_f,If=new Ac("auth","Firebase",_f()),Sf=new Zc("@firebase/auth");function Tf(e){if(Sf.logLevel<=Hc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sf.warn.apply(Sf,["Auth (".concat(jl,"): ").concat(e)].concat(n))}}function Cf(e){if(Sf.logLevel<=Hc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sf.error.apply(Sf,["Auth (".concat(jl,"): ").concat(e)].concat(n))}}function Af(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pf.apply(void 0,[e].concat(n))}function Nf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pf.apply(void 0,[e].concat(n))}function Of(e,t,n){var r=Object.assign(Object.assign({},Ef()),Vn({},t,n));return new Ac("auth","Firebase",r).create(t,{appName:e.name})}function Rf(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Af(e,"argument-error"),Of(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return If.create.apply(If,[e].concat(n))}function Df(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pf.apply(void 0,[t].concat(r))}}function Lf(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Cf(t),new Error(t)}function Mf(e,t){e||Lf(t)}function Ff(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jf(){return"http:"===Uf()||"https:"===Uf()}function Uf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vf=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Mf(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_c())||Ic()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jf()||Ec()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function zf(e,t){Mf(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bf=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Lf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Lf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Lf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qf=(Vn(ff={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Vn(ff,"MISSING_CUSTOM_TOKEN","internal-error"),Vn(ff,"INVALID_IDENTIFIER","invalid-email"),Vn(ff,"MISSING_CONTINUE_URI","internal-error"),Vn(ff,"INVALID_PASSWORD","wrong-password"),Vn(ff,"MISSING_PASSWORD","missing-password"),Vn(ff,"EMAIL_EXISTS","email-already-in-use"),Vn(ff,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Vn(ff,"INVALID_IDP_RESPONSE","invalid-credential"),Vn(ff,"INVALID_PENDING_TOKEN","invalid-credential"),Vn(ff,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Vn(ff,"MISSING_REQ_TYPE","internal-error"),Vn(ff,"EMAIL_NOT_FOUND","user-not-found"),Vn(ff,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Vn(ff,"EXPIRED_OOB_CODE","expired-action-code"),Vn(ff,"INVALID_OOB_CODE","invalid-action-code"),Vn(ff,"MISSING_OOB_CODE","internal-error"),Vn(ff,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Vn(ff,"INVALID_ID_TOKEN","invalid-user-token"),Vn(ff,"TOKEN_EXPIRED","user-token-expired"),Vn(ff,"USER_NOT_FOUND","user-token-expired"),Vn(ff,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Vn(ff,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Vn(ff,"INVALID_CODE","invalid-verification-code"),Vn(ff,"INVALID_SESSION_INFO","invalid-verification-id"),Vn(ff,"INVALID_TEMPORARY_PROOF","invalid-credential"),Vn(ff,"MISSING_SESSION_INFO","missing-verification-id"),Vn(ff,"SESSION_EXPIRED","code-expired"),Vn(ff,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Vn(ff,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Vn(ff,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Vn(ff,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Vn(ff,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Vn(ff,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Vn(ff,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Vn(ff,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Vn(ff,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Vn(ff,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Vn(ff,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Vn(ff,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Vn(ff,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Vn(ff,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Vn(ff,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Vn(ff,"MISSING_CLIENT_TYPE","missing-client-type"),Vn(ff,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Vn(ff,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Vn(ff,"INVALID_REQ_TYPE","invalid-req-type"),ff),Kf=new Vf(3e4,6e4);function Gf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hf(e,t,n,r){return Wf.apply(this,arguments)}function Wf(){return Wf=rt(tt().mark((function e(t,n,r,i){var a,o=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qf(t,a,rt(tt().mark((function e(){var a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Lc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bf.fetch()(Xf(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Qf(e,t,n){return $f.apply(this,arguments)}function $f(){return $f=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qf),n),e.prev=2,a=new Zf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw eh(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw eh(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw eh(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw eh(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Of(t,p,d);case 34:Af(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Cc)){e.next=41;break}throw e.t0;case 41:Af(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),$f.apply(this,arguments)}function Yf(e,t,n,r){return Jf.apply(this,arguments)}function Jf(){return Jf=rt(tt().mark((function e(t,n,r,i){var a,o,u=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Hf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Af(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Xf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?zf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Zf=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Nf(n.auth,"network-request-failed"))}),Kf.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function eh(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Nf(e,t,r);return i.customData._tokenResponse=n,i}function th(e){return nh.apply(this,arguments)}function nh(){return nh=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hf(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"GET","/v2/recaptchaConfig",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(e,t){return sh.apply(this,arguments)}function sh(){return sh=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hh(){return hh=rt(tt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=zc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Df((a=ph(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:fh(dh(a.auth_time)),issuedAtTime:fh(dh(a.iat)),expirationTime:fh(dh(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e){return 1e3*Number(e)}function ph(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{var a=dc(r);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(o){return Cf("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=rt(tt().mark((function e(t,n){var r=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Cc&&yh(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),mh.apply(this,arguments)}function yh(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var gh=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),kh=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function bh(e){return wh.apply(this,arguments)}function wh(){return wh=rt(tt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,vh(t,ch(r,{idToken:i}));case 6:Df(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=lf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=xh(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new kh(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}function _h(){return(_h=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zc(t),e.next=3,bh(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Eh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf(t,{},rt(tt().mark((function e(){var r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Xf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bf.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}var Sh=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Df(e.idToken,"internal-error"),Df("undefined"!==typeof e.idToken,"internal-error"),Df("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ph(e);return Df(t,"internal-error"),Df("undefined"!==typeof t.exp,"internal-error"),Df("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=rt(tt().mark((function e(t){var n,r=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Df(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eh(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Lf("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Df("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Df("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Df("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Th(e,t){Df("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ch=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=lf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new kh(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vh(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Df(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hh.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _h.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Df(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Df(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=rt(tt().mark((function e(t){var n,r,i=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,bh(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,vh(this,ah(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Df(k&&x,t,"internal-error");var E=Sh.fromJSON(this.name,x);Df("string"===typeof k,t,"internal-error"),Th(f,t.name),Th(h,t.name),Df("boolean"===typeof b,t,"internal-error"),Df("boolean"===typeof w,t,"internal-error"),Th(d,t.name),Th(p,t.name),Th(v,t.name),Th(m,t.name),Th(y,t.name),Th(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=rt(tt().mark((function t(n,r){var i,a,o,u=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Sh).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,bh(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ah=new Map;function Nh(e){Mf(e instanceof Function,"Expected a class definition");var t=Ah.get(e);return t?(Mf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ah.set(e,t),t)}var Oh=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Oh.type="NONE";var Rh=Oh;function Ph(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Dh=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ph(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ph("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ch._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=rt(tt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nh(Rh),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nh(Rh),u=Ph(i,n.config.apiKey,n.name),s=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ch._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lh(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zh(t))return"Blackberry";if(Bh(t))return"Webos";if(Fh(t))return"Safari";if((t.includes("chrome/")||jh(t))&&!t.includes("edge/"))return"Chrome";if(Vh(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/firefox\//i.test(e)}function Fh(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/crios\//i.test(e)}function Uh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/iemobile/i.test(e)}function Vh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/android/i.test(e)}function zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/blackberry/i.test(e)}function Bh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/webos/i.test(e)}function qh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Kh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return qh(e)||Vh(e)||Bh(e)||zh(e)||/windows phone/i.test(e)||Uh(e)}function Gh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lh(_c());break;case"Worker":t="".concat(Lh(_c()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(jl,"/").concat(r)}var Hh=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=rt(tt().mark((function e(t){var n,r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wh(e){return Qh.apply(this,arguments)}function Qh(){return Qh=rt(tt().mark((function e(t){var n,r=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hf(t,"GET","/v2/passwordPolicy",Gf(t,n)));case 2:case"end":return e.stop()}}),e)}))),Qh.apply(this,arguments)}var $h=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return y(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Yh=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xh(this),this.idTokenSubscription=new Xh(this),this.beforeStateQueue=new Hh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=If,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nh(t)),this._initializationPromise=this.queue(rt(tt().mark((function r(){var i,a;return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Dh.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=rt(tt().mark((function e(t){var n,r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Df(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bh(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?zc(t):null)&&Df(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=rt(tt().mark((function e(t){var n,r=this,i=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Df(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(rt(tt().mark((function n(){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nh(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(this);case 2:t=e.sent,n=new $h(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ac("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Df(n=t&&Nh(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Dh.create(this,[Nh(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=rt(tt().mark((function e(t){var n=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Df(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Df(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gh(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Tf("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jh(e){return zc(e)}var Xh=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=jc((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return Df(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Zh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Nf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ed(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var td=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=Jh(t)}return y(e,[{key:"verify",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;bf(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=rt(tt().mark((function e(n,r){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rh(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new wf(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&bf(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Zh("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=rt(tt().mark((function e(t,n,r){var i,a,o,u,s=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new td(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),rd.apply(this,arguments)}function id(e,t,n){var r=Jh(e);Df(r._canInitEmulator,r,"emulator-config-failed"),Df(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ad(t),o=function(e){var t=ad(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:od(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:od(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ad(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function od(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ud=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return Lf("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Lf("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Lf("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Lf("not implemented")}}]),e}();function sd(e,t){return cd.apply(this,arguments)}function cd(){return cd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:resetPassword",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){return fd.apply(this,arguments)}function fd(){return fd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e,t){return dd.apply(this,arguments)}function dd(){return dd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:update",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithPassword",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){return yd.apply(this,arguments)}function yd(){return yd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:sendOobCode",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){return kd.apply(this,arguments)}function kd(){return kd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",md(t,n));case 1:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",md(t,n));case 1:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function _d(e,t){return xd.apply(this,arguments)}function xd(){return xd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",md(t,n));case 1:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function Ed(e,t){return Id.apply(this,arguments)}function Id(){return Id=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",md(t,n));case 1:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Sd(e,t){return Td.apply(this,arguments)}function Td(){return Td=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithEmailLink",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Cd(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithEmailLink",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}var Nd=function(e){k(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,nd(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",pd(t,i));case 11:return e.abrupt("return",pd(t,r).catch(function(){var e=rt(tt().mark((function e(n){var i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,nd(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",pd(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Sd(t,{email:this._email,oobCode:this._password}));case 13:Af(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ld(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Cd(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Af(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ud);function Od(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithIdp",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}var Pd=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Od(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Od(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Od(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Af("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=lf(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ud);function Dd(e,t){return Ld.apply(this,arguments)}function Ld(){return Ld=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:sendVerificationCode",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}function Md(){return Md=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithPhoneNumber",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(){return Fd=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(t,"POST","/v1/accounts:signInWithPhoneNumber",Gf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw eh(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}var jd=Vn({},"USER_NOT_FOUND","user-not-found");function Ud(){return Ud=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithPhoneNumber",Gf(t,r),jd));case 2:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}var Vd=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Md.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fd.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ud.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ud);var zd=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=Mc(Fc(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Df(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Mc(Fc(e)).link,n=t?Mc(Fc(t)).deep_link_id:null,r=Mc(Fc(e)).deep_link_id;return(r?Mc(Fc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Bd=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return Nd._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=zd.parseLink(t);return Df(n,"argument-error"),Nd._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Bd.PROVIDER_ID="password",Bd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var qd=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Kd=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(qd),Gd=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Df(e.idToken||e.accessToken,"argument-error"),Pd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Df("providerId"in t&&"signInMethod"in t,"argument-error"),Pd._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Kd),Hd=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return Pd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Kd);Hd.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hd.PROVIDER_ID="facebook.com";var Wd=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return Pd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Kd);Wd.GOOGLE_SIGN_IN_METHOD="google.com",Wd.PROVIDER_ID="google.com";var Qd=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return Pd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Kd);Qd.GITHUB_SIGN_IN_METHOD="github.com",Qd.PROVIDER_ID="github.com";var $d=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Od(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Od(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Od(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ud),Yd=function(e){k(n,e);var t=x(n);function n(e){return d(this,n),Df(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$d.fromJSON(e);return Df(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $d._create(r,n)}catch(i){return null}}}]),n}(qd),Jd=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return Pd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Kd);function Xd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signUp",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}Jd.TWITTER_SIGN_IN_METHOD="twitter.com",Jd.PROVIDER_ID="twitter.com";var ep=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=rt(tt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ch._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tp(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=rt(tt().mark((function t(n,r,i){var a;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tp(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function np(){return np=rt(tt().mark((function e(t){var n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jh(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ep({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Xd(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ep._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}var rp=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Cc);function ip(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw rp._fromErrorAndOperation(e,n,t,r);throw n}))}function ap(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function op(e,t){return up.apply(this,arguments)}function up(){return up=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zc(t),e.next=3,lp(!0,r,n);case 3:return e.t0=uh,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ap(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=rt(tt().mark((function e(t,n){var r,i,a=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=vh,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ep._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t,n){return fp.apply(this,arguments)}function fp(){return(fp=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bh(n);case 2:i=ap(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Df(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return dp=rt(tt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,vh(t,ip(i,a,n,t),r);case 6:return Df((o=e.sent).idToken,i,"internal-error"),Df(u=ph(o.idToken),i,"internal-error"),s=u.sub,Df(t.uid===s,i,"user-mismatch"),e.abrupt("return",ep._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Af(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),dp.apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=rt(tt().mark((function e(t,n){var r,i,a,o,u=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ip(t,i,n);case 4:return a=e.sent,e.next=7,ep._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return yp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pp(Jh(t),n));case 1:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t){return kp.apply(this,arguments)}function kp(){return(kp=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zc(t),e.next=3,lp(!1,r,n.providerId);case 3:return e.abrupt("return",sp(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bp(e,t){return wp.apply(this,arguments)}function wp(){return(wp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hp(zc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _p(e,t){return xp.apply(this,arguments)}function xp(){return xp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(t,"POST","/v1/accounts:signInWithCustomToken",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function Ep(){return Ep=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jh(t),e.next=3,_p(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ep._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}var Ip=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Sp._fromServerResponse(e,t):"totpInfo"in t?Tp._fromServerResponse(e,t):Af(e,"internal-error")}}]),e}(),Sp=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ip),Tp=function(e){k(n,e);var t=x(n);function n(e){return d(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ip);function Cp(e,t,n){var r;Df((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Df("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Df(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Df(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ap(e){return Np.apply(this,arguments)}function Np(){return Np=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Jh(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Op(){return Op=rt(tt().mark((function e(t,n,r){var i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Jh(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,nd(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Cp(a,u,r),e.next=9,bd(a,u);case 9:e.next=14;break;case 11:return r&&Cp(a,o,r),e.next=14,bd(a,o).catch(function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,nd(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Cp(a,n,r),e.next=8,bd(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Rp(){return Rp=rt(tt().mark((function e(t,n,r){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(zc(t),{oobCode:n,newPassword:r}).catch(function(){var e=rt(tt().mark((function e(n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Ap(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Pp(){return Pp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hd(zc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Dp(e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zc(t),e.next=3,sd(r,{oobCode:n});case 3:i=e.sent,Df(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Df(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Df(i.mfaInfo,r,"internal-error");case 13:Df(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ip._fromServerResponse(Jh(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}function Mp(){return Mp=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dp(zc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function Fp(e,t,n){return jp.apply(this,arguments)}function jp(){return jp=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c,l;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Jh(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,nd(a,o,"signUpPassword");case 5:s=e.sent,u=Xd(a,s),e.next=10;break;case 9:u=Xd(a,o).catch(function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,nd(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Xd(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Ap(t),e}));case 12:return c=e.sent,e.next=15,ep._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Up(e,t,n){return mp(zc(e),Bd.credential(t,n)).catch(function(){var t=rt(tt().mark((function t(n){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Ap(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function Vp(){return Vp=rt(tt().mark((function e(t,n,r){var i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Df(t.handleCodeInApp,a,"argument-error"),t&&Cp(a,e,t)},a=Jh(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,nd(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,_d(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,_d(a,o).catch(function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,nd(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,_d(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function zp(){return zp=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zc(t),Df((a=Bd.credentialWithLink(n,r||Ff()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",mp(i,a));case 4:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Bp(e,t){return qp.apply(this,arguments)}function qp(){return qp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:createAuthUri",Gf(t,n)));case 1:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Kp(){return Kp=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jf()?Ff():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Bp(zc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Gp(){return(Gp=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Cp(r.auth,a,n),e.next=8,gd(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hp(){return(Hp=rt(tt().mark((function e(t,n,r){var i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Cp(i.auth,o,r),e.next=8,Ed(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e,t){return Yp.apply(this,arguments)}function Yp(){return(Yp=rt(tt().mark((function e(t,n){var r,i,a,o,u,s,c;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=zc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,vh(a,Wp(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jp(e,t,n){return Xp.apply(this,arguments)}function Xp(){return Xp=rt(tt().mark((function e(t,n,r){var i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,vh(t,ld(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}var Zp=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ev=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(Zp),tv=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(Zp),nv=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(ev),rv=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(Zp),iv=function(e){k(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(ev);function av(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ph(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Zp(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new tv(a,i);case"github.com":return new nv(a,i);case"google.com":return new rv(a,i);case"twitter.com":return new iv(a,i,e.screenName||null);case"custom":case"anonymous":return new Zp(a,null);default:return new Zp(a,r,i)}}(n)}var ov=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:Vn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),uv=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Jh(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ip._fromServerResponse(r,e)}));Df(i.mfaPendingCredential,r,"internal-error");var o=ov._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=rt(tt().mark((function e(t){var a,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ep._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Df(n.user,r,"internal-error"),e.abrupt("return",ep._forOperation(n.user,n.operationType,u));case 17:Af(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function sv(e,t){return Hf(e,"POST","/v2/accounts/mfaEnrollment:start",Gf(e,t))}function cv(e,t){return Hf(e,"POST","/v2/accounts/mfaEnrollment:start",Gf(e,t))}function lv(e,t){return Hf(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gf(e,t))}function fv(e,t){return Hf(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Gf(e,t))}var hv=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ip._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ov,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,vh(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,vh(this.user,fv(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dv=new WeakMap;var pv="__sak",vv=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pv,"1"),this.storage.removeItem(pv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var mv=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_c();return Fh(e)||qh(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Kh(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Sc()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=rt(tt().mark((function e(t,r){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rt(tt().mark((function e(t){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vv);mv.type="LOCAL";var yv=mv,gv=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vv);gv.type="SESSION";var kv=gv;function bv(e){return Promise.all(e.map(function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wv=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=rt(tt().mark((function e(t){var n,r,i,a,o,u,s,c;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bv(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function _v(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wv.receivers=[];var xv=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=_v("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ev(){return window}function Iv(e){Ev().location.href=e}function Sv(){return"undefined"!==typeof Ev().WorkerGlobalScope&&"function"===typeof Ev().importScripts}function Tv(){return Cv.apply(this,arguments)}function Cv(){return(Cv=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Av(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Nv="firebaseLocalStorageDb",Ov="firebaseLocalStorage",Rv="fbase_key",Pv=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Dv(e,t){return e.transaction([Ov],t?"readwrite":"readonly").objectStore(Ov)}function Lv(){var e=indexedDB.deleteDatabase(Nv);return new Pv(e).toPromise()}function Mv(){var e=indexedDB.open(Nv,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ov,{keyPath:Rv})}catch(r){n(r)}})),e.addEventListener("success",rt(tt().mark((function n(){var r;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ov)){n.next=12;break}return r.close(),n.next=5,Lv();case 5:return n.t0=t,n.next=8,Mv();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Fv(e,t,n){return jv.apply(this,arguments)}function jv(){return jv=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dv(t,!0).put((Vn(i={},Rv,n),Vn(i,"value",r),i)),e.abrupt("return",new Pv(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Uv(e,t){return Vv.apply(this,arguments)}function Vv(){return Vv=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t,!1).get(n),e.next=3,new Pv(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Vv.apply(this,arguments)}function zv(e,t){var n=Dv(e,!0).delete(t);return new Pv(n).toPromise()}var Bv=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Mv();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sv()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=rt(tt().mark((function e(){var t=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wv._getInstance(Sv()?self:null),this.receiver._subscribe("keyChanged",function(){var e=rt(tt().mark((function e(n,r){var i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=rt(tt().mark((function e(){var t,n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tv();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xv(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Av()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Mv();case 5:return t=e.sent,e.next=8,Fv(t,pv,"1");case 8:return e.next=10,zv(t,pv);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=rt(tt().mark((function e(t,n){var r=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Fv(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Uv(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rt(tt().mark((function e(t){var n=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return zv(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Dv(e,!1).getAll();return new Pv(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Bv.type="LOCAL";var qv=Bv;function Kv(e,t){return Hf(e,"POST","/v2/accounts/mfaSignIn:start",Gf(e,t))}function Gv(e,t){return Hf(e,"POST","/v2/accounts/mfaSignIn:finalize",Gf(e,t))}var Hv=1e12,Wv=function(){function e(t){d(this,e),this.auth=t,this.counter=Hv,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Qv(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Hv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Hv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Hv,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qv=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Df(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var $v=ed("rcb"),Yv=new Vf(3e4,6e4),Jv=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ev().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Df(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&kf(Ev().grecaptcha)?Promise.resolve(Ev().grecaptcha):new Promise((function(r,i){var a=Ev().setTimeout((function(){i(Nf(e,"network-request-failed"))}),Yv.get());Ev()[$v]=function(){Ev().clearTimeout(a),delete Ev()[$v];var o=Ev().grecaptcha;if(o&&kf(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Nf(e,"internal-error"))},Zh("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Lc({onload:$v,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Nf(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ev().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Xv=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Wv(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Zv="recaptcha",em={theme:"light",type:"image"},tm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},em);d(this,e),this.parameters=r,this.type=Zv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jh(t),this.isInvisible="invisible"===this.parameters.size,Df("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Df(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xv:new Jv,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Df(!this.parameters.sitekey,this.auth,"argument-error"),Df(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Df("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ev()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Df(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df(jf()&&!Sv(),this.auth,"internal-error"),e.next=3,nm();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,th(this.auth);case 8:Df(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Df(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function nm(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var rm=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=Vd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function im(){return im=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jh(t),e.next=3,sm(i,n,zc(r));case 3:return a=e.sent,e.abrupt("return",new rm(a,(function(e){return mp(i,e)})));case 5:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t,n){return om.apply(this,arguments)}function om(){return(om=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zc(t),e.next=3,lp(!1,i,"phone");case 3:return e.next=5,sm(i.auth,n,zc(r));case 5:return a=e.sent,e.abrupt("return",new rm(a,(function(e){return gp(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function um(){return(um=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zc(t),e.next=3,sm(i.auth,n,zc(r));case 3:return a=e.sent,e.abrupt("return",new rm(a,(function(e){return bp(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sm(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Df("string"===typeof a,t,"argument-error"),Df(r.type===Zv,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Df("enroll"===u.type,t,"internal-error"),e.next=13,sv(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Df("signin"===u.type,t,"internal-error"),Df(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Kv(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Dd(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cm.apply(this,arguments)}function lm(){return(lm=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sp(zc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fm=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Jh(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return sm(this.auth,e,zc(t))}}],[{key:"credential",value:function(e,t){return Vd._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Vd._fromTokenResponse(n,r):null}}]),e}();function hm(e,t){return t?Nh(t):(Df(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fm.PROVIDER_ID="phone",fm.PHONE_SIGN_IN_METHOD="phone";var dm=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Od(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Od(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Od(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ud);function pm(e){return pp(e.auth,new dm(e),e.bypassAuthState)}function vm(e){var t=e.auth,n=e.user;return Df(n,t,"internal-error"),hp(n,new dm(e),e.bypassAuthState)}function mm(e){return ym.apply(this,arguments)}function ym(){return ym=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Df(r=t.user,n,"internal-error"),e.abrupt("return",sp(r,new dm(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}var gm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=rt(tt().mark((function t(n,r){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=rt(tt().mark((function e(t){var n,r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pm;case"linkViaPopup":case"linkViaRedirect":return mm;case"reauthViaPopup":case"reauthViaRedirect":return vm;default:Af(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Mf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Mf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),km=new Vf(2e3,1e4);function bm(e,t,n){return wm.apply(this,arguments)}function wm(){return wm=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jh(t),Rf(t,n,qd),a=hm(i,r),o=new Im(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function _m(){return(_m=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf((i=zc(t)).auth,n,qd),a=hm(i.auth,r),o=new Im(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xm(e,t,n){return Em.apply(this,arguments)}function Em(){return(Em=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf((i=zc(t)).auth,n,qd),a=hm(i.auth,r),o=new Im(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Im=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return y(n,[{key:"executeNotNull",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Df(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=rt(tt().mark((function e(){var t,n=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mf(1===this.filter.length,"Popup operations only handle one event"),t=_v(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Nf(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Nf(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Nf(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,km.get())}()}}]),n}(gm);Im.currentPopupAction=null;var Sm="pendingRedirect",Tm=new Map,Cm=function(e){k(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=rt(tt().mark((function e(){var t,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Tm.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Am(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Un(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Tm.set(this.auth._key(),t);case 21:return this.bypassAuthState||Tm.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=rt(tt().mark((function e(t){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Un(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Un(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gm);function Am(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lm(n),i=Dm(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Om(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t)._set(Lm(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Pm(e,t){Tm.set(e._key(),t)}function Dm(e){return Nh(e._redirectPersistence)}function Lm(e){return Ph(Sm,e.config.apiKey,e.name)}function Mm(e,t,n){return function(e,t,n){return Fm.apply(this,arguments)}(e,t,n)}function Fm(){return Fm=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jh(t),Rf(t,n,qd),e.next=4,i._initializationPromise;case 4:return a=hm(i,r),e.next=7,Om(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function jm(e,t,n){return function(e,t,n){return Um.apply(this,arguments)}(e,t,n)}function Um(){return(Um=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf((i=zc(t)).auth,n,qd),e.next=4,i.auth._initializationPromise;case 4:return a=hm(i.auth,r),e.next=7,Om(a,i.auth);case 7:return e.next=9,Hm(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vm(e,t,n){return function(e,t,n){return zm.apply(this,arguments)}(e,t,n)}function zm(){return(zm=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf((i=zc(t)).auth,n,qd),e.next=4,i.auth._initializationPromise;case 4:return a=hm(i.auth,r),e.next=7,lp(!1,i,n.providerId);case 7:return e.next=9,Om(a,i.auth);case 9:return e.next=11,Hm(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bm(e,t){return qm.apply(this,arguments)}function qm(){return qm=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jh(t)._initializationPromise;case 2:return e.abrupt("return",Km(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Km(e,t){return Gm.apply(this,arguments)}function Gm(){return Gm=rt(tt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Jh(t),a=hm(i,n),o=new Cm(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Gm.apply(this,arguments)}function Hm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_v("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qm=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ym(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ym(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nf(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($m(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add($m(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function $m(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ym(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Jm(e){return Xm.apply(this,arguments)}function Xm(){return Xm=rt(tt().mark((function e(t){var n,r=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}var Zm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ey=/^https?/;function ty(){return ty=rt(tt().mark((function e(t){var n,r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Jm(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ny(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Af(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ty.apply(this,arguments)}function ny(e){var t=Ff(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ey.test(r))return!1;if(Zm.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ry=new Vf(3e4,6e4);function iy(){var e=Ev().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ay=null;function oy(e){return ay=ay||function(e){return new Promise((function(t,n){var r,i,a;function o(){iy(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){iy(),n(Nf(e,"network-request-failed"))},timeout:ry.get()})}if(null===(i=null===(r=Ev().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ev().gapi)||void 0===a?void 0:a.load)){var u=ed("iframefcb");return Ev()[u]=function(){gapi.load?o():n(Nf(e,"network-request-failed"))},Zh("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ay=null,e}))}(e),ay}var uy=new Vf(5e3,15e3),sy="__/auth/iframe",cy="emulator/auth/iframe",ly={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hy(e){var t=e.config;Df(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?zf(t,cy):"https://".concat(e.config.authDomain,"/").concat(sy),r={apiKey:t.apiKey,appName:e.name,v:jl},i=fy.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Lc(r).slice(1))}function dy(e){return py.apply(this,arguments)}function py(){return py=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oy(t);case 2:return n=e.sent,Df(r=Ev().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:hy(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ly,dontclear:!0},(function(e){return new Promise(function(){var n=rt(tt().mark((function n(r,i){var a,o,u;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ev().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Nf(t,"network-request-failed"),o=Ev().setTimeout((function(){i(a)}),uy.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}var vy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},my=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function yy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},vy),{width:r.toString(),height:i.toString(),top:a,left:o}),c=_c().toLowerCase();n&&(u=jh(c)?"_blank":n),Mh(c)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return qh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new my(null);var h=window.open(t||"",u,f);Df(h,e,"popup-blocked");try{h.focus()}catch(d){}return new my(h)}var gy="__/auth/handler",ky="emulator/auth/handler",by=encodeURIComponent("fac");function wy(e,t,n,r,i,a){return _y.apply(this,arguments)}function _y(){return _y=rt(tt().mark((function e(t,n,r,i,a,o){var u,s,c,f,h,d,p,v,m,y,g,k,b;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Df(t.config.authDomain,t,"auth-domain-config-required"),Df(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:jl,eventId:a},n instanceof qd)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Rc(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)f=l(c[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Kd&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(by,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(xy(t),"?").concat(Lc(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function xy(e){var t=e.config;return t.emulator?zf(t,ky):"https://".concat(t.authDomain,"/").concat(gy)}var Ey="webStorageSupport",Iy=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kv,this._completeRedirectFn=Km,this._overrideRedirectResult=Pm}return y(e,[{key:"_openPopup",value:function(){var e=rt(tt().mark((function e(t,n,r,i){var a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mf(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,wy(t,n,r,Ff(),i);case 3:return o=e.sent,e.abrupt("return",yy(t,o,_v()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=rt(tt().mark((function e(t,n,r,i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,wy(t,n,r,Ff(),i);case 4:return Iv(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Mf(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dy(t);case 2:return n=e.sent,r=new Qm(t),n.register("authEvent",(function(e){return Df(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ey,{type:Ey},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ey];void 0!==i&&t(!!i),Af(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ty.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Kh()||Fh()||qh()}}]),e}(),Sy=Iy,Ty=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Lf("unexpected MultiFactorSessionType")}}}]),e}(),Cy=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hf(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hf(e,"POST","/v2/accounts/mfaSignIn:finalize",Gf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ty),Ay=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return Cy._fromCredential(e)}}]),e}();Ay.FACTOR_ID="phone";var Ny=function(){function e(){d(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Oy._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Oy._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,cv(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Ry._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ny.FACTOR_ID="totp";var Oy=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=rt(tt().mark((function e(t,n,r){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",lv(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Gv(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ty),Ry=function(){function e(t,n,r,i,a,o,u){d(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Py(e)||Py(t))&&(r=!0),r&&(Py(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Py(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Py(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Dy="@firebase/auth",Ly="1.3.0",My=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Df(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Fy,jy=kc("authIdTokenMaxAge")||300,Uy=null;Fy="Browser",Ol(new Bc("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Df(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Fy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gh(Fy)},l=new Yh(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ol(new Bc("auth-internal",(function(e){return function(e){return new My(e)}(Jh(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Kl(Dy,Ly,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fy)),Kl(Dy,Ly,"esm2017");var Vy,zy="firebasestorage.googleapis.com",By="storageBucket",qy=function(e){k(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,Ky(e),"Firebase Storage: ".concat(r," (").concat(Ky(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Ky(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Cc);function Ky(e){return"storage/"+e}function Gy(){return new qy(Vy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hy(){return new qy(Vy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wy(){return new qy(Vy.CANCELED,"User canceled the upload/download.")}function Qy(e){return new qy(Vy.INVALID_ARGUMENT,e)}function $y(){return new qy(Vy.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Vy||(Vy={}));var Yy,Jy=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new qy(Vy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===zy?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new qy(Vy.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Xy=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Zy(e,t,n,r){if(r<t)throw Qy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Qy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function eg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function tg(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Yy||(Yy={}));var ng=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Gy();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?$y():Wy());else i(Hy())}};this.canceled_?t(0,new rg(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new rg(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Yy.NO_ERROR,a=r.getStatus();if(!n||tg(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Yy.ABORT;t(!1,new rg(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new rg(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),rg=y((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function ig(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var ag=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof Jy?n:Jy.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Jy(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return ig(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Jy(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new qy(Vy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function og(e,t){var n=null===t||void 0===t?void 0:t[By];return null==n?null:Jy.makeFromBucketSpec(n,e)}var ug,sg=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=zy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Jy.makeFromBucketSpec(i,this._host):og(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Jy.makeFromBucketSpec(this._url,e):this._bucket=og(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Zy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Zy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ag(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Xy($y());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=eg(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ng(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),cg="@firebase/storage",lg="0.11.2",fg="storage";function hg(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:wc(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function dg(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new sg(r,i,a,n,jl)}Ol(new Bc(fg,dg,"PUBLIC").setMultipleInstances(!0)),Kl(cg,lg,""),Kl(cg,lg,"esm2017");var pg=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Al(t,new Bc("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Bl(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Il;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Il;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Al(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Nl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),vg=(Vn(ug={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Vn(ug,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ug),mg=new Ac("app-compat","Firebase",vg);var yg=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ul(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Oc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Kl,setLogLevel:Hl,onLog:Gl,apps:null,SDK_VERSION:jl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ol(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw mg.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&pc(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Oc(n,e=e||Il))throw mg.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(pg);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){pc(n,e)},createSubscribe:jc,ErrorFactory:Ac,deepExtend:pc}),n}(),gg=new Zc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gg.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var kg=self.firebase.SDK_VERSION;kg&&kg.indexOf("LITE")>=0&&gg.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var bg=yg;!function(e){Kl("@firebase/app-compat","0.2.17",e)}();function wg(){return window}bg.registerVersion("firebase","10.3.0","app-compat");var _g=2e3;function xg(e,t,n){return Eg.apply(this,arguments)}function Eg(){return Eg=rt(tt().mark((function e(t,n,r){var i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wg(),o=a.BuildInfo,Mf(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ng(n.sessionId);case 4:return u=e.sent,s={},qh()?s.ibi=o.packageName:Vh()?s.apn=o.packageName:Af(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",wy(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Ig(){return Ig=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wg(),r=n.BuildInfo,i={},qh()?i.iosBundleId=r.packageName:Vh()?i.androidPackageName=r.packageName:Af(t,"operation-not-supported-in-this-environment"),e.next=5,Jm(t,i);case 5:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}function Sg(e){var t=wg().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Tg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wg(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Nf(t,"redirect-cancelled-by-user"))}),_g))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Vh()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Cg.apply(this,arguments)}function Ag(e){var t,n,r,i,a,o,u,s,c,l,f=wg();Df("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Df("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Df("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Df("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Df("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ng(e){return Og.apply(this,arguments)}function Og(){return(Og=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rg(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rg(e){if(Mf(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Pg=20,Dg=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Un(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Qm);function Lg(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Vg(),postBody:null,tenantId:e.tenantId,error:Nf(e,"no-auth-event")}}function Mg(e,t){return zg()._set(Bg(e),t)}function Fg(e){return jg.apply(this,arguments)}function jg(){return jg=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zg()._get(Bg(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,zg()._remove(Bg(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Ug(e,t){var n,r,i=function(e){var t=qg(e),n=t.link?decodeURIComponent(t.link):void 0,r=qg(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return qg(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=qg(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Nf(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Vg(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Pg;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function zg(){return Nh(yv)}function Bg(e){return Ph("authEvent",e.config.apiKey,e.name)}function qg(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return Mc(t.slice(1).join("?"))}var Kg=function(){function e(){d(this,e),this._redirectPersistence=kv,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Km,this._overrideRedirectResult=Pm}return y(e,[{key:"_initialize",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Dg(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Af(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=rt(tt().mark((function e(t,n,r,i){var a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ag(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Tm.clear(),e.next=10,this._originValidation(t);case 10:return o=Lg(t,r,i),e.next=13,Mg(t,o);case 13:return e.next=15,xg(t,o,n);case 15:return u=e.sent,e.next=18,Sg(u);case 18:return s=e.sent,e.abrupt("return",Tg(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ig.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=wg(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(rt(tt().mark((function n(){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fg(e);case 2:t.onEvent(Hg());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=rt(tt().mark((function n(r){var i,a;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Fg(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ug(i,r.url)),t.onEvent(a||Hg());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");wg().handleOpenURL=function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Gg=Kg;function Hg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Nf("no-auth-event")}}var Wg=1e3;function Qg(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return!("file:"!==Qg()&&"ionic:"!==Qg()&&"capacitor:"!==Qg()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return Sc()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c();return/Edge\/\d+/.test(e)}(e)}function Jg(){try{var e=self.localStorage,t=_v();if(e)return e.setItem(t,"1"),e.removeItem(t),!Yg()||Tc()}catch(n){return Xg()&&Tc()}return!1}function Xg(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zg(){return("http:"===Qg()||"https:"===Qg()||Ec()||$g())&&!(Ic()||xc())&&Jg()&&!Xg()}function ek(){return $g()&&"undefined"!==typeof document}function tk(){return nk.apply(this,arguments)}function nk(){return(nk=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ek()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Wg);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rk={LOCAL:"local",NONE:"none",SESSION:"session"},ik=Df,ak="persistence";function ok(e,t){ik(Object.values(rk).includes(t),e,"invalid-persistence-type"),Ic()?ik(t!==rk.SESSION,e,"unsupported-persistence-type"):xc()?ik(t===rk.NONE,e,"unsupported-persistence-type"):Xg()?ik(t===rk.NONE||t===rk.LOCAL&&Tc(),e,"unsupported-persistence-type"):ik(t===rk.NONE||Jg(),e,"unsupported-persistence-type")}function uk(e){return sk.apply(this,arguments)}function sk(){return sk=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ck(),r=Ph(ak,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function ck(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var lk=Df,fk=function(){function e(){d(this,e),this.browserResolver=Nh(Sy),this.cordovaResolver=Nh(Gg),this.underlyingResolver=null,this._redirectPersistence=kv,this._completeRedirectFn=Km,this._overrideRedirectResult=Pm}return y(e,[{key:"_initialize",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=rt(tt().mark((function e(t,n,r,i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=rt(tt().mark((function e(t,n,r,i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ek()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return lk(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tk();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hk(e){return e.unwrap()}function dk(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new gk(e,function(e,t){var n,r=zc(e),i=t;return Df(t.customData.operationType,r,"argument-error"),Df(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),uv._fromError(r,i)}(e,t));else if(r){var i=pk(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function pk(e){var t=(e instanceof Cc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Cc)&&"temporaryProof"in t&&"phoneNumber"in t)return fm.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hf.PASSWORD)return null;switch(r){case hf.GOOGLE:n=Wd;break;case hf.FACEBOOK:n=Hd;break;case hf.GITHUB:n=Qd;break;case hf.TWITTER:n=Jd;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?$d._create(r,u):Pd._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Gd(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Cc?n.credentialFromError(e):n.credentialFromResult(e)}function vk(e,t){return t.catch((function(t){throw t instanceof Cc&&dk(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,pk(t)),additionalUserInfo:av(e),user:kk.getOrCreate(r)}}))}function mk(e,t){return yk.apply(this,arguments)}function yk(){return yk=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return vk(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}var gk=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return vk(hk(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),kk=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=zc(e);return dv.has(t)||dv.set(t,hv._fromUser(t)),dv.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,gp(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mk(this.auth,am(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,xm(this._delegate,t,fk)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uk(Jh(this.auth));case 2:return e.abrupt("return",Vm(this._delegate,t,fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,bp(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return mk(this.auth,function(e,t,n){return um.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return vk(this.auth,function(e,t,n){return _m.apply(this,arguments)}(this._delegate,e,fk))}},{key:"reauthenticateWithRedirect",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uk(Jh(this.auth));case 2:return e.abrupt("return",jm(this._delegate,t,fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Gp.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Jp(zc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Jp(zc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return lm.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return $p(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Hp.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();kk.USER_MAP=new WeakMap;var bk=Df,wk=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;bk(r,"invalid-api-key",{appName:t.name}),bk(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?fk:void 0;this._delegate=n.initialize({options:{persistence:xk(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(xf),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?kk.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){id(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Pp.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Dp(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Rp.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this._delegate,Fp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Kp.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=zd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bk(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bm(this._delegate,fk);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",vk(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Jh(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_k(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_k(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Vp.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Op.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ok(this._delegate,t),e.t0=t,e.next=e.t0===rk.SESSION?4:e.t0===rk.LOCAL?6:e.t0===rk.NONE?11:13;break;case 4:return n=kv,e.abrupt("break",14);case 6:return e.next=8,Nh(qv)._isAvailable();case 8:return r=e.sent,n=r?qv:yv,e.abrupt("break",14);case 11:return n=Rh,e.abrupt("break",14);case 13:return e.abrupt("return",Af("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return vk(this._delegate,function(e){return np.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return vk(this._delegate,mp(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return vk(this._delegate,function(e,t){return Ep.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return vk(this._delegate,Up(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return vk(this._delegate,function(e,t,n){return zp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return mk(this._delegate,function(e,t,n){return im.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bk(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",vk(this._delegate,bm(this._delegate,t,fk)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bk(Zg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,uk(this._delegate);case 3:return e.abrupt("return",Mm(this._delegate,t,fk));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Mp.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _k(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&kk.getOrCreate(e))},error:t,complete:n}}function xk(e,t){var n=function(e,t){var n=ck();if(!n)return[];var r=Ph(ak,e,t);switch(n.getItem(r)){case rk.NONE:return[Rh];case rk.LOCAL:return[qv,kv];case rk.SESSION:return[kv];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(qv)||n.push(qv),"undefined"!==typeof window)for(var r=0,i=[yv,kv];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Rh)||n.push(Rh),n}wk.Persistence=rk;var Ek=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new fm(hk(bg.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return fm.credential(e,t)}}]),e}();Ek.PHONE_SIGN_IN_METHOD=fm.PHONE_SIGN_IN_METHOD,Ek.PROVIDER_ID=fm.PROVIDER_ID;var Ik,Sk=Df,Tk=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bg.app();d(this,e),Sk(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new tm(i.auth(),t,n),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ik=bg).INTERNAL.registerComponent(new Bc("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new wk(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:df,PASSWORD_RESET:pf,RECOVER_EMAIL:vf,REVERT_SECOND_FACTOR_ADDITION:mf,VERIFY_AND_CHANGE_EMAIL:yf,VERIFY_EMAIL:gf}},EmailAuthProvider:Bd,FacebookAuthProvider:Hd,GithubAuthProvider:Qd,GoogleAuthProvider:Wd,OAuthProvider:Gd,SAMLAuthProvider:Yd,PhoneAuthProvider:Ek,PhoneMultiFactorGenerator:Ay,RecaptchaVerifier:Tk,TwitterAuthProvider:Jd,Auth:wk,AuthCredential:ud,Error:Cc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ik.registerVersion("@firebase/auth-compat","0.4.6");var Ck,Ak="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nk={},Ok=Ok||{},Rk=Ak||self;function Pk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Dk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Lk="closure_uid_"+(1e9*Math.random()>>>0),Mk=0;function Fk(e,t,n){return e.call.apply(e.bind,arguments)}function jk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Uk(e,t,n){return(Uk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fk:jk).apply(null,arguments)}function Vk(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zk(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bk(){this.s=this.s,this.o=this.o}Bk.prototype.s=!1,Bk.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Lk)&&e[Lk]||(e[Lk]=++Mk))},Bk.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Kk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gk(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Pk(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Hk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Hk.prototype.h=function(){this.defaultPrevented=!0};var Wk=function(){if(!Rk.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Rk.addEventListener("test",(function(){}),t),Rk.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Qk(e){return/^[\s\xa0]*$/.test(e)}function $k(){var e=Rk.navigator;return e&&(e=e.userAgent)?e:""}function Yk(e){return-1!=$k().indexOf(e)}function Jk(e){return Jk[" "](e),e}Jk[" "]=function(){};var Xk,Zk,eb=Yk("Opera"),tb=Yk("Trident")||Yk("MSIE"),nb=Yk("Edge"),rb=nb||tb,ib=Yk("Gecko")&&!(-1!=$k().toLowerCase().indexOf("webkit")&&!Yk("Edge"))&&!(Yk("Trident")||Yk("MSIE"))&&!Yk("Edge"),ab=-1!=$k().toLowerCase().indexOf("webkit")&&!Yk("Edge");function ob(){var e=Rk.document;return e?e.documentMode:void 0}e:{var ub="",sb=function(){var e=$k();return ib?/rv:([^\);]+)(\)|;)/.exec(e):nb?/Edge\/([\d\.]+)/.exec(e):tb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ab?/WebKit\/(\S+)/.exec(e):eb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sb&&(ub=sb?sb[1]:""),tb){var cb=ob();if(null!=cb&&cb>parseFloat(ub)){Xk=String(cb);break e}}Xk=ub}if(Rk.document&&tb){var lb=ob();Zk=lb||(parseInt(Xk,10)||void 0)}else Zk=void 0;var fb=Zk;function hb(e,t){if(Hk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ib){e:{try{Jk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:db[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hb.$.h.call(this)}}zk(hb,Hk);var db={2:"touch",3:"pen",4:"mouse"};hb.prototype.h=function(){hb.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pb="closure_listenable_"+(1e6*Math.random()|0),vb=0;function mb(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++vb,this.fa=this.ia=!1}function yb(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gb(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kb(e){var t={};for(var n in e)t[n]=e[n];return t}var bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wb(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bb.length;a++)n=bb[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _b(e){this.src=e,this.g={},this.h=0}function xb(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=qk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(yb(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Eb(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}_b.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Eb(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new mb(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ib="closure_lm_"+(1e6*Math.random()|0),Sb={};function Tb(e,t,n,r,i){if(r&&r.once)return Ab(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tb(e,t[a],n,r,i);return null}return n=Mb(n),e&&e[pb]?e.O(t,n,Dk(r)?!!r.capture:!!r,i):Cb(e,t,n,!1,r,i)}function Cb(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Dk(i)?!!i.capture:!!i,u=Db(e);if(u||(e[Ib]=u=new _b(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pb;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Rb(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ab(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ab(e,t[a],n,r,i);return null}return n=Mb(n),e&&e[pb]?e.P(t,n,Dk(r)?!!r.capture:!!r,i):Cb(e,t,n,!0,r,i)}function Nb(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nb(e,t[a],n,r,i);else r=Dk(r)?!!r.capture:!!r,n=Mb(n),e&&e[pb]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Eb(a=e.g[t],n,r,i))&&(yb(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Db(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Eb(t,n,r,i)),(n=-1<e?t[e]:null)&&Ob(n))}function Ob(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[pb])xb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Rb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Db(t))?(xb(n,e),0==n.h&&(n.src=null,t[Ib]=null)):yb(e)}}}function Rb(e){return e in Sb?Sb[e]:Sb[e]="on"+e}function Pb(e,t){if(e.fa)e=!0;else{t=new hb(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ob(e),e=n.call(r,t)}return e}function Db(e){return(e=e[Ib])instanceof _b?e:null}var Lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mb(e){return"function"===typeof e?e:(e[Lb]||(e[Lb]=function(t){return e.handleEvent(t)}),e[Lb])}function Fb(){Bk.call(this),this.i=new _b(this),this.S=this,this.J=null}function jb(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Hk(t,e);else if(t instanceof Hk)t.target=t.target||e;else{var i=t;wb(t=new Hk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ub(o,r,!0,t)&&i}if(i=Ub(o=t.g=e,r,!0,t)&&i,i=Ub(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ub(o=t.g=n[a],r,!1,t)&&i}function Ub(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&xb(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}zk(Fb,Bk),Fb.prototype[pb]=!0,Fb.prototype.removeEventListener=function(e,t,n,r){Nb(this,e,t,n,r)},Fb.prototype.N=function(){if(Fb.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yb(n[r]);delete t.g[e],t.h--}}this.J=null},Fb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fb.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vb=Rk.JSON.stringify,zb=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Bb(){var e=Yb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qb=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Kb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Kb=new zb((function(){return new Gb}),(function(e){return e.reset()})),Gb=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Hb(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wb(e){Rk.setTimeout((function(){throw e}),0)}var Qb,$b=!1,Yb=new qb,Jb=function(){var e=Rk.Promise.resolve(void 0);Qb=function(){e.then(Xb)}},Xb=function(){for(var e;e=Bb();){try{e.h.call(e.g)}catch(n){Wb(n)}var t=Kb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$b=!1};function Zb(e,t){Fb.call(this),this.h=e||1,this.g=t||Rk,this.j=Uk(this.qb,this),this.l=Date.now()}function ew(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function tw(e,t,n){if("function"===typeof e)n&&(e=Uk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Uk(e.handleEvent,e)}return 2147483647<Number(t)?-1:Rk.setTimeout(e,t||0)}function nw(e){e.g=tw((function(){e.g=null,e.i&&(e.i=!1,nw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}zk(Zb,Fb),(Ck=Zb.prototype).ga=!1,Ck.T=null,Ck.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jb(this,"tick"),this.ga&&(ew(this),this.start()))}},Ck.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ck.N=function(){Zb.$.N.call(this),ew(this),delete this.g};var rw=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:nw(this)}},{key:"N",value:function(){Un(b(n.prototype),"N",this).call(this),this.g&&(Rk.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bk);function iw(e){Bk.call(this),this.h=e,this.g={}}zk(iw,Bk);var aw=[];function ow(e,t,n,r){Array.isArray(n)||(n&&(aw[0]=n.toString()),n=aw);for(var i=0;i<n.length;i++){var a=Tb(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function uw(e){gb(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ob(e)}),e),e.g={}}function sw(){this.g=!0}function cw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vb(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}iw.prototype.N=function(){iw.$.N.call(this),uw(this)},iw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sw.prototype.Ea=function(){this.g=!1},sw.prototype.info=function(){};var lw={},fw=null;function hw(){return fw=fw||new Fb}function dw(e){Hk.call(this,lw.Ta,e)}function pw(e){var t=hw();jb(t,new dw(t))}function vw(e,t){Hk.call(this,lw.STAT_EVENT,e),this.stat=t}function mw(e){var t=hw();jb(t,new vw(t,e))}function yw(e,t){Hk.call(this,lw.Ua,e),this.size=t}function gw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Rk.setTimeout((function(){e()}),t)}lw.Ta="serverreachability",zk(dw,Hk),lw.STAT_EVENT="statevent",zk(vw,Hk),lw.Ua="timingevent",zk(yw,Hk);var kw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ww(){}function _w(e){return e.h||(e.h=e.i())}function xw(){}ww.prototype.h=null;var Ew,Iw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sw(){Hk.call(this,"d")}function Tw(){Hk.call(this,"c")}function Cw(){}function Aw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new iw(this),this.P=Ow,e=rb?125:void 0,this.V=new Zb(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Nw}function Nw(){this.i=null,this.g="",this.h=!1}zk(Sw,Hk),zk(Tw,Hk),zk(Cw,ww),Cw.prototype.g=function(){return new XMLHttpRequest},Cw.prototype.i=function(){return{}},Ew=new Cw;var Ow=45e3,Rw={},Pw={};function Dw(e,t,n){e.L=1,e.v=Zw(Qw(t)),e.s=n,e.S=!0,Lw(e,null)}function Lw(e,t){e.G=Date.now(),Uw(e),e.A=Qw(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),h_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Nw,e.g=dx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new rw(Uk(e.Pa,e,e.g),e.O)),ow(e.U,e.g,"readystatechange",e.nb),t=e.I?kb(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),pw(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Mw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Fw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=jw(e,n))==Pw){4==t&&(e.o=4,mw(14),i=!1),cw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Rw){e.o=4,mw(15),cw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cw(e.j,e.m,r,null),Kw(e,r)}Mw(e)&&r!=Pw&&r!=Rw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ax(t),t.M=!0,mw(11))):(cw(e.j,e.m,n,"[Invalid Chunked Response]"),qw(e),Bw(e))}function jw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pw:(n=Number(t.substring(n,r)),isNaN(n)?Rw:(r+=1)+n>t.length?Pw:(t=t.slice(r,r+n),e.C=r+n,t))}function Uw(e){e.Y=Date.now()+e.P,Vw(e,e.P)}function Vw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gw(Uk(e.lb,e),t)}function zw(e){e.B&&(Rk.clearTimeout(e.B),e.B=null)}function Bw(e){0==e.l.H||e.J||sx(e.l,e)}function qw(e){zw(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ew(e.V),uw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Kw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||k_(n.i,e)))if(!e.K&&k_(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ux(n),J_(n)}ix(n),mw(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=gw(Uk(n.ib,n),6e3));if(1>=g_(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else lx(n,11)}else if((e.K||n.g==e)&&ux(n),!Qk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(b_(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Xw(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=hx(r,r.J?r.pa:null,r.Y),d.K){w_(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(zw(p),Uw(p)),r.g=d}else rx(r);0<n.j.length&&Z_(n)}else"stop"!=a[0]&&"close"!=a[0]||lx(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?lx(n,7):Y_(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}pw()}catch(a){}}function Gw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pk(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Pk(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Pk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ck=Aw.prototype).setTimeout=function(e){this.P=e},Ck.nb=function(e){e=e.target;var t=this.M;t&&3==K_(e)?t.l():this.Pa(e)},Ck.Pa=function(e){try{if(e==this.g)e:{var t=K_(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||rb||this.g&&(this.h.h||this.g.ja()||G_(this.g)))){this.J||4!=t||7==n||pw(),zw(this);var r=this.g.da();this.ca=r;t:if(Mw(this)){var i=G_(this.g);e="";var a=i.length,o=4==K_(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qw(this),Bw(this);var u="";break t}this.h.i=new Rk.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qk(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,mw(12),qw(this),Bw(this);break e}cw(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kw(this,r)}this.S?(Fw(this,t,u),rb&&this.i&&3==t&&(ow(this.U,this.V,"tick",this.mb),this.V.start())):(cw(this.j,this.m,u,null),Kw(this,u)),4==t&&qw(this),this.i&&!this.J&&(4==t?sx(this.l,this):(this.i=!1,Uw(this)))}else(function(e){var t={};e=(e.g&&2<=K_(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Qk(e[n])){var r=Hb(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,mw(12)):(this.o=0,mw(13)),qw(this),Bw(this)}}}catch(t){}},Ck.mb=function(){if(this.g){var e=K_(this.g),t=this.g.ja();this.C<t.length&&(zw(this),Fw(this,e,t),this.i&&4!=e&&Uw(this))}},Ck.cancel=function(){this.J=!0,qw(this)},Ck.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(pw(),mw(17)),qw(this),this.o=2,Bw(this)):Vw(this,this.Y-e)};var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ww(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ww){this.h=e.h,$w(this,e.j),this.s=e.s,this.g=e.g,Yw(this,e.m),this.l=e.l;var t=e.i,n=new s_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Jw(this,n),this.o=e.o}else e&&(t=String(e).match(Hw))?(this.h=!1,$w(this,t[1]||"",!0),this.s=e_(t[2]||""),this.g=e_(t[3]||"",!0),Yw(this,t[4]),this.l=e_(t[5]||"",!0),Jw(this,t[6]||"",!0),this.o=e_(t[7]||"")):(this.h=!1,this.i=new s_(null,this.h))}function Qw(e){return new Ww(e)}function $w(e,t,n){e.j=n?e_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yw(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jw(e,t,n){t instanceof s_?(e.i=t,function(e,t){t&&!e.j&&(c_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(l_(this,t),h_(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=t_(t,o_)),e.i=new s_(t,e.h))}function Xw(e,t,n){e.i.set(t,n)}function Zw(e){return Xw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function e_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function t_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,n_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function n_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ww.prototype.toString=function(){var e=[],t=this.j;t&&e.push(t_(t,r_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(t_(t,r_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(t_(n,"/"==n.charAt(0)?a_:i_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",t_(n,u_)),e.join("")};var r_=/[#\/\?@]/g,i_=/[#\?:]/g,a_=/[#\?]/g,o_=/[#\?@]/g,u_=/#/g;function s_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function c_(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function l_(e,t){c_(e),t=d_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function f_(e,t){return c_(e),t=d_(e,t),e.g.has(t)}function h_(e,t,n){l_(e,t),0<n.length&&(e.i=null,e.g.set(d_(e,t),Kk(n)),e.h+=n.length)}function d_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ck=s_.prototype).add=function(e,t){c_(this),this.i=null,e=d_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ck.forEach=function(e,t){c_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ck.ta=function(){c_(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ck.Z=function(e){c_(this);var t=[];if("string"===typeof e)f_(this,e)&&(t=t.concat(this.g.get(d_(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ck.set=function(e,t){return c_(this),this.i=null,f_(this,e=d_(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ck.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ck.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var p_=y((function e(t,n){d(this,e),this.g=t,this.map=n}));function v_(e){this.l=e||m_,Rk.PerformanceNavigationTiming?e=0<(e=Rk.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Rk.g&&Rk.g.Ka&&Rk.g.Ka()&&Rk.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m_=10;function y_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function g_(e){return e.h?1:e.g?e.g.size:0}function k_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function b_(e,t){e.g?e.g.add(t):e.h=t}function w_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function __(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Kk(e.i)}v_.prototype.cancel=function(){if(this.i=__(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var x_,E_=function(){function e(){d(this,e)}return y(e,[{key:"stringify",value:function(e){return Rk.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Rk.JSON.parse(e,void 0)}}]),e}();function I_(){this.g=new E_}function S_(e,t,n){var r=n||"";try{Gw(e,(function(e,n){var i=e;Dk(e)&&(i=Vb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function T_(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function C_(e){this.l=e.fc||null,this.j=e.ob||!1}function A_(e,t){Fb.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=N_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zk(C_,ww),C_.prototype.g=function(){return new A_(this.l,this.j)},C_.prototype.i=(x_={},function(){return x_}),zk(A_,Fb);var N_=0;function O_(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function R_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,P_(e)}function P_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ck=A_.prototype).open=function(e,t){if(this.readyState!=N_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,P_(this)},Ck.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Rk).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ck.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,R_(this)),this.readyState=N_},Ck.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,P_(this)),this.g&&(this.readyState=3,P_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Rk.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O_(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ck.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?R_(this):P_(this),3==this.readyState&&O_(this)}},Ck.Za=function(e){this.g&&(this.response=this.responseText=e,R_(this))},Ck.Ya=function(e){this.g&&(this.response=e,R_(this))},Ck.ka=function(){this.g&&R_(this)},Ck.setRequestHeader=function(e,t){this.v.append(e,t)},Ck.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ck.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(A_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var D_=Rk.JSON.parse;function L_(e){Fb.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M_,this.L=this.M=!1}zk(L_,Fb);var M_="",F_=/^https?$/i,j_=["POST","PUT"];function U_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,V_(e),B_(e)}function V_(e){e.F||(e.F=!0,jb(e,"complete"),jb(e,"error"))}function z_(e){if(e.h&&"undefined"!=typeof Ok&&(!e.C[1]||4!=K_(e)||2!=e.da()))if(e.v&&4==K_(e))tw(e.La,0,e);else if(jb(e,"readystatechange"),4==K_(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Hw)[1]||null;!a&&Rk.self&&Rk.self.location&&(a=Rk.self.location.protocol.slice(0,-1)),i=!F_.test(a?a.toLowerCase():"")}t=i}if(t)jb(e,"complete"),jb(e,"success");else{e.m=6;try{var o=2<K_(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",V_(e)}}finally{B_(e)}}}function B_(e,t){if(e.g){q_(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||jb(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function q_(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Rk.clearTimeout(e.A),e.A=null)}function K_(e){return e.g?e.g.readyState:0}function G_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case M_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xx){return null}}function H_(e){var t="";return gb(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function W_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H_(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xw(e,t,n))}function Q_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $_(e){this.Ga=0,this.j=[],this.l=new sw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Q_("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Q_("baseRetryDelayMs",5e3,e),this.hb=Q_("retryDelaySeedMs",1e4,e),this.eb=Q_("forwardChannelMaxRetries",2,e),this.xa=Q_("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new v_(e&&e.concurrentRequestLimit),this.Ja=new I_,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Y_(e){if(X_(e),3==e.H){var t=e.W++,n=Qw(e.I);if(Xw(n,"SID",e.K),Xw(n,"RID",t),Xw(n,"TYPE","terminate"),tx(e,n),(t=new Aw(e,e.l,t)).L=2,t.v=Zw(Qw(n)),n=!1,Rk.navigator&&Rk.navigator.sendBeacon)try{n=Rk.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Rk.Image&&((new Image).src=t.v,n=!0),n||(t.g=dx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Uw(t)}fx(e)}function J_(e){e.g&&(ax(e),e.g.cancel(),e.g=null)}function X_(e){J_(e),e.u&&(Rk.clearTimeout(e.u),e.u=null),ux(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Rk.clearTimeout(e.m),e.m=null)}function Z_(e){if(!y_(e.i)&&!e.m){e.m=!0;var t=e.Na;Qb||Jb(),$b||(Qb(),$b=!0),Yb.add(t,e),e.C=0}}function ex(e,t){var n;n=t?t.m:e.W++;var r=Qw(e.I);Xw(r,"SID",e.K),Xw(r,"RID",n),Xw(r,"AID",e.V),tx(e,r),e.o&&e.s&&W_(r,e.o,e.s),n=new Aw(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=nx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),b_(e.i,n),Dw(n,r,t)}function tx(e,t){e.na&&gb(e.na,(function(e,n){Xw(t,n,e)})),e.h&&Gw({},(function(e,n){Xw(t,n,e)}))}function nx(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Uk(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{S_(l,o,"req"+c+"_")}catch(mI){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function rx(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Qb||Jb(),$b||(Qb(),$b=!0),Yb.add(t,e),e.A=0}}function ix(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=gw(Uk(e.Ma,e),cx(e,e.A)),e.A++,!0)}function ax(e){null!=e.B&&(Rk.clearTimeout(e.B),e.B=null)}function ox(e){e.g=new Aw(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Qw(e.wa);Xw(t,"RID","rpc"),Xw(t,"SID",e.K),Xw(t,"AID",e.V),Xw(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Xw(t,"TO",e.qa),Xw(t,"TYPE","xmlhttp"),tx(e,t),e.o&&e.s&&W_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Zw(Qw(t)),n.s=null,n.S=!0,Lw(n,e)}function ux(e){null!=e.v&&(Rk.clearTimeout(e.v),e.v=null)}function sx(e,t){var n=null;if(e.g==t){ux(e),ax(e),e.g=null;var r=2}else{if(!k_(e.i,t))return;n=t.F,w_(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;jb(r=hw(),new yw(r,n)),Z_(e)}else rx(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(g_(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=gw(Uk(e.Na,e,t),cx(e,e.C)),e.C++,!0))}(e,t)||2==r&&ix(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:lx(e,5);break;case 4:lx(e,10);break;case 3:lx(e,6);break;default:lx(e,2)}}function cx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function lx(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Uk(e.pb,e);n||(n=new Ww("//www.google.com/images/cleardot.gif"),Rk.location&&"http"==Rk.location.protocol||$w(n,"https"),Zw(n)),function(e,t){var n=new sw;if(Rk.Image){var r=new Image;r.onload=Vk(T_,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vk(T_,n,r,"TestLoadImage: error",!1,t),r.onabort=Vk(T_,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vk(T_,n,r,"TestLoadImage: timeout",!1,t),Rk.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else mw(2);e.H=0,e.h&&e.h.za(t),fx(e),X_(e)}function fx(e){if(e.H=0,e.ma=[],e.h){var t=__(e.i);0==t.length&&0==e.j.length||(Gk(e.ma,t),Gk(e.ma,e.j),e.i.i.length=0,Kk(e.j),e.j.length=0),e.h.ya()}}function hx(e,t,n){var r=n instanceof Ww?Qw(n):new Ww(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Yw(r,r.m);else{var i=Rk.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ww(null);r&&$w(a,r),t&&(a.g=t),i&&Yw(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Xw(r,n,t),Xw(r,"VER",e.ra),tx(e,r),r}function dx(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new L_(new C_({ob:!0})):new L_(e.va)).Oa(e.J),t}function px(){}function vx(){if(tb&&!(10<=Number(fb)))throw Error("Environmental error: no available transport.")}function mx(e,t){Fb.call(this),this.g=new $_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Qk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kx(this)}function yx(e){Sw.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gx(){Tw.call(this),this.status=1}function kx(e){this.g=e}function bx(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wx(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function _x(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ck=L_.prototype).Oa=function(e){this.M=e},Ck.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ew.g(),this.C=this.u?_w(this.u):_w(Ew),this.g.onreadystatechange=Uk(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void U_(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Rk.FormData&&e instanceof Rk.FormData,!(0<=qk(j_,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=T(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{q_(this),0<this.B&&((this.L=function(e){return tb&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Uk(this.ua,this)):this.A=tw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){U_(this,u)}},Ck.ua=function(){"undefined"!=typeof Ok&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jb(this,"timeout"),this.abort(8))},Ck.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jb(this,"complete"),jb(this,"abort"),B_(this))},Ck.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B_(this,!0)),L_.$.N.call(this)},Ck.La=function(){this.s||(this.G||this.v||this.l?z_(this):this.kb())},Ck.kb=function(){z_(this)},Ck.isActive=function(){return!!this.g},Ck.da=function(){try{return 2<K_(this)?this.g.status:-1}catch(x_){return-1}},Ck.ja=function(){try{return this.g?this.g.responseText:""}catch(x_){return""}},Ck.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),D_(t)}},Ck.Ia=function(){return this.m},Ck.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ck=$_.prototype).ra=8,Ck.H=1,Ck.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Aw(this,this.l,e),n=this.s;if(this.U&&(n?wb(n=kb(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=nx(this,t,r),Xw(i=Qw(this.I),"RID",e),Xw(i,"CVER",22),this.F&&Xw(i,"X-HTTP-Session-Id",this.F),tx(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(H_(n)))+"&"+r:this.o&&W_(i,this.o,n)),b_(this.i,t),this.bb&&Xw(i,"TYPE","init"),this.P?(Xw(i,"$req",r),Xw(i,"SID","null"),t.aa=!0,Dw(t,i,null)):Dw(t,i,r),this.H=2}}else 3==this.H&&(e?ex(this,e):0==this.j.length||y_(this.i)||ex(this))},Ck.Ma=function(){if(this.u=null,ox(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=gw(Uk(this.jb,this),e)}},Ck.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mw(10),J_(this),ox(this))},Ck.ib=function(){null!=this.v&&(this.v=null,J_(this),ix(this),mw(19))},Ck.pb=function(e){e?(this.l.info("Successfully pinged google.com"),mw(2)):(this.l.info("Failed to ping google.com"),mw(1))},Ck.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ck=px.prototype).Ba=function(){},Ck.Aa=function(){},Ck.za=function(){},Ck.ya=function(){},Ck.isActive=function(){return!0},Ck.Va=function(){},vx.prototype.g=function(e,t){return new mx(e,t)},zk(mx,Fb),mx.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;mw(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=hx(e,null,e.Y),Z_(e)},mx.prototype.close=function(){Y_(this.g)},mx.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vb(e),e=n);t.j.push(new p_(t.fb++,e)),3==t.H&&Z_(t)},mx.prototype.N=function(){this.g.h=null,delete this.j,Y_(this.g),delete this.g,mx.$.N.call(this)},zk(yx,Sw),zk(gx,Tw),zk(kx,px),kx.prototype.Ba=function(){jb(this.g,"a")},kx.prototype.Aa=function(e){jb(this.g,new yx(e))},kx.prototype.za=function(e){jb(this.g,new gx)},kx.prototype.ya=function(){jb(this.g,"b")},zk(bx,(function(){this.blockSize=-1})),bx.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bx.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)wx(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){wx(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){wx(this,r),i=0;break}}this.h=i,this.i+=t},bx.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var xx={};function Ex(e){return-128<=e&&128>e?function(e,t){var n=xx;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new _x([0|e],0>e?-1:0)})):new _x([0|e],0>e?-1:0)}function Ix(e){if(isNaN(e)||!isFinite(e))return Tx;if(0>e)return Rx(Ix(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sx;return new _x(t,0)}var Sx=4294967296,Tx=Ex(0),Cx=Ex(1),Ax=Ex(16777216);function Nx(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ox(e){return-1==e.h}function Rx(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new _x(n,~e.h).add(Cx)}function Px(e,t){return e.add(Rx(t))}function Dx(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lx(e,t){this.g=e,this.h=t}function Mx(e,t){if(Nx(t))throw Error("division by zero");if(Nx(e))return new Lx(Tx,Tx);if(Ox(e))return t=Mx(Rx(e),t),new Lx(Rx(t.g),Rx(t.h));if(Ox(t))return t=Mx(e,Rx(t)),new Lx(Rx(t.g),t.h);if(30<e.g.length){if(Ox(e)||Ox(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Cx,r=t;0>=r.X(e);)n=Fx(n),r=Fx(r);var i=jx(n,1),a=jx(r,1);for(r=jx(r,2),n=jx(n,2);!Nx(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=jx(r,1),n=jx(n,1)}return t=Px(e,i.R(t)),new Lx(i,t)}for(i=Tx;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ix(n)).R(t);Ox(o)||0<o.X(e);)o=(a=Ix(n-=r)).R(t);Nx(a)&&(a=Cx),i=i.add(a),e=Px(e,o)}return new Lx(i,e)}function Fx(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new _x(n,e.h)}function jx(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new _x(i,e.h)}(Ck=_x.prototype).ea=function(){if(Ox(this))return-Rx(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sx+r)*t,t*=Sx}return e},Ck.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Nx(this))return"0";if(Ox(this))return"-"+Rx(this).toString(e);for(var t=Ix(Math.pow(e,6)),n=this,r="";;){var i=Mx(n,t).g,a=((0<(n=Px(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Nx(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ck.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ck.X=function(e){return Ox(e=Px(this,e))?-1:Nx(e)?0:1},Ck.abs=function(){return Ox(this)?Rx(this):this},Ck.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new _x(n,-2147483648&n[n.length-1]?-1:0)},Ck.R=function(e){if(Nx(this)||Nx(e))return Tx;if(Ox(this))return Ox(e)?Rx(this).R(Rx(e)):Rx(Rx(this).R(e));if(Ox(e))return Rx(this.R(Rx(e)));if(0>this.X(Ax)&&0>e.X(Ax))return Ix(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Dx(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Dx(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Dx(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Dx(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new _x(n,0)},Ck.gb=function(e){return Mx(this,e).h},Ck.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new _x(n,this.h&e.h)},Ck.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new _x(n,this.h|e.h)},Ck.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new _x(n,this.h^e.h)},vx.prototype.createWebChannel=vx.prototype.g,mx.prototype.send=mx.prototype.u,mx.prototype.open=mx.prototype.m,mx.prototype.close=mx.prototype.close,kw.NO_ERROR=0,kw.TIMEOUT=8,kw.HTTP_ERROR=6,bw.COMPLETE="complete",xw.EventType=Iw,Iw.OPEN="a",Iw.CLOSE="b",Iw.ERROR="c",Iw.MESSAGE="d",Fb.prototype.listen=Fb.prototype.O,L_.prototype.listenOnce=L_.prototype.P,L_.prototype.getLastError=L_.prototype.Sa,L_.prototype.getLastErrorCode=L_.prototype.Ia,L_.prototype.getStatus=L_.prototype.da,L_.prototype.getResponseJson=L_.prototype.Wa,L_.prototype.getResponseText=L_.prototype.ja,L_.prototype.send=L_.prototype.ha,L_.prototype.setWithCredentials=L_.prototype.Oa,bx.prototype.digest=bx.prototype.l,bx.prototype.reset=bx.prototype.reset,bx.prototype.update=bx.prototype.j,_x.prototype.add=_x.prototype.add,_x.prototype.multiply=_x.prototype.R,_x.prototype.modulo=_x.prototype.gb,_x.prototype.compare=_x.prototype.X,_x.prototype.toNumber=_x.prototype.ea,_x.prototype.toString=_x.prototype.toString,_x.prototype.getBits=_x.prototype.D,_x.fromNumber=Ix,_x.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Rx(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ix(Math.pow(n,8)),i=Tx,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Ix(Math.pow(n,o)),i=i.R(o).add(Ix(u))):i=(i=i.R(r)).add(Ix(u))}return i};var Ux=Nk.createWebChannelTransport=function(){return new vx},Vx=Nk.getStatEventTarget=function(){return hw()},zx=Nk.ErrorCode=kw,Bx=Nk.EventType=bw,qx=Nk.Event=lw,Kx=Nk.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gx=(Nk.FetchXmlHttpFactory=C_,Nk.WebChannel=xw),Hx=Nk.XhrIo=L_,Wx=Nk.Md5=bx,Qx=Nk.Integer=_x,$x="@firebase/firestore",Yx=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Yx.UNAUTHENTICATED=new Yx(null),Yx.GOOGLE_CREDENTIALS=new Yx("google-credentials-uid"),Yx.FIRST_PARTY=new Yx("first-party-uid"),Yx.MOCK_USER=new Yx("mock-user");var Jx="10.3.0",Xx=new Zc("@firebase/firestore");function Zx(){return Xx.logLevel}function eE(e){if(Xx.logLevel<=Hc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rE);Xx.debug.apply(Xx,["Firestore (".concat(Jx,"): ").concat(e)].concat(h(i)))}}function tE(e){if(Xx.logLevel<=Hc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rE);Xx.error.apply(Xx,["Firestore (".concat(Jx,"): ").concat(e)].concat(h(i)))}}function nE(e){if(Xx.logLevel<=Hc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rE);Xx.warn.apply(Xx,["Firestore (".concat(Jx,"): ").concat(e)].concat(h(i)))}}function rE(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function iE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Jx,") INTERNAL ASSERTION FAILED: ")+e;throw tE(t),new Error(t)}function aE(e,t){e||iE()}function oE(e,t){return e}var uE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sE=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(Cc),cE=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),lE=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),fE=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yx.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),hE=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),dE=function(){function e(t){d(this,e),this.t=t,this.currentUser=Yx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new cE;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new cE,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){eE("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(eE("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cE)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(eE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(aE("string"==typeof n.accessToken),new lE(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return aE(null===e||"string"==typeof e),new Yx(e)}}]),e}(),pE=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Yx.FIRST_PARTY,this.I=new Map}return y(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),vE=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new pE(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yx.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),mE=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),yE=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&eE("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,eE("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){eE("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):eE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(aE("string"==typeof t.token),e.R=t.token,new mE(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function gE(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var kE=function(){function e(){d(this,e)}return y(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=gE(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function bE(e,t){return e<t?-1:e>t?1:0}function wE(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function _E(e){return e+"\0"}var xE=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new sE(uE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sE(uE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new sE(uE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sE(uE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?bE(this.nanoseconds,e.nanoseconds):bE(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),EE=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xE(0,0))}},{key:"max",value:function(){return new e(new xE(253402300799,999999999))}}]),e}(),IE=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&iE(),void 0===r?r=t.length-n:r>t.length-n&&iE(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),SE=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new sE(uE.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(IE),TE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,CE=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return TE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new sE(uE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new sE(uE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new sE(uE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new sE(uE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(IE),AE=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===SE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(SE.fromString(t))}},{key:"fromName",value:function(t){return new e(SE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(SE.emptyPath())}},{key:"comparator",value:function(e,t){return SE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new SE(t.slice()))}}]),e}(),NE=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function OE(e){return e.fields.find((function(e){return 2===e.kind}))}function RE(e){return e.fields.filter((function(e){return 2!==e.kind}))}NE.UNKNOWN_ID=-1;var PE=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var DE=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,FE.min())}}]),e}();function LE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=EE.fromTimestamp(1e9===r?new xE(n+1,0):new xE(n,r));return new FE(i,AE.empty(),t)}function ME(e){return new FE(e.readTime,e.key,-1)}var FE=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(EE.min(),AE.empty(),-1)}},{key:"max",value:function(){return new e(EE.max(),AE.empty(),-1)}}]),e}();function jE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=AE.comparator(e.documentKey,t.documentKey))?n:bE(e.largestBatchId,t.largestBatchId)}var UE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",VE=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function zE(e){return BE.apply(this,arguments)}function BE(){return(BE=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===uE.FAILED_PRECONDITION&&t.message===UE){e.next=2;break}throw t;case 2:eE("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qE=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&iE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),KE=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new cE,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new WE(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=XE(e.target.error);r.m.reject(new WE(t,n))}}return y(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(eE("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new $E(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new WE(n,t)}}}]),e}(),GE=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(_c())&&tE("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"N",value:function(){var e=rt(tt().mark((function e(t){var n=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return eE("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new WE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new sE(uE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new sE(uE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new WE(t,n))},i.onupgradeneeded=function(e){eE("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){eE("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=rt(tt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=tt().mark((function e(){var n,u,s,l;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=KE.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),qE.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,eE("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return eE("SimpleDb","Removing database:",e),YE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!Tc())return!1;if(e.C())return!0;var t=_c(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/learn-lingo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),HE=function(){function e(t){d(this,e),this.q=t,this.K=!1,this.$=null}return y(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return YE(this.q.delete())}}]),e}(),WE=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,uE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(sE);function QE(e){return"IndexedDbTransactionError"===e.name}var $E=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(eE("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(eE("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),YE(n)}},{key:"add",value:function(e){return eE("SimpleDb","ADD",this.store.name,e,e),YE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return YE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),eE("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return eE("SimpleDb","DELETE",this.store.name,e),YE(this.store.delete(e))}},{key:"count",value:function(){return eE("SimpleDb","COUNT",this.store.name),YE(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new qE((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new qE((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){eE("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new qE((function(n,r){t.onerror=function(e){var t=XE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new qE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new HE(i),o=t(i.primaryKey,i.value,a);if(o instanceof qE){var u=o.catch((function(e){return a.done(),qE.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return qE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function YE(e){return new qE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=XE(e.target.error);n(t)}}))}var JE=!1;function XE(e){var t=GE.D(_c());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new sE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return JE||(JE=!0,setTimeout((function(){throw r}),0)),r}}return e}var ZE=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return y(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;eE("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=eE,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!QE(e.t4)){e.next=17;break}eE("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,zE(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),eI=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"ne",value:function(){var e=rt(tt().mark((function e(){var t,n=this,r=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return qE.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return eE("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return eE("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ME(t);jE(r,n)>0&&(n=r)})),new FE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),tI=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function nI(e){return null==e}function rI(e){return 0===e&&1/e==-1/0}function iI(e){return"number"==typeof e&&Number.isInteger(e)&&!rI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function aI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=uI(t)),t=oI(e.get(n),t);return uI(t)}function oI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function uI(e){return e+"\x01\x01"}function sI(e){var t=e.length;if(aE(t>=2),2===t)return aE("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),SE.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&iE(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:iE()}a=o+2}return new SE(r)}tI.ae=-1;var cI=["userId","batchId"];function lI(e,t){return[e,aI(t)]}function fI(e,t,n){return[e,aI(t),n]}var hI={},dI=["prefixPath","collectionGroup","readTime","documentId"],pI=["prefixPath","collectionGroup","documentId"],vI=["collectionGroup","readTime","prefixPath","documentId"],mI=["canonicalId","targetId"],yI=["targetId","path"],gI=["path","targetId"],kI=["collectionId","parent"],bI=["indexId","uid"],wI=["uid","sequenceNumber"],_I=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xI=["indexId","uid","orderedDocumentKey"],EI=["userId","collectionPath","documentId"],II=["userId","collectionPath","largestBatchId"],SI=["userId","collectionGroup","largestBatchId"],TI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),CI=[].concat(h(TI),["documentOverlays"]),AI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NI=AI,OI=[].concat(NI,["indexConfiguration","indexState","indexEntries"]),RI=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return y(n)}(VE);function PI(e,t){var n=oE(e);return GE.O(n.ue,t)}function DI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function LI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function MI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var FI=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||UI.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,UI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,UI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new jI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new jI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new jI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new jI(this.root,e,this.comparator,!0)}}]),e}(),jI=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),UI=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw iE();if(this.right.isRed())throw iE();var e=this.left.check();if(e!==this.right.check())throw iE();return e+(this.isRed()?0:1)}}]),e}();UI.EMPTY=null,UI.RED=!0,UI.BLACK=!1,UI.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw iE()}},{key:"value",get:function(){throw iE()}},{key:"color",get:function(){throw iE()}},{key:"left",get:function(){throw iE()}},{key:"right",get:function(){throw iE()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new UI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var VI=function(){function e(t){d(this,e),this.comparator=t,this.data=new FI(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new zI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new zI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),zI=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function BI(e){return e.hasNext()?e.getNext():void 0}var qI=function(){function e(t){d(this,e),this.fields=t,t.sort(CE.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new VI(CE.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=T(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return wE(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),KI=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(I(Error));var GI=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return bE(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new KI("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();GI.EMPTY_BYTE_STRING=new GI("");var HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function WI(e){if(aE(!!e),"string"==typeof e){var t=0,n=HI.exec(e);if(aE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:QI(e.seconds),nanos:QI(e.nanos)}}function QI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $I(e){return"string"==typeof e?GI.fromBase64String(e):GI.fromUint8Array(e)}function YI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function JI(e){var t=e.mapValue.fields.__previous_value__;return YI(t)?JI(t):t}function XI(e){var t=WI(e.mapValue.fields.__local_write_time__.timestampValue);return new xE(t.seconds,t.nanos)}var ZI=y((function e(t,n,r,i,a,o,u,s,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),eS=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),tS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nS={nullValue:"NULL_VALUE"};function rS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?YI(e)?4:yS(e)?9007199254740991:10:iE()}function iS(e,t){if(e===t)return!0;var n=rS(e);if(n!==rS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return XI(e).isEqual(XI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=WI(e.timestampValue),r=WI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $I(e.bytesValue).isEqual($I(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return QI(e.geoPointValue.latitude)===QI(t.geoPointValue.latitude)&&QI(e.geoPointValue.longitude)===QI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return QI(e.integerValue)===QI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=QI(e.doubleValue),r=QI(t.doubleValue);return n===r?rI(n)===rI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wE(e.arrayValue.values||[],t.arrayValue.values||[],iS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(DI(n)!==DI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!iS(n[i],r[i])))return!1;return!0}(e,t);default:return iE()}}function aS(e,t){return void 0!==(e.values||[]).find((function(e){return iS(e,t)}))}function oS(e,t){if(e===t)return 0;var n=rS(e),r=rS(t);if(n!==r)return bE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bE(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=QI(e.integerValue||e.doubleValue),r=QI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return uS(e.timestampValue,t.timestampValue);case 4:return uS(XI(e),XI(t));case 5:return bE(e.stringValue,t.stringValue);case 6:return function(e,t){var n=$I(e),r=$I(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=bE(n[i],r[i]);if(0!==a)return a}return bE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=bE(QI(e.latitude),QI(t.latitude));return 0!==n?n:bE(QI(e.longitude),QI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=oS(n[i],r[i]);if(a)return a}return bE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tS.mapValue&&t===tS.mapValue)return 0;if(e===tS.mapValue)return 1;if(t===tS.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=bE(r[o],a[o]);if(0!==u)return u;var s=oS(n[r[o]],i[a[o]]);if(0!==s)return s}return bE(r.length,a.length)}(e.mapValue,t.mapValue);default:throw iE()}}function uS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bE(e,t);var n=WI(e),r=WI(t),i=bE(n.seconds,r.seconds);return 0!==i?i:bE(n.nanos,r.nanos)}function sS(e){return cS(e)}function cS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=WI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return $I(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return AE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=cS(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(cS(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):iE()}function lS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fS(e){return!!e&&"integerValue"in e}function hS(e){return!!e&&"arrayValue"in e}function dS(e){return!!e&&"nullValue"in e}function pS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vS(e){return!!e&&"mapValue"in e}function mS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return LI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function yS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function gS(e){return"nullValue"in e?nS:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lS(eS.empty(),AE.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:iE()}function kS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lS(eS.empty(),AE.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tS:iE()}function bS(e,t){var n=oS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wS(e,t){var n=oS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var _S=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mS(t)}},{key:"setAll",value:function(e){var t=this,n=CE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return iS(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){LI(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xS(e){var t=[];return LI(e.fields,(function(e,n){var r=new CE([e]);if(vS(n)){var i=xS(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new qI(t)}var ES=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(EE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_S.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_S.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=EE.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,EE.min(),EE.min(),EE.min(),_S.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,EE.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,EE.min(),EE.min(),_S.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,EE.min(),EE.min(),_S.empty(),2)}}]),e}(),IS=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function SS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?AE.comparator(AE.fromName(o.referenceValue),n.key):oS(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function TS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!iS(e.position[n],t.position[n]))return!1;return!0}var CS=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function AS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var NS=y((function e(){d(this,e)})),OS=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oS(t,this.value)):null!==t&&rS(this.value)===rS(t)&&this.matchesComparison(oS(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return iE()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new zS(e,t,r):"array-contains"===t?new GS(e,r):"in"===t?new HS(e,r):"not-in"===t?new WS(e,r):"array-contains-any"===t?new QS(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new BS(e,n):new qS(e,n)}}]),n}(NS),RS=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return y(n,[{key:"matches",value:function(e){return PS(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(NS);function PS(e){return"and"===e.op}function DS(e){return"or"===e.op}function LS(e){return MS(e)&&PS(e)}function MS(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof RS)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function FS(e){if(e instanceof OS)return e.field.canonicalString()+e.op.toString()+sS(e.value);if(LS(e))return e.filters.map((function(e){return FS(e)})).join(",");var t=e.filters.map((function(e){return FS(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function jS(e,t){return e instanceof OS?function(e,t){return t instanceof OS&&e.op===t.op&&e.field.isEqual(t.field)&&iS(e.value,t.value)}(e,t):e instanceof RS?function(e,t){return t instanceof RS&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&jS(n,t.filters[r])}),!0)}(e,t):void iE()}function US(e,t){var n=e.filters.concat(t);return RS.create(n,e.op)}function VS(e){return e instanceof OS?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sS(e.value))}(e):e instanceof RS?function(e){return e.op.toString()+" {"+e.getFilters().map(VS).join(" ,")+"}"}(e):"Filter"}var zS=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=AE.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=AE.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(OS),BS=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=KS("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(OS),qS=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=KS("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(OS);function KS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return AE.fromName(e.referenceValue)}))}var GS=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hS(t)&&aS(t.arrayValue,this.value)}}]),n}(OS),HS=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&aS(this.value.arrayValue,t)}}]),n}(OS),WS=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(aS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!aS(this.value.arrayValue,t)}}]),n}(OS),QS=function(e){k(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return aS(t.value.arrayValue,e)}))}}]),n}(OS),$S=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function YS(e){return new $S(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function JS(e){var t=oE(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return FS(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),nI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sS(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sS(e)})).join(",")),t.he=n}return t.he}function XS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!AS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!jS(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TS(e.startAt,t.startAt)&&TS(e.endAt,t.endAt)}function ZS(e){return AE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function eT(e,t){return e.filters.filter((function(e){return e instanceof OS&&e.field.isEqual(t)}))}function tT(e,t,n){var r,i=nS,a=!0,o=T(eT(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=nS,c=!0;switch(u.op){case"<":case"<=":s=gS(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=nS}bS({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function nT(e,t,n){var r,i=tS,a=!0,o=T(eT(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=tS,c=!0;switch(u.op){case">=":case">":s=kS(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=tS}wS({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];wS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var rT=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function iT(e,t,n,r,i,a,o,u){return new rT(e,t,n,r,i,a,o,u)}function aT(e){return new rT(e)}function oT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sT(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function cT(e){return null!==e.collectionGroup}function lT(e){var t=oE(e);if(null===t.Pe){t.Pe=[];var n=sT(t),r=uT(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new CS(n)),t.Pe.push(new CS(CE.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new CS(CE.keyField(),s))}}}return t.Pe}function fT(e){var t=oE(e);return t.Ie||(t.Ie=hT(t,lT(e))),t.Ie}function hT(e,t){if("F"===e.limitType)return YS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new CS(e.field,t)}));var n=e.endAt?new IS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new IS(e.startAt.position,e.startAt.inclusive):null;return YS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function dT(e,t){t.getFirstInequalityField(),sT(e);var n=e.filters.concat([t]);return new rT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pT(e,t,n){return new rT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vT(e,t){return XS(fT(e),fT(t))&&e.limitType===t.limitType}function mT(e){return"".concat(JS(fT(e)),"|lt:").concat(e.limitType)}function yT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return VS(e)})).join(", "),"]")),nI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sS(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sS(e)})).join(",")),"Target(".concat(t,")")}(fT(e)),"; limitType=").concat(e.limitType,")")}function gT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):AE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(lT(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=SS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lT(e),t))&&!(e.endAt&&!function(e,t,n){var r=SS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lT(e),t))}(e,t)}function kT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bT(e){return function(t,n){var r,i=!1,a=T(lT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=wT(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function wT(e,t,n){var r=e.field.isKeyField()?AE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oS(r,i):iE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return iE()}}var _T=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){LI(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return MI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xT=new FI(AE.comparator);function ET(){return xT}var IT=new FI(AE.comparator);function ST(){for(var e=IT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function TT(e){var t=IT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function CT(){return NT()}function AT(){return NT()}function NT(){return new _T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var OT=new FI(AE.comparator),RT=new VI(AE.comparator);function PT(){for(var e=RT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var DT=new VI(bE);function LT(){return DT}function MT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rI(t)?"-0":t}}function FT(e){return{integerValue:""+e}}function jT(e,t){return iI(t)?FT(t):MT(e,t)}var UT=y((function e(){d(this,e),this._=void 0}));function VT(e,t,n){return e instanceof qT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&YI(t)&&(t=JI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof KT?GT(e,t):e instanceof HT?WT(e,t):function(e,t){var n=BT(e,t),r=$T(n)+$T(e.Ee);return fS(n)&&fS(e.Ee)?FT(r):MT(e.serializer,r)}(e,t)}function zT(e,t,n){return e instanceof KT?GT(e,t):e instanceof HT?WT(e,t):n}function BT(e,t){return e instanceof QT?function(e){return fS(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var qT=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(UT),KT=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(UT);function GT(e,t){var n,r=YT(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return iS(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var HT=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(UT);function WT(e,t){var n,r=YT(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!iS(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var QT=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return y(n)}(UT);function $T(e){return QI(e.integerValue||e.doubleValue)}function YT(e){return hS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var JT=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var XT=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),ZT=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function eC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tC=y((function e(){d(this,e)}));function nC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pC(e.key,ZT.none()):new uC(e.key,e.data,ZT.none());var n,r=e.data,i=_S.empty(),a=new VI(CE.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new sC(e.key,i,new qI(a.toArray()),ZT.none())}function rC(e,t,n){e instanceof uC?function(e,t,n){var r=e.value.clone(),i=lC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sC?function(e,t,n){if(eC(e.precondition,t)){var r=lC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function iC(e,t,n,r){return e instanceof uC?function(e,t,n,r){if(!eC(e.precondition,t))return n;var i=e.value.clone(),a=fC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sC?function(e,t,n,r){if(!eC(e.precondition,t))return n;var i=fC(e.fieldTransforms,r,t),a=t.data;return a.setAll(cC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return eC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function aC(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=BT(a.transform,o||null);null!=u&&(null===r&&(r=_S.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function oC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wE(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof KT&&t instanceof KT||e instanceof HT&&t instanceof HT?wE(e.elements,t.elements,iS):e instanceof QT&&t instanceof QT?iS(e.Ee,t.Ee):e instanceof qT&&t instanceof qT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var uC=function(e){k(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tC),sC=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(tC);function cC(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function lC(e,t,n){var r=new Map;aE(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,zT(o,u,n[i]))}return r}function fC(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,VT(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var hC,dC,pC=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tC),vC=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tC),mC=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rC(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=iC(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=iC(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=AT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=nC(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(EE.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),PT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&wE(this.mutations,e.mutations,(function(e,t){return oC(e,t)}))&&wE(this.baseMutations,e.baseMutations,(function(e,t){return oC(e,t)}))}}]),e}(),yC=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){aE(t.mutations.length===r.length);for(var i=OT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gC=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),kC=y((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function bC(e){switch(e){default:return iE();case uE.CANCELLED:case uE.UNKNOWN:case uE.DEADLINE_EXCEEDED:case uE.RESOURCE_EXHAUSTED:case uE.INTERNAL:case uE.UNAVAILABLE:case uE.UNAUTHENTICATED:return!1;case uE.INVALID_ARGUMENT:case uE.NOT_FOUND:case uE.ALREADY_EXISTS:case uE.PERMISSION_DENIED:case uE.FAILED_PRECONDITION:case uE.ABORTED:case uE.OUT_OF_RANGE:case uE.UNIMPLEMENTED:case uE.DATA_LOSS:return!0}}function wC(e){if(void 0===e)return tE("GRPC error has no .code"),uE.UNKNOWN;switch(e){case hC.OK:return uE.OK;case hC.CANCELLED:return uE.CANCELLED;case hC.UNKNOWN:return uE.UNKNOWN;case hC.DEADLINE_EXCEEDED:return uE.DEADLINE_EXCEEDED;case hC.RESOURCE_EXHAUSTED:return uE.RESOURCE_EXHAUSTED;case hC.INTERNAL:return uE.INTERNAL;case hC.UNAVAILABLE:return uE.UNAVAILABLE;case hC.UNAUTHENTICATED:return uE.UNAUTHENTICATED;case hC.INVALID_ARGUMENT:return uE.INVALID_ARGUMENT;case hC.NOT_FOUND:return uE.NOT_FOUND;case hC.ALREADY_EXISTS:return uE.ALREADY_EXISTS;case hC.PERMISSION_DENIED:return uE.PERMISSION_DENIED;case hC.FAILED_PRECONDITION:return uE.FAILED_PRECONDITION;case hC.ABORTED:return uE.ABORTED;case hC.OUT_OF_RANGE:return uE.OUT_OF_RANGE;case hC.UNIMPLEMENTED:return uE.UNIMPLEMENTED;case hC.DATA_LOSS:return uE.DATA_LOSS;default:return iE()}}(dC=hC||(hC={}))[dC.OK=0]="OK",dC[dC.CANCELLED=1]="CANCELLED",dC[dC.UNKNOWN=2]="UNKNOWN",dC[dC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dC[dC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dC[dC.NOT_FOUND=5]="NOT_FOUND",dC[dC.ALREADY_EXISTS=6]="ALREADY_EXISTS",dC[dC.PERMISSION_DENIED=7]="PERMISSION_DENIED",dC[dC.UNAUTHENTICATED=16]="UNAUTHENTICATED",dC[dC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dC[dC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dC[dC.ABORTED=10]="ABORTED",dC[dC.OUT_OF_RANGE=11]="OUT_OF_RANGE",dC[dC.UNIMPLEMENTED=12]="UNIMPLEMENTED",dC[dC.INTERNAL=13]="INTERNAL",dC[dC.UNAVAILABLE=14]="UNAVAILABLE",dC[dC.DATA_LOSS=15]="DATA_LOSS";var _C=null;function xC(){return new TextEncoder}var EC=new Qx([4294967295,4294967295],0);function IC(e){var t=xC().encode(e),n=new Wx;return n.update(t),new Uint8Array(n.digest())}function SC(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Qx([n,r],0),new Qx([i,a],0)]}var TC=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new CC("Invalid padding: ".concat(n));if(r<0)throw new CC("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new CC("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new CC("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Qx.fromNumber(this.Ae)}return y(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Qx.fromNumber(n)));return 1===r.compare(EC)&&(r=new Qx([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=l(SC(IC(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=l(SC(IC(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),CC=function(e){k(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(I(Error)),AC=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,NC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(EE.min(),i,new FI(bE),ET(),PT())}}]),e}(),NC=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,PT(),PT(),PT())}}]),e}(),OC=y((function e(t,n,r,i){d(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),RC=y((function e(t,n){d(this,e),this.targetId=t,this.ye=n})),PC=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:GI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),DC=function(){function e(){d(this,e),this.we=0,this.Se=FC(),this.be=GI.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return y(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=PT(),t=PT(),n=PT();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:iE()}})),new NC(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=FC()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),LC=function(){function e(t){d(this,e),this.Qe=t,this.Ke=new Map,this.$e=ET(),this.Ue=MC(),this.We=new FI(bE)}return y(e,[{key:"Ge",value:function(e){var t,n=T(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:iE()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(ZS(i))if(0===n){var a=new AE(i.path);this.je(t,a,ES.newNoDocument(a,EE.min()))}else aE(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==_C||_C.it(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=$I(o).toUint8Array()}catch(e){if(e instanceof KI)return nE("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new TC(n,s,l)}catch(e){return nE(e instanceof CC?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&ZS(a.target)){var o=new AE(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,ES.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=PT();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new AC(e,n,this.We,this.$e,r);return this.$e=ET(),this.Ue=MC(),this.We=new FI(bE),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new DC,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new VI(bE),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||eE("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new DC),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function MC(){return new FI(AE.comparator)}function FC(){return new FI(AE.comparator)}var jC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"},zC=y((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function BC(e,t){return e.useProto3Json||nI(t)?t:{value:t}}function qC(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function KC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function GC(e,t){return qC(e,t.toTimestamp())}function HC(e){return aE(!!e),EE.fromTimestamp(function(e){var t=WI(e);return new xE(t.seconds,t.nanos)}(e))}function WC(e,t){return function(e){return new SE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function QC(e){var t=SE.fromString(e);return aE(yA(t)),t}function $C(e,t){return WC(e.databaseId,t.path)}function YC(e,t){var n=QC(t);if(n.get(1)!==e.databaseId.projectId)throw new sE(uE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sE(uE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new AE(eA(n))}function JC(e,t){return WC(e.databaseId,t)}function XC(e){var t=QC(e);return 4===t.length?SE.emptyPath():eA(t)}function ZC(e){return new SE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eA(e){return aE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tA(e,t,n){return{name:$C(e,t),fields:n.value.mapValue.fields}}function nA(e,t,n){var r=YC(e,t.name),i=HC(t.updateTime),a=t.createTime?HC(t.createTime):EE.min(),o=new _S({mapValue:{fields:t.fields}}),u=ES.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function rA(e,t){return"found"in t?function(e,t){aE(!!t.found),t.found.name,t.found.updateTime;var n=YC(e,t.found.name),r=HC(t.found.updateTime),i=t.found.createTime?HC(t.found.createTime):EE.min(),a=new _S({mapValue:{fields:t.found.fields}});return ES.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){aE(!!t.missing),aE(!!t.readTime);var n=YC(e,t.missing),r=HC(t.readTime);return ES.newNoDocument(n,r)}(e,t):iE()}function iA(e,t){var n;if(t instanceof uC)n={update:tA(e,t.key,t.value)};else if(t instanceof pC)n={delete:$C(e,t.key)};else if(t instanceof sC)n={update:tA(e,t.key,t.data),updateMask:mA(t.fieldMask)};else{if(!(t instanceof vC))return iE();n={verify:$C(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof qT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof KT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof HT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof QT)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw iE()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:GC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:iE()}(e,t.precondition)),n}function aA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ZT.updateTime(HC(e.updateTime)):void 0!==e.exists?ZT.exists(e.exists):ZT.none()}(t.currentDocument):ZT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)aE("REQUEST_TIME"===t.setToServerValue),n=new qT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new KT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new HT(i)}else"increment"in t?n=new QT(e,t.increment):iE();var a=CE.fromServerFormat(t.fieldPath);return new JT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=YC(e,t.update.name),a=new _S({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new qI(t.map((function(e){return CE.fromServerFormat(e)})))}(t.updateMask);return new sC(i,a,o,n,r)}return new uC(i,a,n,r)}if(t.delete){var u=YC(e,t.delete);return new pC(u,n)}if(t.verify){var s=YC(e,t.verify);return new vC(s,n)}return iE()}function oA(e,t){return{documents:[JC(e,t.path)]}}function uA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=JC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=JC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return vA(RS.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dA(e.field),direction:lA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=BC(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sA(e){var t=XC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){aE(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=cA(e);return t instanceof RS&&LS(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new CS(pA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return nI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new IS(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new IS(n,t)}(n.endAt)),iT(t,i,u,o,s,"F",c,l)}function cA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pA(e.unaryFilter.field);return OS.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pA(e.unaryFilter.field);return OS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pA(e.unaryFilter.field);return OS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pA(e.unaryFilter.field);return OS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return iE()}}(e):void 0!==e.fieldFilter?function(e){return OS.create(pA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return iE()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return RS.create(e.compositeFilter.filters.map((function(e){return cA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return iE()}}(e.compositeFilter.op))}(e):iE()}function lA(e){return jC[e]}function fA(e){return UC[e]}function hA(e){return VC[e]}function dA(e){return{fieldPath:e.canonicalString()}}function pA(e){return CE.fromServerFormat(e.fieldPath)}function vA(e){return e instanceof OS?function(e){if("=="===e.op){if(pS(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NAN"}};if(dS(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pS(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NOT_NAN"}};if(dS(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dA(e.field),op:fA(e.op),value:e.value}}}(e):e instanceof RS?function(e){var t=e.getFilters().map((function(e){return vA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:hA(e.op),filters:t}}}(e):iE()}function mA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var gA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:EE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:EE.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:GI.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),kA=y((function e(t){d(this,e),this.ht=t}));function bA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$C(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qC(e,t.version.toTimestamp()),createTime:qC(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_A(t.version)};else{if(!t.isUnknownDocument())return iE();r.unknownDocument={path:n.path.toArray(),version:_A(t.version)}}return r}function wA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _A(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xA(e){var t=new xE(e.seconds,e.nanoseconds);return EE.fromTimestamp(t)}function EA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return aA(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return aA(e.ht,t)})),u=xE.fromMillis(t.localWriteTimeMs);return new mC(t.batchId,u,n,o)}function IA(e){var t,n=xA(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?xA(e.lastLimboFreeSnapshotVersion):EE.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return aE(1===e.documents.length),fT(aT(XC(e.documents[0])))}(e.query):function(e){return fT(sA(e))}(e.query),new gA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,GI.fromBase64String(e.resumeToken))}function SA(e,t){var n,r=_A(t.snapshotVersion),i=_A(t.lastLimboFreeSnapshotVersion);n=ZS(t.target)?oA(e.ht,t.target):uA(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:JS(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function TA(e){var t=sA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pT(t,t.limit,"L"):t}function CA(e,t){return new gC(t.largestBatchId,aA(e.ht,t.overlayMutation))}function AA(e,t){var n=t.path.lastSegment();return[e,aI(t.path.popLast()),n]}function NA(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:_A(r.readTime),documentKey:aI(r.documentKey.path),largestBatchId:r.largestBatchId}}var OA=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return RA(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:xA(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return RA(e).put(function(e){return{bundleId:e.id,createTime:_A(HC(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return PA(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:TA(e.bundledQuery),readTime:xA(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return PA(e).put(function(e){return{name:e.name,readTime:_A(HC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function RA(e){return PI(e,"bundles")}function PA(e){return PI(e,"namedQueries")}var DA=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return LA(e).get(AA(this.userId,t)).next((function(e){return e?CA(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=CT();return qE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new gC(t,a);i.push(r.It(e,o))})),qE.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(aI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(LA(e).J("collectionPathOverlayIndex",i))})),qE.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=CT(),a=aI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return LA(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=CA(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=CT(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return LA(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=CA(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return LA(e).put(function(e,t,n){var r=l(AA(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:iA(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function LA(e){return PI(e,"documentOverlays")}var MA=function(){function e(){d(this,e)}return y(e,[{key:"Tt",value:function(e,t){this.Et(e,t),t.dt()}},{key:"Et",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(QI(e.integerValue));else if("doubleValue"in e){var n=QI(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),rI(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt($I(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?yS(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):iE()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Et(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Et(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),AE.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function FA(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function jA(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=FA(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}MA.vt=new MA;var UA=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Ct",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=jA(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=jA(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),VA=function(){function e(t){d(this,e),this.jt=t}return y(e,[{key:"yt",value:function(e){this.jt.Ct(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"dt",value:function(){this.jt.$t()}}]),e}(),zA=function(){function e(t){d(this,e),this.jt=t}return y(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"dt",value:function(){this.jt.Wt()}}]),e}(),BA=function(){function e(){d(this,e),this.jt=new UA,this.Ht=new VA(this.jt),this.Jt=new zA(this.jt)}return y(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),qA=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function KA(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=GA(e.arrayValue,t.arrayValue))?n:0!==(n=GA(e.directionalValue,t.directionalValue))?n:AE.comparator(e.documentKey,t.documentKey)}function GA(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var HA=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"nn",value:function(e){aE(e.collectionGroup===this.collectionId);var t=OE(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=RE(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],u))return!1}return!0}},{key:"rn",value:function(e){var t,n=T(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function WA(e){var t,n;if(aE(e instanceof OS||e instanceof RS),e instanceof OS){if(e instanceof HS){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return OS.create(e.field,"==",t)})))||[];return RS.create(r,"or")}return e}var i=e.filters.map((function(e){return WA(e)}));return RS.create(i,e.op)}function QA(e){if(0===e.getFilters().length)return[];var t=XA(WA(e));return aE(JA(t)),$A(t)||YA(t)?[t]:t.getFilters()}function $A(e){return e instanceof OS}function YA(e){return e instanceof RS&&LS(e)}function JA(e){return $A(e)||YA(e)||function(e){if(e instanceof RS&&DS(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!$A(r)&&!YA(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function XA(e){if(aE(e instanceof OS||e instanceof RS),e instanceof OS)return e;if(1===e.filters.length)return XA(e.filters[0]);var t=e.filters.map((function(e){return XA(e)})),n=RS.create(t,e.op);return JA(n=tN(n))?n:(aE(n instanceof RS),aE(PS(n)),aE(n.filters.length>1),n.filters.reduce((function(e,t){return ZA(e,t)})))}function ZA(e,t){var n;return aE(e instanceof OS||e instanceof RS),aE(t instanceof OS||t instanceof RS),n=e instanceof OS?t instanceof OS?function(e,t){return RS.create([e,t],"and")}(e,t):eN(e,t):t instanceof OS?eN(t,e):function(e,t){if(aE(e.filters.length>0&&t.filters.length>0),PS(e)&&PS(t))return US(e,t.getFilters());var n=DS(e)?e:t,r=DS(e)?t:e,i=n.filters.map((function(e){return ZA(e,r)}));return RS.create(i,"or")}(e,t),tN(n)}function eN(e,t){if(PS(t))return US(t,e.getFilters());var n=t.filters.map((function(t){return ZA(e,t)}));return RS.create(n,"or")}function tN(e){if(aE(e instanceof OS||e instanceof RS),e instanceof OS)return e;var t=e.getFilters();if(1===t.length)return tN(t[0]);if(MS(e))return e;var n=t.map((function(e){return tN(e)})),r=[];return n.forEach((function(t){t instanceof OS?r.push(t):t instanceof RS&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:RS.create(r,e.op)}var nN=function(){function e(){d(this,e),this._n=new rN}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),qE.resolve()}},{key:"getCollectionParents",value:function(e,t){return qE.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return qE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return qE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return qE.resolve(null)}},{key:"getIndexType",value:function(e,t){return qE.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return qE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return qE.resolve(null)}},{key:"getMinOffset",value:function(e,t){return qE.resolve(FE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return qE.resolve(FE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return qE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return qE.resolve()}}]),e}(),rN=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new VI(SE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new VI(SE.comparator)).toArray()}}]),e}(),iN=new Uint8Array(0),aN=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.an=new rN,this.un=new _T((function(e){return JS(e)}),(function(e,t){return XS(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:aI(i)};return oN(e).put(a)}return qE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[_E(t),""],!1,!0);return oN(e).G(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(sI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=sN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=cN(e);return a.next((function(e){o.put(NA(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=sN(e),r=cN(e),i=uN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=uN(e),i=!0,a=new Map;return qE.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=PT(),o=[];return qE.forEach(a,(function(i,a){eE("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(JS(t)));var u=function(e,t){var n=OE(t);if(void 0===n)return null;var r,i=T(eT(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=T(RE(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=T(eT(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=T(RE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tT(e,o.fieldPath,e.startAt):nT(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new IS(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(RE(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?nT(e,o.fieldPath,e.endAt):tT(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new IS(r,i)}(a,i),f=n.hn(i,a,c),h=n.hn(i,a,l),d=n.Pn(i,a,s),p=n.In(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return qE.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=AE.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return qE.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:QA(RS.create(e.filters,"and")).map((function(t){return YS(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[d/c]):iN,f=u.En(e,s,n[d%c],r),p=u.dn(e,s,i[d%c],a),v=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"En",value:function(e,t,n,r){var i=new qA(e,AE.empty(),t,n);return r?i:i.Zt()}},{key:"dn",value:function(e,t,n,r){var i=new qA(e,AE.empty(),t,n);return r?i.Zt():i}},{key:"ln",value:function(e,t){var n=new HA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return qE.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new VI(CE.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=T(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new BA,i=T(RE(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Yt(a.kind);MA.vt.Tt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new BA;return MA.vt.Tt(e,t.Yt(0)),t.zt()}},{key:"Rn",value:function(e,t){var n=new BA;return MA.vt.Tt(lS(this.databaseId,t),n.Yt(function(e){var t=RE(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new BA);var i,a=0,o=T(RE(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=T(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Vn(t,s.fieldPath)&&hS(c))r=this.mn(r,s,c);else{var h=f.Yt(s.kind);MA.vt.Tt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"mn",value:function(e,t,n){var r,i=h(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=T(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new BA;f.seed(l.zt()),MA.vt.Tt(s,f.Yt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof OS&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=sN(e),i=cN(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return qE.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new DE(t.sequenceNumber,new FE(xA(t.readTime),new AE(sI(t.documentKey)),t.largestBatchId)):DE.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new PE(CE.fromServerFormat(n),r)}));return new NE(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:bE(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=sN(e),a=cN(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return qE.forEach(t,(function(t){return a.put(NA(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return qE.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?qE.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),qE.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?qE.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return uN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return uN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=uN(e),i=new VI(KA);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new qA(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new VI(KA),r=this.An(t,e);if(null==r)return n;var i=OE(t);if(null!=i){var a=e.data.field(i.fieldPath);if(hS(a)){var o,u=T(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new qA(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new qA(t.indexId,e.key,iN,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;eE("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=BI(a),s=BI(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=BI(o)):l?(i(u),u=BI(a)):(u=BI(a),s=BI(o))}}(r,i,KA,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),qE.waitFor(o)}},{key:"gn",value:function(e){var t=1;return cN(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return KA(e,t)})).filter((function(e,t,n){return!t||0!==KA(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=KA(o,e),s=KA(o,t);if(0===u)r[0]=e.Zt();else if(u>0&&s<0)r.push(o),r.push(o.Zt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,iN,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,iN,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Dn",value:function(e,t){return KA(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(lN)}},{key:"getMinOffset",value:function(e,t){var n=this;return qE.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||iE()}))})).next(lN)}}]),e}();function oN(e){return PI(e,"collectionParents")}function uN(e){return PI(e,"indexEntries")}function sN(e){return PI(e,"indexConfiguration")}function cN(e){return PI(e,"indexState")}function lN(e){aE(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;jE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new FE(t.readTime,t.documentKey,n)}var fN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hN=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function dN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){aE(1===u)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=fI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return qE.waitFor(a).next((function(){return l}))}function pN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw iE();t=e.noDocument}return JSON.stringify(t).length}hN.DEFAULT_COLLECTION_PERCENTILE=10,hN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hN.DEFAULT=new hN(41943040,hN.DEFAULT_COLLECTION_PERCENTILE,hN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hN.DISABLED=new hN(-1,0,0);var vN=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yN(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gN(e),o=yN(e);return o.add({}).next((function(u){aE("number"==typeof u);var s,c=new mC(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return iA(e.ht,t)})),i=n.mutations.map((function(t){return iA(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new VI((function(e,t){return bE(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=fI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,hI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[u]=c.keys()})),qE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return yN(e).get(t).next((function(e){return e?(aE(e.userId===n.userId),EA(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.vn[t]?qE.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return yN(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(aE(t.batchId>=r),a=EA(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yN(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yN(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return EA(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=lI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gN(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=sI(c);if(s===n.userId&&t.path.isEqual(h))return yN(e).get(f).next((function(e){if(!e)throw iE();aE(e.userId===n.userId),a.push(EA(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new VI(bE),i=[];return t.forEach((function(t){var a=lI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=gN(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=sI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),qE.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=lI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new VI(bE);return gN(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=sI(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yN(e).get(t).next((function(e){if(null===e)throw iE();aE(e.userId===n.userId),r.push(EA(n.serializer,e))})))})),qE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return dN(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),qE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return qE.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return gN(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=sI(e[1]);i.push(a)}else r.done()})).next((function(){aE(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return mN(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return kN(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return aE(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function mN(e,t,n){var r=lI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gN(e).Z({range:a,Y:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function yN(e){return PI(e,"mutations")}function gN(e){return PI(e,"documentMutations")}function kN(e){return PI(e,"mutationQueues")}var bN=function(){function e(t){d(this,e),this.On=t}return y(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),wN=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new bN(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return EE.fromTimestamp(new xE(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return _N(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return aE(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return _N(e).Z((function(o,u){var s=IA(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return qE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return _N(e).Z((function(e,n){var r=IA(n);t(r)}))}},{key:"Ln",value:function(e){return xN(e).get("targetGlobalKey").next((function(e){return aE(null!==e),e}))}},{key:"kn",value:function(e,t){return xN(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return _N(e).put(SA(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=JS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _N(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=IA(n);XS(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=EN(e);return t.forEach((function(t){var o=aI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),qE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=EN(e);return qE.forEach(t,(function(t){var a=aI(t.path);return qE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=EN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=EN(e),i=PT();return r.Z({range:n,Y:!0},(function(e,t,n){var r=sI(e[1]),a=new AE(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=aI(t.path),r=IDBKeyRange.bound([n],[_E(n)],!1,!0),i=0;return EN(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return _N(e).get(t).next((function(e){return e?IA(e):null}))}}]),e}();function _N(e){return PI(e,"targets")}function xN(e){return PI(e,"targetGlobal")}function EN(e){return PI(e,"targetDocuments")}function IN(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=bE(r,o);return 0===s?bE(i,u):s}var SN=function(){function e(t){d(this,e),this.Kn=t,this.buffer=new VI(IN),this.$n=0}return y(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();IN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),TN=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;eE("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!QE(e.t0)){e.next=12;break}eE("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,zE(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),CN=function(){function e(t,n){d(this,e),this.jn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return qE.resolve(tI.ae);var r=new SN(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(eE("LruGarbageCollector","Garbage collection skipped; disabled"),qE.resolve(fN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(eE("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),fN):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(eE("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Zx()<=Hc.DEBUG&&eE("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),qE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function AN(e,t){return new CN(e,t)}var NN=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=AN(this,n)}return y(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ON(e,n)}},{key:"removeReference",value:function(e,t,n){return ON(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ON(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return kN(e).X((function(r){return mN(e,r,t).next((function(e){return e&&(n=!0),qE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,EE.min()),EN(e).delete(function(e){return[0,aI(e.path)]}(o))}))}));i.push(s)}})).next((function(){return qE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ON(e,t)}},{key:"Xn",value:function(e,t){var n,r=EN(e),i=tI.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==tI.ae&&t(new AE(sI(n)),i),i=s,n=u):i=tI.ae})).next((function(){i!==tI.ae&&t(new AE(sI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ON(e,t){return EN(e).put(function(e,t){return{targetId:0,path:aI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var RN=function(){function e(){d(this,e),this.changes=new _T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ES.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?qE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),PN=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return FN(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return FN(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ES.newInvalidDocument(t);return FN(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jN(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:ES.newInvalidDocument(t)};return FN(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jN(t))},(function(e,i){r={document:n.nr(t,i),size:pN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ET();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=ET(),i=new FI(AE.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,pN(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return qE.resolve();var r=new VI(VN);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(jN(r.first()),jN(r.last())),a=r.getIterator(),o=a.getNext();return FN(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=AE.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&VN(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(jN(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),wA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return FN(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=ET(),o=T(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.nr(AE.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(gT(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ET(),o=UN(t,n),u=UN(t,FE.max());return FN(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(AE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new LN(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return MN(e).get("remoteDocumentGlobalKey").next((function(e){return aE(!!e),e}))}},{key:"tr",value:function(e,t){return MN(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=nA(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=AE.fromSegments(t.noDocument.path),i=xA(t.noDocument.readTime);n=ES.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return iE();var a=AE.fromSegments(t.unknownDocument.path),o=xA(t.unknownDocument.version);n=ES.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xE(e[0],e[1]);return EE.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(EE.min()))return n}return ES.newInvalidDocument(e)}}]),e}();function DN(e){return new PN(e)}var LN=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new _T((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new VI((function(e,t){return bE(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bA(t.ar.serializer,o);i=i.add(a.path.popLast());var c=pN(s);r+=c-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bA(t.ar.serializer,o.convertToNoDocument(EE.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),qE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(RN);function MN(e){return PI(e,"remoteDocumentGlobal")}function FN(e){return PI(e,"remoteDocumentsV14")}function jN(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UN(e,t){var n=t.documentKey.path.toArray();return[e,wA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VN(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=bE(n[a],r[a]))return i;return(i=bE(n.length,r.length))||((i=bE(n[n.length-2],r[r.length-2]))||bE(n[n.length-1],r[r.length-1]))}var zN=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),BN=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&iC(r.mutation,e,qI.empty(),xE.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,PT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PT(),i=CT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ST();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=CT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,PT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ET(),a=NT(),o=NT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof sC)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),iC(o.mutation,t,o.mutation.getFieldMask(),xE.now())):a.set(t.key,qI.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new zN(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=NT(),i=new FI((function(e,t){return e-t})),a=PT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||qI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||PT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=AT();c.forEach((function(e){if(!a.has(e)){var n=nC(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return qE.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return AE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):qE.resolve(CT()),u=-1,s=a;return o.next((function(t){return qE.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?qE.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,PT())})).next((function(e){return{batchId:u,changes:TT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new AE(t)).next((function(e){var t=ST();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ST();return this.indexManager.getCollectionParents(e,i).next((function(o){return qE.forEach(o,(function(o){var u=function(e,t){return new rT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ES.newInvalidDocument(r)))}));var n=ST();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&iC(a.mutation,i,qI.empty(),xE.now()),gT(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),qN=function(){function e(t){d(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return qE.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:HC(e.createTime)}}(t)),qE.resolve()}},{key:"getNamedQuery",value:function(e,t){return qE.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:TA(e.bundledQuery),readTime:HC(e.readTime)}}(t)),qE.resolve()}}]),e}(),KN=function(){function e(){d(this,e),this.overlays=new FI(AE.comparator),this.hr=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return qE.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=CT();return qE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),qE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),qE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=CT(),i=t.length+1,a=new AE(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return qE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new FI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=CT(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=CT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return qE.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gC(t,n));var a=this.hr.get(t);void 0===a&&(a=PT(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),GN=function(){function e(){d(this,e),this.Pr=new VI(HN.Ir),this.Tr=new VI(HN.Er)}return y(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new HN(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new HN(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new AE(new SE([])),r=new HN(n,e),i=new HN(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new AE(new SE([])),n=new HN(t,e),r=new HN(t,e+1),i=PT();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new HN(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),HN=function(){function e(t,n){d(this,e),this.key=t,this.pr=n}return y(e,null,[{key:"Ir",value:function(e,t){return AE.comparator(e.key,t.key)||bE(e.pr,t.pr)}},{key:"Er",value:function(e,t){return bE(e.pr,t.pr)||AE.comparator(e.key,t.key)}}]),e}(),WN=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new VI(HN.Ir)}return y(e,[{key:"checkEmpty",value:function(e){return qE.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mC(i,t,n,r);this.mutationQueue.push(a);var o,u=T(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new HN(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return qE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return qE.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return qE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return qE.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return qE.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new HN(t,0),i=new HN(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),qE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new VI(bE);return t.forEach((function(e){var t=new HN(e,0),i=new HN(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),qE.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;AE.isDocumentKey(i)||(i=i.child(""));var a=new HN(new AE(i),0),o=new VI(bE);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),qE.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;aE(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return qE.forEach(t.mutations,(function(i){var a=new HN(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new HN(t,0),r=this.wr.firstAfterOrEqual(n);return qE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,qE.resolve()}},{key:"vr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),QN=function(){function e(t){d(this,e),this.Cr=t,this.docs=new FI(AE.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return qE.resolve(n?n.document.mutableCopy():ES.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ET();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ES.newInvalidDocument(e))})),qE.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ET(),a=t.path,o=new AE(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||jE(ME(l),n)<=0||(r.has(l.key)||gT(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return qE.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){iE()}},{key:"Fr",value:function(e,t){return qE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $N(this)}},{key:"getSize",value:function(e){return qE.resolve(this.size)}}]),e}(),$N=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).ar=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),qE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(RN),YN=function(){function e(t){d(this,e),this.persistence=t,this.Mr=new _T((function(e){return JS(e)}),XS),this.lastRemoteSnapshotVersion=EE.min(),this.highestTargetId=0,this.Or=0,this.Nr=new GN,this.targetCount=0,this.Br=bN.Nn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),qE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return qE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return qE.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),qE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),qE.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new bN(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,qE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),qE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,qE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),qE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return qE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return qE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),qE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),qE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),qE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return qE.resolve(n)}},{key:"containsKey",value:function(e,t){return qE.resolve(this.Nr.containsKey(t))}}]),e}(),JN=function(){function e(t,n){var r=this;d(this,e),this.Lr={},this.overlays={},this.kr=new tI(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new YN(this),this.indexManager=new nN,this.remoteDocumentCache=function(e){return new QN(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new kA(n),this.$r=new qN(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new KN,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new WN(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;eE("MemoryPersistence","Starting transaction:",e);var i=new XN(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return qE.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),XN=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(VE),ZN=function(){function e(t){d(this,e),this.persistence=t,this.zr=new GN,this.jr=null}return y(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw iE()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),qE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),qE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),qE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qE.forEach(this.Jr,(function(r){var i=AE.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,EE.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return qE.or([function(){return qE.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),eO=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new KE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cI,{unique:!0}),e.createObjectStore("documentMutations")}(e),tO(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=qE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),tO(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:EE.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return qE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:EI});t.createIndex("collectionPathOverlayIndex",II,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",SI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:dI});t.createIndex("documentKeyIndex",pI),t.createIndex("collectionGroupIndex",vI)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bI}).createIndex("sequenceNumberIndex",wI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:_I}).createIndex("documentKeyIndex",xI,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=pN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return qE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return qE.forEach(r,(function(r){aE(r.userId===n.userId);var i=EA(t.serializer,r);return dN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new SE(n),o=function(e){return[0,aI(e)]}(a);r.push(t.get(o).next((function(n){return n?qE.resolve():function(n){return t.put({targetId:0,path:aI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return qE.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:kI});var n=t.store("collectionParents"),r=new rN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:aI(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new SE(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],sI(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=IA(r),a=SA(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new AE(SE.fromString(e.document.name).popFirst(5)):e.noDocument?AE.fromSegments(e.noDocument.path):e.unknownDocument?AE.fromSegments(e.unknownDocument.path):iE()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return qE.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=DN(this.serializer),a=new JN(ZN.Hr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:PT();EA(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),qE.forEach(r,(function(e,r){var o=new Yx(r),u=DA.Pt(n.serializer,o),s=a.getIndexManager(o),c=vN.Pt(o,n.serializer,s,a.referenceDelegate);return new BN(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new RI(t,tI.ae),e).next()}))}))}}]),e}();function tO(e){e.createObjectStore("targetDocuments",{keyPath:yI}).createIndex("documentTargetsIndex",gI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mI,{unique:!0}),e.createObjectStore("targetGlobal")}var nO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rO=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=c,this.ai=l,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.v())throw new sE(uE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NN(this,i),this.Ti=n+"main",this.serializer=new kA(s),this.Ei=new GE(this.Ti,this.ui,new eO(this.serializer)),this.Qr=new wN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DN(this.serializer),this.$r=new OA,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&tE("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new sE(uE.FAILED_PRECONDITION,nO);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new tI(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=rt(tt().mark((function n(r){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=rt(tt().mark((function t(n){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return aO(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(QE(t))return eE("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return eE("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return iO(e).get("owner").next((function(e){return qE.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return aO(e).delete(this.clientId)}},{key:"Di",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=PI(e,"clientMetadata");return t.G().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return qE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?qE.resolve(!0):iO(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new sE(uE.FAILED_PRECONDITION,nO);return!1}}return!(!t.networkEnabled||!t.inForeground)||aO(e).G().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&eE("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=rt(tt().mark((function e(){var t=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new RI(e,tI.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return aO(t).G().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return vN.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new aN(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return DA.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;eE("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?OI:14===e?NI:13===e?AI:12===e?CI:11===e?TI:void iE()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new RI(a,r.kr?r.kr.next():tI.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw tE("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new sE(uE.FAILED_PRECONDITION,UE);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return iO(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new sE(uE.FAILED_PRECONDITION,nO)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iO(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=iO(e);return n.get("owner").next((function(e){return t.Si(e)?(eE("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qE.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(tE("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!xc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return eE("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return tE("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){tE("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return GE.v()}}]),e}();function iO(e){return PI(e,"owner")}function aO(e){return PI(e,"clientMetadata")}function oO(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var uO=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return y(e,null,[{key:"Ki",value:function(t,n){var r,i=PT(),a=PT(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sO=function(){function e(){d(this,e),this.$i=!1}return y(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Wi(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.zi(e,t)}))}},{key:"Wi",value:function(e,t){var n=this;if(oT(t))return qE.resolve(null);var r=fT(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=pT(t,null,"F"),r=fT(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=PT.apply(void 0,h(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.Hi(t,o,a,r.readTime)?n.Wi(e,pT(t,null,"F")):n.Ji(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return oT(t)||r.isEqual(EE.min())?this.zi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.Hi(t,o,n,r)?i.zi(e,t):(Zx()<=Hc.DEBUG&&eE("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yT(t)),i.Ji(e,o,t,LE(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new VI(bT(e));return t.forEach((function(t,r){gT(e,r)&&(n=n.add(r))})),n}},{key:"Hi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"zi",value:function(e,t){return Zx()<=Hc.DEBUG&&eE("QueryEngine","Using full collection scan to execute query:",yT(t)),this.Ui.getDocumentsMatchingQuery(e,t,FE.min())}},{key:"Ji",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),cO=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Yi=n,this.serializer=i,this.Zi=new FI(bE),this.Xi=new _T((function(e){return JS(e)}),XS),this.es=new Map,this.ts=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this.ns(r)}return y(e,[{key:"ns",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BN(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Zi)}))}}]),e}();function lO(e,t,n,r){return new cO(e,t,n,r)}function fO(e,t){return hO.apply(this,arguments)}function hO(){return hO=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ns(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=PT(),s=T(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{rs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),hO.apply(this,arguments)}function dO(e,t){var n=oE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ts.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=qE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);aE(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=PT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function pO(e){var t=oE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function vO(e,t){var n=oE(e),r=t.snapshotVersion,i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(GI.EMPTY_BYTE_STRING,EE.min()).withLastLimboFreeSnapshotVersion(EE.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var u=ET(),s=PT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mO(e,a,t.documentUpdates).next((function(e){u=e.ss,s=e.os}))),!r.isEqual(EE.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return qE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Zi=i,e}))}function mO(e,t,n){var r=PT(),i=PT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ET();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(EE.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):eE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ss:r,os:i}}))}function yO(e,t){var n=oE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function gO(e,t){var n=oE(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,qE.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new gA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Zi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(e.targetId,e),n.Xi.set(t,e.targetId)),e}))}function kO(e,t,n){return bO.apply(this,arguments)}function bO(){return bO=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=oE(t),a=i.Zi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),QE(e.t1)){e.next=12;break}throw e.t1;case 12:eE("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Zi=i.Zi.remove(n),i.Xi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),bO.apply(this,arguments)}function wO(e,t,n){var r=oE(e),i=EE.min(),a=PT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=oE(e),i=r.Xi.get(n);return void 0!==i?qE.resolve(r.Zi.get(i)):r.Qr.getTargetData(t,n)}(r,e,fT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Yi.getDocumentsMatchingQuery(e,t,n?i:EE.min(),n?a:PT())})).next((function(e){return EO(r,kT(t),e),{documents:e,_s:a}}))}))}function _O(e,t){var n=oE(e),r=oE(n.Qr),i=n.Zi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function xO(e,t){var n=oE(e),r=n.es.get(t)||EE.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ts.getAllFromCollectionGroup(e,t,LE(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return EO(n,t,e),e}))}function EO(e,t,n){var r=e.es.get(t)||EE.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.es.set(t,r)}function IO(e,t,n,r){return SO.apply(this,arguments)}function SO(){return SO=rt(tt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=oE(t),o=PT(),u=ET(),s=T(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.us(l.metadata.name),l.document&&(o=o.add(f)),(h=n.cs(l)).setReadTime(n.ls(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ts.newChangeBuffer({trackRemovals:!0}),e.next=7,gO(a,function(e){return fT(aT(SE.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return mO(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ss,t.os)})).next((function(){return t.ss}))}))})));case 9:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function TO(e,t){return CO.apply(this,arguments)}function CO(){return CO=rt(tt().mark((function e(t,n){var r,i,a,o=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:PT(),e.next=3,gO(t,fT(TA(n.bundledQuery)));case 3:return i=e.sent,a=oE(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=HC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(GI.EMPTY_BYTE_STRING,t);return a.Zi=a.Zi.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function AO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function NO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function OO(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var RO=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new sE(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(tE("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),PO=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sE(i.error.code,i.error.message))),a?new e(t,i.state,r):(tE("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),DO=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"hs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=LT(),o=0;i&&o<r.activeTargetIds.length;++o)i=iI(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(tE("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),LO=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"hs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(tE("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),MO=function(){function e(){d(this,e),this.activeTargetIds=LT()}return y(e,[{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ts",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ps",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),FO=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Es=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ds=this.As.bind(this),this.Rs=new FI(bE),this.started=!1,this.Vs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.fs=AO(this.persistenceKey,this.Es),this.gs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Rs=this.Rs.insert(this.Es,new MO),this.ps=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ys=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ws=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ss=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.bs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ds)}return y(e,[{key:"start",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Es){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(AO(this.persistenceKey,i)))&&(o=DO.hs(i,a))&&(this.Rs=this.Rs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ds(),(u=this.storage.getItem(this.Ss))&&(s=this.vs(u))&&this.Cs(s),c=T(this.Vs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.As(f)}catch(d){c.e(d)}finally{c.f()}this.Vs=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.gs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Fs(this.Rs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Rs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ms(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ms(e,t,n),this.xs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(OO(this.persistenceKey,e));if(n){var r=PO.hs(e,n);r&&(t=r.state)}}return this.Os.Is(e),this.Ds(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Os.Ts(e),this.Ds()}},{key:"isLocalQueryTarget",value:function(e){return this.Os.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(OO(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ns(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.xs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Bs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ls(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ds),this.removeItem(this.fs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return eE("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){eE("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){eE("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"As",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(eE("SharedClientState","EVENT",n.key,n.newValue),n.key===this.fs)return void tE("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(rt(tt().mark((function e(){var r,i,a,o,u,s,c;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ps.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ks(n.key),e.abrupt("return",t.qs(r,null));case 6:if(!(i=t.Qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.qs(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ys.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ks(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.$s(a));case 16:e.next=41;break;case 18:if(!t.ws.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Us(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ws(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ss){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.vs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Cs(u));case 30:e.next=41;break;case 32:if(n.key!==t.gs){e.next=37;break}s=function(e){var t=tI.ae;if(null!=e)try{var n=JSON.parse(e);aE("number"==typeof n),t=n}catch(e){tE("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==tI.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.bs){e.next=41;break}return c=t.Gs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.zs(e)})));case 41:e.next=44;break;case 43:t.Vs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Os",get:function(){return this.Rs.get(this.Es)}},{key:"Ds",value:function(){this.setItem(this.fs,this.Os.Ps())}},{key:"Ms",value:function(e,t,n){var r=new RO(this.currentUser,e,t,n),i=NO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ps())}},{key:"xs",value:function(e){var t=NO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Bs",value:function(e){var t={clientId:this.Es,onlineState:e};this.storage.setItem(this.Ss,JSON.stringify(t))}},{key:"Ns",value:function(e,t,n){var r=OO(this.persistenceKey,e),i=new PO(e,t,n);this.setItem(r,i.Ps())}},{key:"Ls",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.bs,t)}},{key:"ks",value:function(e){var t=this.ps.exec(e);return t?t[1]:null}},{key:"Qs",value:function(e,t){var n=this.ks(e);return DO.hs(n,t)}},{key:"Ks",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return RO.hs(new Yx(i),r,t)}},{key:"Us",value:function(e,t){var n=this.ws.exec(e),r=Number(n[1]);return PO.hs(r,t)}},{key:"vs",value:function(e){return LO.hs(e)}},{key:"Gs",value:function(e){return JSON.parse(e)}},{key:"$s",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.js(t.batchId,t.state,t.error));case 2:eE("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ws",value:function(e){return this.syncEngine.Hs(e.targetId,e.state,e.error)}},{key:"qs",value:function(e,t){var n=this,r=t?this.Rs.insert(e,t):this.Rs.remove(e),i=this.Fs(this.Rs),a=this.Fs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Js(o,u).then((function(){n.Rs=r}))}},{key:"Cs",value:function(e){this.Rs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Fs",value:function(e){var t=LT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),jO=function(){function e(){d(this,e),this.Ys=new MO,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Zs[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ys.Ts(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Zs[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ys.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ys=new MO,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),UO=function(){function e(){d(this,e)}return y(e,[{key:"Xs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),VO=function(){function e(){var t=this;d(this,e),this.eo=function(){return t.no()},this.ro=function(){return t.io()},this.so=[],this.oo()}return y(e,[{key:"Xs",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}},{key:"oo",value:function(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}},{key:"no",value:function(){eE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"io",value:function(){eE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zO=null;function BO(){return null===zO?zO=268435456+Math.round(2147483648*Math.random()):zO++,"0x"+zO.toString(16)}var qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},KO=function(){function e(t){d(this,e),this._o=t._o,this.ao=t.ao}return y(e,[{key:"uo",value:function(e){this.co=e}},{key:"lo",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.Po=e}},{key:"close",value:function(){this.ao()}},{key:"send",value:function(e){this._o(e)}},{key:"Io",value:function(){this.co()}},{key:"To",value:function(e){this.ho(e)}},{key:"Eo",value:function(e){this.Po(e)}}]),e}(),GO="WebChannelConnection",HO=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"wo",value:function(e,t,n,r){var i=BO();return new Promise((function(a,o){var u=new Hx;u.setWithCredentials(!0),u.listenOnce(Bx.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case zx.NO_ERROR:var t=u.getResponseJson();eE(GO,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case zx.TIMEOUT:eE(GO,"RPC '".concat(e,"' ").concat(i," timed out")),o(new sE(uE.DEADLINE_EXCEEDED,"Request time out"));break;case zx.HTTP_ERROR:var n=u.getStatus();if(eE(GO,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(uE).indexOf(t)>=0?t:uE.UNKNOWN}(s.status);o(new sE(c,s.message))}else o(new sE(uE.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new sE(uE.UNAVAILABLE,"Connection failed."));break;default:iE()}}finally{eE(GO,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);eE(GO,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"bo",value:function(e,t,n){var r=BO(),i=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ux(),o=Vx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.yo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");eE(GO,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new KO({_o:function(t){h?eE(GO,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(eE(GO,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),eE(GO,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ao:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Gx.EventType.OPEN,(function(){h||eE(GO,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Gx.EventType.CLOSE,(function(){h||(h=!0,eE(GO,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.To())})),p(l,Gx.EventType.ERROR,(function(t){h||(h=!0,nE(GO,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.To(new sE(uE.UNAVAILABLE,"The operation could not be completed")))})),p(l,Gx.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];aE(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){eE(GO,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=hC[e];if(void 0!==t)return wC(t)}(u),c=o.message;void 0===s&&(s=uE.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.To(new sE(s,c)),l.close()}else eE(GO,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Eo(i)}})),p(o,qx.STAT_EVENT,(function(t){t.stat===Kx.PROXY?eE(GO,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Kx.NOPROXY&&eE(GO,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Io()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ao=n+"://"+t.host,this.Ro="projects/".concat(r,"/databases/").concat(i),this.Vo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return y(e,[{key:"mo",get:function(){return!1}},{key:"fo",value:function(e,t,n,r,i){var a=BO(),o=this.po(e,t);eE("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(u,r,i),this.wo(e,o,u,n).then((function(t){return eE("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw nE("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"So",value:function(e,t,n,r,i,a){return this.fo(e,t,n,r,i)}},{key:"yo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jx,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"po",value:function(e,t){var n=qO[e];return"".concat(this.Ao,"/v1/").concat(t,":").concat(n)}}]),e}());function WO(){return"undefined"!=typeof window?window:null}function QO(){return"undefined"!=typeof document?document:null}function $O(e){return new zC(e,!0)}var YO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.oi=t,this.timerId=n,this.Do=r,this.vo=i,this.Co=a,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Fo=0}},{key:"Oo",value:function(){this.Fo=this.Co}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&eE("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Fo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.xo=Date.now(),e()})),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}},{key:"Lo",value:function(){null!==this.Mo&&(this.Mo.skipDelay(),this.Mo=null)}},{key:"cancel",value:function(){null!==this.Mo&&(this.Mo.cancel(),this.Mo=null)}},{key:"Bo",value:function(){return(Math.random()-.5)*this.Fo}}]),e}(),JO=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.oi=t,this.ko=r,this.qo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new YO(t,n)}return y(e,[{key:"Wo",value:function(){return 1===this.state||5===this.state||this.Go()}},{key:"Go",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.zo()}},{key:"stop",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Wo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jo",value:function(){this.state=0,this.Uo.reset()}},{key:"Ho",value:function(){var e=this;this.Go()&&null===this.Ko&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,(function(){return e.Jo()})))}},{key:"Yo",value:function(e){this.Zo(),this.stream.send(e)}},{key:"Jo",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Go()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"Xo",value:function(){this.$o&&(this.$o.cancel(),this.$o=null)}},{key:"close",value:function(){var e=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,4!==t?this.Uo.reset():n&&n.code===uE.RESOURCE_EXHAUSTED?(tE(n.toString()),tE("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===uE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.e_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.lo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"e_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Qo===n&&e.n_(i,a)}),(function(n){t((function(){var t=new sE(uE.UNKNOWN,"Fetching auth token failed: "+n.message);return e.r_(t)}))}))}},{key:"n_",value:function(e,t){var n=this,r=this.t_(this.Qo);this.stream=this.i_(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.$o=n.oi.enqueueAfterDelay(n.qo,1e4,(function(){return n.Go()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.lo((function(e){r((function(){return n.r_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"zo",value:function(){var e=this;this.state=5,this.Uo.No(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"r_",value:function(e){return eE("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"t_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Qo===e?n():(eE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),XO=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return y(n,[{key:"i_",value:function(e,t){return this.connection.bo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Uo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:iE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(aE(void 0===t||"string"==typeof t),GI.fromBase64String(t||"")):(aE(void 0===t||t instanceof Uint8Array),GI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?uE.UNKNOWN:wC(e.code);return new sE(t,e.message||"")}(o);n=new PC(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=YC(e,s.document.name),l=HC(s.document.updateTime),f=s.document.createTime?HC(s.document.createTime):EE.min(),h=new _S({mapValue:{fields:s.document.fields}}),d=ES.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new OC(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=YC(e,m.document),g=m.readTime?HC(m.readTime):EE.min(),k=ES.newNoDocument(y,g),b=m.removedTargetIds||[];n=new OC([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=YC(e,w.document),x=w.removedTargetIds||[];n=new OC([],x,_,null)}else{if(!("filter"in t))return iE();t.filter;var E=t.filter;E.targetId;var I=E.count,S=void 0===I?0:I,T=E.unchangedNames,C=new kC(S,T),A=E.targetId;n=new RC(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return EE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?EE.min():t.readTime?HC(t.readTime):EE.min()}(e);return this.listener.s_(t,n)}},{key:"o_",value:function(e){var t={};t.database=ZC(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=ZS(r)?{documents:oA(e,r)}:{query:uA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=KC(e,t.resumeToken);var i=BC(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(EE.min())>0){n.readTime=qC(e,t.snapshotVersion.toTimestamp());var a=BC(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return iE()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Yo(t)}},{key:"__",value:function(e){var t={};t.database=ZC(this.serializer),t.removeTarget=e,this.Yo(t)}}]),n}(JO),ZO=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.a_=!1,s}return y(n,[{key:"u_",get:function(){return this.a_}},{key:"start",value:function(){this.a_=!1,this.lastStreamToken=void 0,Un(b(n.prototype),"start",this).call(this)}},{key:"e_",value:function(){this.a_&&this.c_([])}},{key:"i_",value:function(e,t){return this.connection.bo("Write",e,t)}},{key:"onMessage",value:function(e){if(aE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();var t=function(e,t){return e&&e.length>0?(aE(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?HC(e.updateTime):HC(t);return n.isEqual(EE.min())&&(n=HC(t)),new XT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=HC(e.commitTime);return this.listener.l_(n,t)}return aE(!e.writeResults||0===e.writeResults.length),this.a_=!0,this.listener.h_()}},{key:"P_",value:function(){var e={};e.database=ZC(this.serializer),this.Yo(e)}},{key:"c_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return iA(t.serializer,e)}))};this.Yo(n)}}]),n}(JO),eR=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.I_=!1,o}return y(n,[{key:"T_",value:function(){if(this.I_)throw new sE(uE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"fo",value:function(e,t,n){var r=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.fo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===uE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new sE(uE.UNKNOWN,e.toString())}))}},{key:"So",value:function(e,t,n,r){var i=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection.So(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===uE.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new sE(uE.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.I_=!0}}]),n}(y((function e(){d(this,e)})));var tR=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}return y(e,[{key:"V_",value:function(){var e=this;0===this.d_&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.A_=null,e.f_("Backend didn't respond within 10 seconds."),e.m_("Offline"),Promise.resolve()})))}},{key:"g_",value:function(e){"Online"===this.state?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.m_("Offline")))}},{key:"set",value:function(e){this.p_(),this.d_=0,"Online"===e&&(this.R_=!1),this.m_(e)}},{key:"m_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"f_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.R_?(tE(t),this.R_=!1):eE("OnlineStateTracker",t)}},{key:"p_",value:function(){null!==this.A_&&(this.A_.cancel(),this.A_=null)}}]),e}(),nR=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=a,this.D_.Xs((function(e){r.enqueueAndForget(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dR(o),!e.t0){e.next=5;break}return eE("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=oE(t)).S_.add(4),e.next=4,aR(n);case 4:return n.v_.set("Unknown"),n.S_.delete(4),e.next=8,rR(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.v_=new tR(r,i)}));function rR(e){return iR.apply(this,arguments)}function iR(){return(iR=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dR(t)){e.next=18;break}n=T(t.b_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function aR(e){return oR.apply(this,arguments)}function oR(){return(oR=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.b_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function uR(e,t){var n=oE(e);n.w_.has(t.targetId)||(n.w_.set(t.targetId,t),hR(n)?fR(n):BR(n).Go()&&cR(n,t))}function sR(e,t){var n=oE(e),r=BR(n);n.w_.delete(t),r.Go()&&lR(n,t),0===n.w_.size&&(r.Go()?r.Ho():dR(n)&&n.v_.set("Unknown"))}function cR(e,t){if(e.C_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(EE.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}BR(e).o_(t)}function lR(e,t){e.C_.Le(t),BR(e).__(t)}function fR(e){e.C_=new LC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.w_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),BR(e).start(),e.v_.V_()}function hR(e){return dR(e)&&!BR(e).Wo()&&e.w_.size>0}function dR(e){return 0===oE(e).S_.size}function pR(e){e.C_=void 0}function vR(e){return mR.apply(this,arguments)}function mR(){return(mR=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.w_.forEach((function(e,n){cR(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yR(e,t){return gR.apply(this,arguments)}function gR(){return(gR=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pR(t),hR(t)?(t.v_.g_(n),fR(t)):t.v_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kR(e,t,n){return bR.apply(this,arguments)}function bR(){return bR=rt(tt().mark((function e(t,n,r){var i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v_.set("Online"),!(n instanceof PC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.w_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.w_.delete(o),t.C_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),eE("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wR(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof OC?t.C_.Ge(n):n instanceof RC?t.C_.Xe(n):t.C_.He(n),r.isEqual(EE.min())){e.next=29;break}return e.prev=14,e.next=17,pO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.C_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.w_.get(r);i&&e.w_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.w_.get(t);if(r){e.w_.set(t,r.withResumeToken(GI.EMPTY_BYTE_STRING,r.snapshotVersion)),lR(e,t);var i=new gA(r.target,t,n,r.sequenceNumber);cR(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),eE("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wR(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bR.apply(this,arguments)}function wR(e,t,n){return _R.apply(this,arguments)}function _R(){return(_R=rt(tt().mark((function e(t,n,r){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QE(n)){e.next=2;break}throw n;case 2:return t.S_.add(1),e.next=5,aR(t);case 5:t.v_.set("Offline"),r||(r=function(){return pO(t.localStore)}),t.asyncQueue.enqueueRetryable(rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.S_.delete(1),e.next=6,rR(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xR(e,t){return t().catch((function(n){return wR(e,n,t)}))}function ER(e){return IR.apply(this,arguments)}function IR(){return IR=rt(tt().mark((function e(t){var n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oE(t),r=qR(n),i=n.y_.length>0?n.y_[n.y_.length-1].batchId:-1;case 2:if(!SR(n)){e.next=19;break}return e.prev=3,e.next=6,yO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.y_.length&&r.Ho(),e.abrupt("break",19);case 10:i=a.batchId,TR(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wR(n,e.t0);case 17:e.next=2;break;case 19:CR(n)&&AR(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),IR.apply(this,arguments)}function SR(e){return dR(e)&&e.y_.length<10}function TR(e,t){e.y_.push(t);var n=qR(e);n.Go()&&n.u_&&n.c_(t.mutations)}function CR(e){return dR(e)&&!qR(e).Wo()&&e.y_.length>0}function AR(e){qR(e).start()}function NR(e){return OR.apply(this,arguments)}function OR(){return(OR=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qR(t).P_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RR(e){return PR.apply(this,arguments)}function PR(){return(PR=rt(tt().mark((function e(t){var n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qR(t),r=T(t.y_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.c_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DR(e,t,n){return LR.apply(this,arguments)}function LR(){return LR=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.y_.shift(),a=yC.from(i,n,r),e.next=3,xR(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ER(t);case 5:case"end":return e.stop()}}),e)}))),LR.apply(this,arguments)}function MR(e,t){return FR.apply(this,arguments)}function FR(){return FR=rt(tt().mark((function e(t,n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qR(t).u_,!e.t0){e.next=4;break}return e.next=4,function(){var e=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return bC(e)&&e!==uE.ABORTED}(n.code)){e.next=7;break}return r=t.y_.shift(),qR(t).jo(),e.next=5,xR(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ER(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:CR(t)&&AR(t);case 5:case"end":return e.stop()}}),e)}))),FR.apply(this,arguments)}function jR(e,t){return UR.apply(this,arguments)}function UR(){return UR=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=oE(t)).asyncQueue.verifyOperationInProgress(),eE("RemoteStore","RemoteStore received new credentials"),i=dR(r),r.S_.add(3),e.next=6,aR(r);case 6:return i&&r.v_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.S_.delete(3),e.next=12,rR(r);case 12:case"end":return e.stop()}}),e)}))),UR.apply(this,arguments)}function VR(e,t){return zR.apply(this,arguments)}function zR(){return(zR=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oE(t),!n){e.next=7;break}return r.S_.delete(2),e.next=5,rR(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.S_.add(2),e.next=12,aR(r);case 12:r.v_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BR(e){return e.F_||(e.F_=function(e,t,n){var r=oE(e);return r.T_(),new XO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:vR.bind(null,e),lo:yR.bind(null,e),s_:kR.bind(null,e)}),e.b_.push(function(){var t=rt(tt().mark((function t(n){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.F_.jo(),hR(e)?fR(e):e.v_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.F_.stop();case 6:pR(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}function qR(e){return e.M_||(e.M_=function(e,t,n){var r=oE(e);return r.T_(),new ZO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:NR.bind(null,e),lo:MR.bind(null,e),h_:RR.bind(null,e),l_:DR.bind(null,e)}),e.b_.push(function(){var t=rt(tt().mark((function t(n){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.M_.jo(),t.next=4,ER(e);case 4:t.next=9;break;case 6:return t.next=8,e.M_.stop();case 8:e.y_.length>0&&(eE("RemoteStore","Stopping write stream with ".concat(e.y_.length," pending writes")),e.y_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.M_}var KR=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sE(uE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function GR(e,t){if(tE("AsyncQueue","".concat(t,": ").concat(e)),QE(e))return new sE(uE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var HR=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||AE.comparator(e.key,n.key)}:function(e,t){return AE.comparator(e.key,t.key)},this.keyedMap=ST(),this.sortedSet=new FI(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),WR=function(){function e(){d(this,e),this.x_=new FI(AE.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.x_.get(t);n?0!==e.type&&3===n.type?this.x_=this.x_.insert(t,e):3===e.type&&1!==n.type?this.x_=this.x_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.x_=this.x_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.x_=this.x_.remove(t):1===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):iE():this.x_=this.x_.insert(t,e)}},{key:"O_",value:function(){var e=[];return this.x_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),QR=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,HR.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),$R=y((function e(){d(this,e),this.N_=void 0,this.listeners=[]})),YR=y((function e(){d(this,e),this.queries=new _T((function(e){return mT(e)}),vT),this.onlineState="Unknown",this.B_=new Set}));function JR(e,t){return XR.apply(this,arguments)}function XR(){return XR=rt(tt().mark((function e(t,n){var r,i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oE(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $R),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.N_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=GR(e.t0,"Initialization of query '".concat(yT(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.L_(r.onlineState),o.N_&&n.k_(o.N_)&&rP(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),XR.apply(this,arguments)}function ZR(e,t){return eP.apply(this,arguments)}function eP(){return eP=rt(tt().mark((function e(t,n){var r,i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oE(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),eP.apply(this,arguments)}function tP(e,t){var n,r=oE(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=T(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.k_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.N_=o}}}catch(f){a.e(f)}finally{a.f()}i&&rP(r)}function nP(e,t,n){var r=oE(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rP(e){e.B_.forEach((function(e){e.next()}))}var iP=function(){function e(t,n,r){d(this,e),this.query=t,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"k_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new QR(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),a=!0):this.W_(e,this.onlineState)&&(this.G_(e),a=!0),this.K_=e,a}},{key:"onError",value:function(e){this.q_.error(e)}},{key:"L_",value:function(e){this.onlineState=e;var t=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),t=!0),t}},{key:"W_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"U_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"G_",value:function(e){e=QR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}]),e}(),aP=function(){function e(t,n){d(this,e),this.j_=t,this.byteLength=n}return y(e,[{key:"H_",value:function(){return"metadata"in this.j_}}]),e}(),oP=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"us",value:function(e){return YC(this.serializer,e)}},{key:"cs",value:function(e){return e.metadata.exists?nA(this.serializer,e.document,!1):ES.newNoDocument(this.us(e.metadata.name),this.ls(e.metadata.readTime))}},{key:"ls",value:function(e){return HC(e)}}]),e}(),uP=function(){function e(t,n,r){d(this,e),this.J_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sP(t)}return y(e,[{key:"Y_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.j_.namedQuery)this.queries.push(e.j_.namedQuery);else if(e.j_.documentMetadata){this.documents.push({metadata:e.j_.documentMetadata}),e.j_.documentMetadata.exists||++t;var n=SE.fromString(e.j_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.j_.document&&(this.documents[this.documents.length-1].document=e.j_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Z_",value:function(e){var t,n=new Map,r=new oP(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.us(a.metadata.name),s=T(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||PT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IO(this.localStore,new oP(this.serializer),this.documents,this.J_.id);case 2:t=e.sent,n=this.Z_(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,TO(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,X_:this.collectionGroups,ea:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sP(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var cP=y((function e(t){d(this,e),this.key=t})),lP=y((function e(t){d(this,e),this.key=t})),fP=function(){function e(t,n){d(this,e),this.query=t,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=PT(),this.mutatedKeys=PT(),this.ia=bT(t),this.sa=new HR(this.ia)}return y(e,[{key:"oa",get:function(){return this.ta}},{key:"_a",value:function(e,t){var n=this,r=t?t.aa:new WR,i=t?t.sa:this.sa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gT(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ia(f,s)>0||c&&n.ia(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{sa:o,aa:r,Hi:u,mutatedKeys:a}}},{key:"ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;var a=e.aa.O_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return iE()}};return n(e)-n(t)}(e.type,t.type)||r.ia(e.doc,t.doc)})),this.ca(n);var o=t?this.la():[],u=0===this.ra.size&&this.current?1:0,s=u!==this.na;return this.na=u,0!==a.length||s?{snapshot:new QR(this.query,e.sa,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}},{key:"L_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({sa:this.sa,aa:new WR,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}},{key:"Pa",value:function(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}},{key:"ca",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ta=t.ta.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ta=t.ta.delete(e)})),this.current=e.current)}},{key:"la",value:function(){var e=this;if(!this.current)return[];var t=this.ra;this.ra=PT(),this.sa.forEach((function(t){e.Pa(t.key)&&(e.ra=e.ra.add(t.key))}));var n=[];return t.forEach((function(t){e.ra.has(t)||n.push(new lP(t))})),this.ra.forEach((function(e){t.has(e)||n.push(new cP(e))})),n}},{key:"Ia",value:function(e){this.ta=e._s,this.ra=PT();var t=this._a(e.documents);return this.applyChanges(t,!0)}},{key:"Ta",value:function(){return QR.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,0===this.na,this.hasCachedResults)}}]),e}(),hP=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),dP=y((function e(t){d(this,e),this.key=t,this.Ea=!1})),pP=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new _T((function(e){return mT(e)}),vT),this.Ra=new Map,this.Va=new Set,this.ma=new FI(AE.comparator),this.fa=new Map,this.ga=new GN,this.pa={},this.ya=new Map,this.wa=bN.Bn(),this.onlineState="Unknown",this.Sa=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Sa}}]),e}();function vP(e,t){return mP.apply(this,arguments)}function mP(){return mP=rt(tt().mark((function e(t,n){var r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sD(t),!(o=r.Aa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ta(),e.next=15;break;case 6:return e.next=8,gO(r.localStore,fT(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,yP(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&uR(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mP.apply(this,arguments)}function yP(e,t,n,r,i){return gP.apply(this,arguments)}function gP(){return gP=rt(tt().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ba=function(e,n,r){return function(){var e=rt(tt().mark((function e(t,n,r,i){var a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view._a(r),e.t0=a.Hi,!e.t0){e.next=6;break}return e.next=5,wO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view._a(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jP(t,n.targetId,u.ha),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,wO(t.localStore,n,!0);case 3:return o=e.sent,u=new fP(n,o._s),s=u._a(o.documents),c=NC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),jP(t,r,l.ha),f=new hP(n,r,u),e.abrupt("return",(t.Aa.set(n,f),t.Ra.has(r)?t.Ra.get(r).push(n):t.Ra.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),gP.apply(this,arguments)}function kP(e,t){return bP.apply(this,arguments)}function bP(){return bP=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oE(t),i=r.Aa.get(n),!((a=r.Ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ra.set(i.targetId,a.filter((function(e){return!vT(e,n)}))),void r.Aa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,kO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sR(r.remoteStore,i.targetId),MP(r,i.targetId)})).catch(zE);case 9:e.next=14;break;case 11:return MP(r,i.targetId),e.next=14,kO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bP.apply(this,arguments)}function wP(e,t,n){return _P.apply(this,arguments)}function _P(){return _P=rt(tt().mark((function e(t,n,r){var i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=oE(e),a=xE.now(),o=t.reduce((function(e,t){return e.add(t.key)}),PT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ET(),s=PT();return i.ts.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=T(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=aC(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new sC(c.key,l,xS(l.value.mapValue),ZT.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:TT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.pa[e.currentUser.toKey()];r||(r=new FI(bE)),r=r.insert(t,n),e.pa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zP(i,a.changes);case 9:return e.next=11,ER(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=GR(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_P.apply(this,arguments)}function xP(e,t){return EP.apply(this,arguments)}function EP(){return EP=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),e.prev=1,e.next=4,vO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.fa.get(t);n&&(aE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ea=!0:e.modifiedDocuments.size>0?aE(n.Ea):e.removedDocuments.size>0&&(aE(n.Ea),n.Ea=!1))})),e.next=8,zP(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,zE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),EP.apply(this,arguments)}function IP(e,t,n){var r=oE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Aa.forEach((function(e,n){var r=n.view.L_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=oE(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.L_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rP(n)}(r.eventManager,t),i.length&&r.da.s_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function SP(e,t,n){return TP.apply(this,arguments)}function TP(){return TP=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=oE(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.fa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new FI(AE.comparator)).insert(o,ES.newNoDocument(o,EE.min())),s=PT().add(o),c=new AC(EE.min(),new Map,new FI(bE),u,s),e.next=9,xP(i,c);case 9:i.ma=i.ma.remove(o),i.fa.delete(n),VP(i),e.next=16;break;case 14:return e.next=16,kO(i.localStore,n,!1).then((function(){return MP(i,n,r)})).catch(zE);case 16:case"end":return e.stop()}}),e)}))),TP.apply(this,arguments)}function CP(e,t){return AP.apply(this,arguments)}function AP(){return AP=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),i=n.batch.batchId,e.prev=1,e.next=4,dO(r.localStore,n);case 4:return a=e.sent,LP(r,i,null),DP(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zP(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),AP.apply(this,arguments)}function NP(e,t,n){return OP.apply(this,arguments)}function OP(){return OP=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oE(t),e.prev=1,e.next=4,function(e,t){var n=oE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return aE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,LP(i,n,r),DP(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zP(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),OP.apply(this,arguments)}function RP(e,t){return PP.apply(this,arguments)}function PP(){return PP=rt(tt().mark((function e(t,n){var r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dR((r=oE(t)).remoteStore)||eE("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=oE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ya.get(i)||[]).push(n),r.ya.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=GR(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),PP.apply(this,arguments)}function DP(e,t){(e.ya.get(t)||[]).forEach((function(e){e.resolve()})),e.ya.delete(t)}function LP(e,t,n){var r=oE(e),i=r.pa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.pa[r.currentUser.toKey()]=i}}function MP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.Ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Aa.delete(a),n&&e.da.Da(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ra.delete(t),e.isPrimaryClient&&e.ga.Vr(t).forEach((function(t){e.ga.containsKey(t)||FP(e,t)}))}function FP(e,t){e.Va.delete(t.path.canonicalString());var n=e.ma.get(t);null!==n&&(sR(e.remoteStore,n),e.ma=e.ma.remove(t),e.fa.delete(n),VP(e))}function jP(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cP?(e.ga.addReference(a.key,t),UP(e,a)):a instanceof lP?(eE("SyncEngine","Document no longer in limbo: "+a.key),e.ga.removeReference(a.key,t),e.ga.containsKey(a.key)||FP(e,a.key)):iE()}}catch(o){i.e(o)}finally{i.f()}}function UP(e,t){var n=t.key,r=n.path.canonicalString();e.ma.get(n)||e.Va.has(r)||(eE("SyncEngine","New document in limbo: "+n),e.Va.add(r),VP(e))}function VP(e){for(;e.Va.size>0&&e.ma.size<e.maxConcurrentLimboResolutions;){var t=e.Va.values().next().value;e.Va.delete(t);var n=new AE(SE.fromString(t)),r=e.wa.next();e.fa.set(r,new dP(n)),e.ma=e.ma.insert(n,r),uR(e.remoteStore,new gA(fT(aT(n.path)),r,"TargetPurposeLimboResolution",tI.ae))}}function zP(e,t,n){return BP.apply(this,arguments)}function BP(){return BP=rt(tt().mark((function e(t,n,r){var i,a,o,u;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=oE(t),a=[],o=[],u=[],e.t0=i.Aa.isEmpty(),e.t0){e.next=9;break}return i.Aa.forEach((function(e,t){u.push(i.ba(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=uO.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.da.s_(a),e.next=9,function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return qE.forEach(n,(function(t){return qE.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return qE.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),QE(e.t0)){e.next=10;break}throw e.t0;case 10:eE("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Zi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Zi=r.Zi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),BP.apply(this,arguments)}function qP(e,t){return KP.apply(this,arguments)}function KP(){return(KP=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=oE(t)).currentUser.isEqual(n)){e.next=11;break}return eE("SyncEngine","User change. New user:",n.toKey()),e.next=5,fO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ya.forEach((function(e){e.forEach((function(e){e.reject(new sE(uE.CANCELLED,t))}))})),e.ya.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zP(r,i.rs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GP(e,t){var n=oE(e),r=n.fa.get(t);if(r&&r.Ea)return PT().add(r.key);var i=PT(),a=n.Ra.get(t);if(!a)return i;var o,u=T(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Aa.get(s);i=i.unionWith(c.view.oa)}}catch(l){u.e(l)}finally{u.f()}return i}function HP(e,t){return WP.apply(this,arguments)}function WP(){return WP=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),e.next=3,wO(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ia(i),e.abrupt("return",(r.isPrimaryClient&&jP(r,n.targetId,a.ha),a));case 6:case"end":return e.stop()}}),e)}))),WP.apply(this,arguments)}function QP(e,t){return $P.apply(this,arguments)}function $P(){return($P=rt(tt().mark((function e(t,n){var r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),e.abrupt("return",xO(r.localStore,n).then((function(e){return zP(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YP(e,t,n,r){return JP.apply(this,arguments)}function JP(){return JP=rt(tt().mark((function e(t,n,r,i){var a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oE(t),e.next=3,function(e,t){var n=oE(e),r=oE(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):qE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ER(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(LP(a,n,i||null),DP(a,n),function(e,t){oE(oE(e).mutationQueue).Mn(t)}(a.localStore,n)):iE();case 11:return e.next=13,zP(a,o);case 13:e.next=16;break;case 15:eE("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),JP.apply(this,arguments)}function XP(e,t){return ZP.apply(this,arguments)}function ZP(){return(ZP=rt(tt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sD(r=oE(t)),cD(r),!0!==n||!0===r.Sa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,eD(r,i.toArray());case 5:return a=e.sent,r.Sa=!0,e.next=9,VR(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(u=o.n()).done;)s=u.value,uR(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Sa){e.next=25;break}return c=[],l=Promise.resolve(),r.Ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return MP(r,t),kO(r.localStore,t,!0)})),sR(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,eD(r,c);case 21:return function(e){var t=oE(e);t.fa.forEach((function(e,n){sR(t.remoteStore,n)})),t.ga.mr(),t.fa=new Map,t.ma=new FI(AE.comparator)}(r),r.Sa=!1,e.next=25,VR(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eD(e,t,n){return tD.apply(this,arguments)}function tD(){return tD=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=oE(t),a=[],o=[],u=T(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Ra.get(c))||0===f.length){e.next=34;break}return e.next=11,gO(i.localStore,fT(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Aa.get(p),e.next=20,HP(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,_O(i.localStore,c);case 36:return y=e.sent,e.next=39,gO(i.localStore,y);case 39:return l=e.sent,e.next=42,yP(i,nD(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.da.s_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),tD.apply(this,arguments)}function nD(e){return iT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rD(e){return function(e){return oE(oE(e).persistence).Li()}(oE(e).localStore)}function iD(e,t,n,r){return aD.apply(this,arguments)}function aD(){return aD=rt(tt().mark((function e(t,n,r,i){var a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=oE(t)).Sa){e.next=3;break}return e.abrupt("return",void eE("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xO(a.localStore,kT(o[0]));case 10:return u=e.sent,s=AC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,GI.EMPTY_BYTE_STRING),e.next=14,zP(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,kO(a.localStore,n,!0);case 17:return MP(a,n,i),e.abrupt("break",20);case 19:iE();case 20:case"end":return e.stop()}}),e)}))),aD.apply(this,arguments)}function oD(e,t,n){return uD.apply(this,arguments)}function uD(){return uD=rt(tt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sD(t)).Sa){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Ra.has(u)){e.next=10;break}return eE("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,_O(i.localStore,u);case 12:return s=e.sent,e.next=15,gO(i.localStore,s);case 15:return c=e.sent,e.next=18,yP(i,nD(s),c.targetId,!1,c.resumeToken);case 18:uR(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Ra.has(t),!e.t0){e.next=5;break}return e.next=5,kO(i.localStore,t,!1).then((function(){sR(i.remoteStore,t),MP(i,t)})).catch(zE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uD.apply(this,arguments)}function sD(e){var t=oE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SP.bind(null,t),t.da.s_=tP.bind(null,t.eventManager),t.da.Da=nP.bind(null,t.eventManager),t}function cD(e){var t=oE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,t),t}function lD(e,t,n){var r=oE(e);(function(){var e=rt(tt().mark((function e(t,n,r){var i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=oE(e),r=HC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sP(i)),a=new uP(i,t.localStore,n.serializer),e.next=15,n.va();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Y_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.va();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,zP(t,s.ea,void 0);case 31:return e.next=33,function(e,t){var n=oE(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.X_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(nE("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var fD=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=$O(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return lO(this.persistence,new sO,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new JN(ZN.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new jO}},{key:"terminate",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hD=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ca=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=rt(tt().mark((function e(t){var r=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ca.initialize(this,t);case 4:return e.next=6,cD(this.Ca.syncEngine);case 6:return e.next=8,ER(this.Ca.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return lO(this.persistence,new sO,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new TN(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new eI(t,this.persistence);return new ZE(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=oO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hN.withCacheSize(this.cacheSizeBytes):hN.DEFAULT;return new rO(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,WO(),QO(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new jO}}]),n}(fD),dD=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ca=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=rt(tt().mark((function e(t){var r,i=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ca.syncEngine,e.t0=this.sharedClientState instanceof FO,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={js:YP.bind(null,r),Hs:iD.bind(null,r),Js:oD.bind(null,r),Li:rD.bind(null,r),zs:QP.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XP(i.Ca.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=WO();if(!FO.v(t))throw new sE(uE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=oO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new FO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(hD),pD=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=rt(tt().mark((function e(t,n){var r=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return IP(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qP.bind(null,this.syncEngine),e.next=12,VR(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new YR}},{key:"createDatastore",value:function(e){var t=$O(e.databaseInfo.databaseId),n=function(e){return new HO(e)}(e.databaseInfo);return function(e,t,n,r){return new eR(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new nR(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return IP(t.syncEngine,e,0)}),VO.v()?new VO:new UO)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pP(e,t,n,r,i,a);return o&&(u.Sa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oE(t),eE("RemoteStore","RemoteStore shutting down."),n.S_.add(5),e.next=5,aR(n);case 5:n.D_.shutdown(),n.v_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function vD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return rt(tt().mark((function r(){var i;return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var mD=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Fa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Fa(this.observer.error,e):tE("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ma",value:function(){this.muted=!0}},{key:"Fa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yD=function(){function e(t,n){var r=this;d(this,e),this.xa=t,this.serializer=n,this.metadata=new cE,this.buffer=new Uint8Array,this.Oa=new TextDecoder("utf-8"),this.Na().then((function(e){e&&e.H_()?r.metadata.resolve(e.j_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.j_))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.xa.cancel()}},{key:"getMetadata",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"va",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Na());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Na",value:function(){var e=rt(tt().mark((function e(){var t,n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Oa.decode(t),r=Number(n),isNaN(r)&&this.La("length string (".concat(n,") is not valid number")),e.next=9,this.ka(r);case 9:return i=e.sent,e.abrupt("return",new aP(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ba",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.qa()<0)){e.next=7;break}return e.next=3,this.Qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.qa())<0&&this.La("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.La("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Oa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"La",value:function(e){throw this.xa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Qa",value:function(){var e=rt(tt().mark((function e(){var t,n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.xa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gD=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=rt(tt().mark((function e(t){var n,r=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new sE(uE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=rt(tt().mark((function e(t,n){var r,i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),i=ZC(r.serializer)+"/documents",a={documents:n.map((function(e){return $C(r.serializer,e)}))},e.next=5,r.So("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=rA(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());aE(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new pC(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=rt(tt().mark((function e(){var t,n=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=AE.fromPath(t);n.mutations.push(new vC(r,n.precondition(r)))})),e.next=7,function(){var e=rt(tt().mark((function e(t,n){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oE(t),i=ZC(r.serializer)+"/documents",a={writes:n.map((function(e){return iA(r.serializer,e)}))},e.next=3,r.fo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw iE();t=EE.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sE(uE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(EE.min())?ZT.exists(!1):ZT.updateTime(t):ZT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(EE.min()))throw new sE(uE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ZT.updateTime(t)}return ZT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kD=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ka=r.maxAttempts,this.Uo=new YO(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Ka-=1,this.$a()}},{key:"$a",value:function(){var e=this;this.Uo.No(rt(tt().mark((function t(){var n,r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gD(e.datastore),(r=e.Ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Wa(t)}))}))})).catch((function(t){e.Wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ua",value:function(e){try{var t=this.updateFunction(e);return!nI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Wa",value:function(e){var t=this;this.Ka>0&&this.Ga(e)?(this.Ka-=1,this.asyncQueue.enqueueAndForget((function(){return t.$a(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ga",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bC(t)}return!1}}]),e}(),bD=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yx.UNAUTHENTICATED,this.clientId=kE.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return eE("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new sE(uE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new cE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(rt(tt().mark((function n(){var r;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=GR(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wD(e,t){return _D.apply(this,arguments)}function _D(){return _D=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),eE("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,fO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function xD(e,t){return ED.apply(this,arguments)}function ED(){return ED=rt(tt().mark((function e(t,n){var r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,SD(t);case 3:return r=e.sent,eE("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return jR(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return jR(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ED.apply(this,arguments)}function ID(e){return"FirebaseError"===e.name?e.code===uE.FAILED_PRECONDITION||e.code===uE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function SD(e){return TD.apply(this,arguments)}function TD(){return(TD=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return eE("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,wD(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),ID(n=e.t0)){e.next=13;break}throw n;case 13:return nE("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,wD(t,new fD);case 16:e.next=21;break;case 18:return eE("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,wD(t,new fD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function CD(e){return AD.apply(this,arguments)}function AD(){return(AD=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return eE("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,xD(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return eE("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,xD(t,new pD);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ND(e){return SD(e).then((function(e){return e.persistence}))}function OD(e){return SD(e).then((function(e){return e.localStore}))}function RD(e){return CD(e).then((function(e){return e.remoteStore}))}function PD(e){return CD(e).then((function(e){return e.syncEngine}))}function DD(e){return CD(e).then((function(e){return e.datastore}))}function LD(e){return MD.apply(this,arguments)}function MD(){return(MD=rt(tt().mark((function e(t){var n,r;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vP.bind(null,n.syncEngine),r.onUnlisten=kP.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function i(){return tt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(a){t.enqueueAndForget((function(){return ZR(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new sE(uE.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new sE(uE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new iP(aT(n.path),a,{includeMetadataChanges:!0,z_:!0});return JR(e,o)},i.next=3,LD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function jD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function i(){return tt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(n){t.enqueueAndForget((function(){return ZR(e,o)})),n.fromCache&&"server"===r.source?i.reject(new sE(uE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new iP(n,a,{includeMetadataChanges:!0,z_:!0});return JR(e,o)},i.next=3,LD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function UD(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var VD=new Map;function zD(e,t,n){if(!n)throw new sE(uE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BD(e,t,n,r){if(!0===t&&!0===r)throw new sE(uE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qD(e){if(!AE.isDocumentKey(e))throw new sE(uE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function KD(e){if(AE.isDocumentKey(e))throw new sE(uE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function GD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":iE()}function HD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sE(uE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=GD(e);throw new sE(uE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WD(e,t){if(t<=0)throw new sE(uE.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QD=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new sE(uE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sE(uE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UD(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sE(uE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sE(uE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sE(uE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$D=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QD({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new sE(uE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new sE(uE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fE;switch(e.type){case"firstParty":return new vE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sE(uE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VD.get(e);t&&(eE("ComponentProvider","Removing Datastore"),VD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YD(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=HD(e,$D))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&nE("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Yx.MOCK_USER;else{u=wc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new sE(uE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Yx(c)}e._authCredentials=new hE(new lE(u,s))}}var JD=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),XD=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZD(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ZD=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,aT(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new XD(this.firestore,null,new AE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(JD);function eL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zc(e),zD("collection","path",t),e instanceof $D){var a=SE.fromString.apply(SE,[t].concat(r));return KD(a),new ZD(e,null,a)}if(!(e instanceof XD||e instanceof ZD))throw new sE(uE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(SE.fromString.apply(SE,[t].concat(r)));return KD(o),new ZD(e.firestore,null,o)}function tL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zc(e),1===arguments.length&&(t=kE.V()),zD("doc","path",t),e instanceof $D){var a=SE.fromString.apply(SE,[t].concat(r));return qD(a),new XD(e,null,new AE(a))}if(!(e instanceof XD||e instanceof ZD))throw new sE(uE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(SE.fromString.apply(SE,[t].concat(r)));return qD(o),new XD(e.firestore,e instanceof ZD?e.converter:null,new AE(o))}function nL(e,t){return e=zc(e),t=zc(t),(e instanceof XD||e instanceof ZD)&&(t instanceof XD||t instanceof ZD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rL(e,t){return e=zc(e),t=zc(t),e instanceof JD&&t instanceof JD&&e.firestore===t.firestore&&vT(e._query,t._query)&&e.converter===t.converter}var iL=function(){function e(){var t=this;d(this,e),this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new YO(this,"async_queue_retry"),this.tu=function(){var e=QO();e&&eE("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Uo.Lo()};var n=QO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.tu)}return y(e,[{key:"isShuttingDown",get:function(){return this.Ha}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.nu(),this.ru(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;var t=QO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.tu)}}},{key:"enqueue",value:function(e){var t=this;if(this.nu(),this.Ha)return new Promise((function(){}));var n=new cE;return this.ru((function(){return t.Ha&&t.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ja.push(e),t.iu()}))}},{key:"iu",value:function(){var e=rt(tt().mark((function e(){var t=this;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ja.length){e.next=14;break}return e.prev=1,e.next=4,this.ja[0]();case 4:this.ja.shift(),this.Uo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),QE(e.t0)){e.next=12;break}throw e.t0;case 12:eE("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ja.length>0&&this.Uo.No((function(){return t.iu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ru",value:function(e){var t=this,n=this.za.then((function(){return t.Za=!0,e().catch((function(e){t.Ya=e,t.Za=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw tE("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Za=!1,e}))}));return this.za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.nu(),this.eu.indexOf(e)>-1&&(t=0);var i=KR.createAndSchedule(this,e,t,n,(function(e){return r.su(e)}));return this.Ja.push(i),i}},{key:"nu",value:function(){this.Ya&&iE()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ou",value:function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.za,e.next=3,t;case 3:if(t!==this.za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t,n=T(this.Ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"au",value:function(e){var t=this;return this.ou().then((function(){t.Ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ou()}))}},{key:"uu",value:function(e){this.eu.push(e)}},{key:"su",value:function(e){var t=this.Ja.indexOf(e);this.Ja.splice(t,1)}}]),e}();function aL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var oL=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new cE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uL=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new iL,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||cL(this),this._firestoreClient.terminate()}}]),n}($D);function sL(e){return e._firestoreClient||cL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cL(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new ZI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,UD(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new bD(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function lL(e,t,n){var r=new cE;return e.asyncQueue.enqueue(rt(tt().mark((function i(){var a;return tt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wD(e,n);case 3:return i.next=5,xD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),ID(a=i.t0)){i.next=13;break}throw a;case 13:nE("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fL(e){return function(e){var t=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function n(){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=RP,n.next=3,PD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sL(e=HD(e,uL)))}function hL(e){return function(e){return e.asyncQueue.enqueue(rt(tt().mark((function t(){var n,r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ND(e);case 2:return n=t.sent,t.next=5,RD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=oE(e);return t.S_.delete(0),rR(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sL(e=HD(e,uL)))}function dL(e){return function(e){return e.asyncQueue.enqueue(rt(tt().mark((function t(){var n,r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ND(e);case 2:return n=t.sent,t.next=5,RD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=oE(t)).S_.add(0),e.next=4,aR(n);case 4:n.v_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sL(e=HD(e,uL)))}function pL(e,t){var n=sL(e=HD(e,uL)),r=new oL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yD(e,t)}(function(e,t){if(e instanceof Uint8Array)return vD(e,t);if(e instanceof ArrayBuffer)return vD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?xC().encode(e):e),t)}(n,$O(t));e.asyncQueue.enqueueAndForget(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lD,t.next=3,PD(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function vL(e,t){return function(e,t){return e.asyncQueue.enqueue(rt(tt().mark((function n(){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=oE(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,OD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sL(e=HD(e,uL)),t).then((function(t){return t?new JD(e,null,t.query):null}))}function mL(e){if(e._initialized||e._terminated)throw new sE(uE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yL=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(GI.fromBase64String(t))}catch(t){throw new sE(uE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(GI.fromUint8Array(t))}}]),e}(),gL=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new sE(uE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new CE(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var kL=y((function e(t){d(this,e),this._methodName=t})),bL=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new sE(uE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new sE(uE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return bE(this._lat,e._lat)||bE(this._long,e._long)}}]),e}(),wL=/^__.*__$/,_L=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new sC(e,this.data,this.fieldMask,t,this.fieldTransforms):new uC(e,this.data,t,this.fieldTransforms)}}]),e}(),xL=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new sC(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function EL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw iE()}}var IL=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.cu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"lu",get:function(){return this.settings.lu}},{key:"hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.Tu(e),r}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.cu(),r}},{key:"du",value:function(e){return this.hu({path:void 0,Iu:!0})}},{key:"Au",value:function(e){return GL(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"cu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}},{key:"Tu",value:function(e){if(0===e.length)throw this.Au("Document fields must not be empty");if(EL(this.lu)&&wL.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}]),e}(),SL=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||$O(t)}return y(e,[{key:"mu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IL({lu:e,methodName:t,Vu:n,path:CE.emptyPath(),Iu:!1,Ru:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function TL(e){var t=e._freezeSettings(),n=$O(e._databaseId);return new SL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.mu(a.merge||a.mergeFields?2:0,t,n,i);zL("Data must be an object, but it was:",o,r);var u,s,c=UL(r,o);if(a.merge)u=new qI(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=BL(t,l.value,n);if(!o.contains(d))throw new sE(uE.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));HL(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new qI(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new _L(new _S(c),u,s)}var AL=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.lu)throw 1===e.lu?e.Au("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Au("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kL);function NL(e,t,n){return new IL({lu:3,Vu:t.settings.Vu,methodName:e._methodName,Iu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var OL=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new JT(e.path,new qT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kL),RL=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).fu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=NL(this,e,!0),n=this.fu.map((function(e){return jL(e,t)})),r=new KT(n);return new JT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kL),PL=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).fu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=NL(this,e,!0),n=this.fu.map((function(e){return jL(e,t)})),r=new HT(n);return new JT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kL),DL=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).gu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new QT(e.serializer,jT(e.serializer,this.gu));return new JT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kL);function LL(e,t,n,r){var i=e.mu(1,t,n);zL("Data must be an object, but it was:",i,r);var a=[],o=_S.empty();LI(r,(function(e,r){var u=KL(t,e,n);r=zc(r);var s=i.Eu(u);if(r instanceof AL)a.push(u);else{var c=jL(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new qI(a);return new xL(o,u,i.fieldTransforms)}function ML(e,t,n,r,i,a){var o=e.mu(1,t,n),u=[BL(t,r,n)],s=[i];if(a.length%2!=0)throw new sE(uE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BL(t,a[c])),s.push(a[c+1]);for(var l=[],f=_S.empty(),h=u.length-1;h>=0;--h)if(!HL(l,u[h])){var d=u[h],p=s[h];p=zc(p);var v=o.Eu(d);if(p instanceof AL)l.push(d);else{var m=jL(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new qI(l);return new xL(f,y,o.fieldTransforms)}function FL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jL(n,e.mu(r?4:3,t))}function jL(e,t){if(VL(e=zc(e)))return zL("Unsupported field value:",t,e),UL(e,t);if(e instanceof kL)return function(e,t){if(!EL(t.lu))throw t.Au("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Au("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Iu&&4!==t.lu)throw t.Au("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=jL(n.value,t.du(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=zc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xE.fromDate(e);return{timestampValue:qC(t.serializer,n)}}if(e instanceof xE){var r=new xE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qC(t.serializer,r)}}if(e instanceof bL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yL)return{bytesValue:KC(t.serializer,e._byteString)};if(e instanceof XD){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Au("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:WC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Au("Unsupported field value: ".concat(GD(e)))}(e,t)}function UL(e,t){var n={};return MI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):LI(e,(function(e,r){var i=jL(r,t.Pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function VL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xE||e instanceof bL||e instanceof yL||e instanceof XD||e instanceof kL)}function zL(e,t,n){if(!VL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=GD(n);throw"an object"===r?t.Au(e+" a custom object"):t.Au(e+" "+r)}}function BL(e,t,n){if((t=zc(t))instanceof gL)return t._internalPath;if("string"==typeof t)return KL(e,t);throw GL("Field path arguments must be of type string or ",e,!1,void 0,n)}var qL=new RegExp("[~\\*/\\[\\]]");function KL(e,t,n){if(t.search(qL)>=0)throw GL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(gL,h(t.split(".")))._internalPath}catch(zk){throw GL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new sE(uE.INVALID_ARGUMENT,u+e+s)}function HL(e,t){return e.some((function(e){return e.isEqual(t)}))}var WL=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new XD(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new QL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($L("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),QL=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return Un(b(n.prototype),"data",this).call(this)}}]),n}(WL);function $L(e,t){return"string"==typeof t?KL(e,t):t instanceof gL?t._internalPath:t._delegate._internalPath}function YL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sE(uE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JL=y((function e(){d(this,e)})),XL=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(JL);function ZL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof JL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof tM})).length,n=e.filter((function(e){return e instanceof eM})).length;if(t>1||t>0&&n>0)throw new sE(uE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=T(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var eM=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return dM(e._query,t),new JD(e.firestore,e.converter,dT(e._query,t))}},{key:"_parse",value:function(e){var t=TL(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new sE(uE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hM(o,a);var s,c=[],l=T(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fM(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=fM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hM(o,a),u=FL(n,t,o,"in"===a||"not-in"===a);return OS.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XL);var tM=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:RS.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;dM(r,a),r=dT(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new JD(e.firestore,e.converter,dT(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JL);var nM=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new sE(uE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sE(uE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new CS(t,n);return function(e,t){if(null===uT(e)){var n=sT(e);null!==n&&pM(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new JD(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(XL);var rM=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new JD(e.firestore,e.converter,pT(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XL);var iM=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=lM(e,this.type,this._docOrFields,this._inclusive);return new JD(e.firestore,e.converter,function(e,t){return new rT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XL);function aM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iM._create("startAt",t,!0)}function oM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iM._create("startAfter",t,!1)}var uM=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=lM(e,this.type,this._docOrFields,this._inclusive);return new JD(e.firestore,e.converter,function(e,t){return new rT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XL);function sM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uM._create("endBefore",t,!1)}function cM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uM._create("endAt",t,!0)}function lM(e,t,n,r){if(n[0]=zc(n[0]),n[0]instanceof WL)return function(e,t,n,r,i){if(!r)throw new sE(uE.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=T(lT(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(lS(t,r.key));else{var c=r.data.field(s.field);if(YI(c))throw new sE(uE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new sE(uE.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new IS(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=TL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new sE(uE.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new sE(uE.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!cT(e)&&-1!==c.indexOf("/"))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(SE.fromString(c));if(!AE.isDocumentKey(l))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new AE(l);u.push(lS(t,f))}else{var h=FL(n,r,c);u.push(h)}}return new IS(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fM(e,t,n){if("string"==typeof(n=zc(n))){if(""===n)throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&-1!==n.indexOf("/"))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(SE.fromString(n));if(!AE.isDocumentKey(r))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lS(e,new AE(r))}if(n instanceof XD)return lS(e,n._key);throw new sE(uE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(GD(n),"."))}function hM(e,t){if(!Array.isArray(e)||0===e.length)throw new sE(uE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dM(e,t){if(t.isInequality()){var n=sT(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=uT(e);null!==i&&pM(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new sE(uE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sE(uE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function pM(e,t,n){if(!n.isEqual(t))throw new sE(uE.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vM=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return QI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($I(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw iE()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return LI(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new bL(QI(e.latitude),QI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=JI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(XI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=WI(e);return new xE(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=SE.fromString(e);aE(yA(n));var r=new eS(n.get(1),n.get(3)),i=new AE(n.popFirst(5));return r.isEqual(t)||tE("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yM=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new yL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XD(this.firestore,null,t)}}]),n}(vM);var gM=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kM=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return y(n,[{key:"exists",value:function(){return Un(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($L("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(WL),bM=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Un(b(n.prototype),"data",this).call(this,e)}}]),n}(kM),wM=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gM(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bM(n._firestore,n._userDataWriter,r.key,r,new gM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sE(uE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new bM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:_M(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function _M(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return iE()}}function xM(e,t){return e instanceof kM&&t instanceof kM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wM&&t instanceof wM&&e._firestore===t._firestore&&rL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var EM=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new yL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XD(this.firestore,null,t)}}]),n}(vM);function IM(e){e=HD(e,XD);var t=HD(e.firestore,uL),n=sL(t),r=new EM(t);return function(e,t){var n=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function r(){return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=rt(tt().mark((function e(t,n,r){var i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=oE(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new sE(uE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=GR(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kM(t,r,e._key,n,new gM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function SM(e){e=HD(e,JD);var t=HD(e.firestore,uL),n=sL(t),r=new EM(t);return YL(e._query),jD(n,e._query).then((function(n){return new wM(t,r,e,n)}))}function TM(e){e=HD(e,JD);var t=HD(e.firestore,uL),n=sL(t),r=new EM(t);return function(e,t){var n=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function r(){return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=rt(tt().mark((function e(t,n,r){var i,a,o,u,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wO(t,n,!0);case 3:i=e.sent,a=new fP(n,i._s),o=a._a(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=GR(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new wM(t,r,e,n)}))}function CM(e){e=HD(e,JD);var t=HD(e.firestore,uL),n=sL(t),r=new EM(t);return jD(n,e._query,{source:"server"}).then((function(n){return new wM(t,r,e,n)}))}function AM(e,t,n){e=HD(e,XD);var r=HD(e.firestore,uL),i=mM(e.converter,t,n);return PM(r,[CL(TL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ZT.none())])}function NM(e,t,n){e=HD(e,XD);for(var r=HD(e.firestore,uL),i=TL(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return PM(r,[("string"==typeof(t=zc(t))||t instanceof gL?ML(i,"updateDoc",e._key,t,n,o):LL(i,"updateDoc",e._key,t)).toMutation(e._key,ZT.exists(!0))])}function OM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=zc(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aL(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aL(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof XD)l=HD(e.firestore,uL),f=aT(e._key.path),c={next:function(t){n[s]&&n[s](DM(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=HD(e,JD);l=HD(p.firestore,uL),f=p._query;var v=new EM(l);c={next:function(e){n[s]&&n[s](new wM(l,v,p,e))},error:n[s+1],complete:n[s+2]},YL(e._query)}return function(e,t,n,r){var i=new mD(r),a=new iP(t,i,n);return e.asyncQueue.enqueueAndForget(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JR,t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ma(),e.asyncQueue.enqueueAndForget(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ZR,t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sL(l),f,h,c)}function RM(e,t){return function(e,t){var n=new mD(t);return e.asyncQueue.enqueueAndForget(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){oE(e).B_.add(t),t.next()},t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ma(),e.asyncQueue.enqueueAndForget(rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){oE(e).B_.delete(t)},t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sL(e=HD(e,uL)),aL(t)?t:{next:t})}function PM(e,t){return function(e,t){var n=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function r(){return tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=wP,r.next=3,PD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sL(e),t)}function DM(e,t,n){var r=n.docs.get(t._key),i=new EM(e);return new kM(e,i,t._key,r,new gM(n.hasPendingWrites,n.fromCache),t.converter)}var LM={maxAttempts:5},MM=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=TL(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=FM(e,this._firestore),i=mM(r.converter,t,n),a=CL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ZT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=FM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zc(t))||t instanceof gL?ML(this._dataReader,"WriteBatch.update",i._key,t,n,o):LL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ZT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=FM(e,this._firestore);return this._mutations=this._mutations.concat(new pC(t._key,ZT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new sE(uE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function FM(e,t){if((e=zc(e)).firestore!==t)throw new sE(uE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var jM=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=FM(e,this._firestore),i=new EM(this._firestore);return Un(b(n.prototype),"get",this).call(this,e).then((function(e){return new kM(t._firestore,i,r._key,e._document,new gM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=TL(t)}return y(e,[{key:"get",value:function(e){var t=this,n=FM(e,this._firestore),r=new yM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return iE();var i=e[0];if(i.isFoundDocument())return new WL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new WL(t._firestore,r,n._key,null,n.converter);throw iE()}))}},{key:"set",value:function(e,t,n){var r=FM(e,this._firestore),i=mM(r.converter,t,n),a=CL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=FM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zc(t))||t instanceof gL?ML(this._dataReader,"Transaction.update",i._key,t,n,o):LL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=FM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function UM(e,t,n){e=HD(e,uL);var r=Object.assign(Object.assign({},LM),n);return function(e){if(e.maxAttempts<1)throw new sE(uE.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new cE;return e.asyncQueue.enqueueAndForget(rt(tt().mark((function i(){var a;return tt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,DD(e);case 2:a=i.sent,new kD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sL(e),(function(n){return t(new jM(e,n))}),r)}function VM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RL("arrayUnion",t)}function zM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Jx=e}(jl),Ol(new Bc("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new uL(new dE(e.getProvider("auth-internal")),new yE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sE(uE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eS(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Kl($x,"4.1.2",e),Kl($x,"4.1.2","esm2017")}();function BM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sE("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qM(){if("undefined"===typeof Uint8Array)throw new sE("unimplemented","Uint8Arrays are not available in this environment.")}function KM(){if("undefined"==typeof atob)throw new sE("unimplemented","Blobs are unavailable in Firestore in this environment.")}var GM=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return KM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KM(),new e(yL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qM(),new e(yL.fromUint8Array(t))}}]),e}();function HM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var WM=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){mL(e=HD(e,uL));var n=sL(e);if(n._uninitializedComponentsProvider)throw new sE(uE.FAILED_PRECONDITION,"SDK cache is already specified.");nE("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new pD;return lL(n,i,new hD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){mL(e=HD(e,uL));var t=sL(e);if(t._uninitializedComponentsProvider)throw new sE(uE.FAILED_PRECONDITION,"SDK cache is already specified.");nE("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new pD;return lL(t,r,new dD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new sE(uE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new cE;return e._queue.enqueueAndForgetEvenWhileRestricted(rt(tt().mark((function n(){return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=rt(tt().mark((function e(t){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GE.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,GE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(oO(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QM=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof eS||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||nE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YD(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return hL(this._delegate)}},{key:"disableNetwork",value:function(){return dL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&BD("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return fL(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return RM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new sE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sF(this,eL(this._delegate,e))}catch(t){throw eF(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZM(this,tL(this._delegate,e))}catch(t){throw eF(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aF(this,function(e,t){if(e=HD(e,$D),zD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sE(uE.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new JD(e,null,function(e){return new rT(SE.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eF(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return UM(this._delegate,(function(n){return e(new YM(t,n))}))}},{key:"batch",value:function(){var e=this;return sL(this._delegate),new JM(new MM(this._delegate,(function(t){return PM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return pL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return vL(this._delegate,e).then((function(e){return e?new aF(t,e):null}))}}]),e}(),$M=function(e){k(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new GM(new yL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZM.forKey(t,this.firestore,null)}}]),n}(vM);var YM=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new $M(t)}return y(e,[{key:"get",value:function(e){var t=this,n=cF(e);return this._delegate.get(n).then((function(e){return new rF(t._firestore,new kM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cF(e);return n?(BM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cF(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cF(e);return this._delegate.delete(t),this}}]),e}(),JM=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=cF(e);return n?(BM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cF(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cF(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),XM=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new bM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iF(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new $M(t),n),i.set(n,a)),a}}]),e}();XM.INSTANCES=new WeakMap;var ZM=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $M(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sF(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sF(this.firestore,eL(this._delegate,e))}catch(t){throw eF(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=zc(e))instanceof XD&&nL(this._delegate,e)}},{key:"set",value:function(e,t){t=BM("DocumentReference.set",t);try{return t?AM(this._delegate,e,t):AM(this._delegate,e)}catch(n){throw eF(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?NM(this._delegate,e):NM.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eF(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return PM(HD((e=this._delegate).firestore,uL),[new pC(e._key,ZT.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tF(n),a=nF(n,(function(t){return new rF(e.firestore,new kM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return OM(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?IM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HD(e,XD);var t=HD(e.firestore,uL);return FD(sL(t),e._key,{source:"server"}).then((function(n){return DM(t,e,n)}))}(this._delegate):function(e){e=HD(e,XD);var t=HD(e.firestore,uL);return FD(sL(t),e._key).then((function(n){return DM(t,e,n)}))}(this._delegate)).then((function(e){return new rF(t.firestore,new kM(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new sE("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new XD(n._delegate,r,new AE(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new XD(n._delegate,r,t))}}]),e}();function eF(e,t,n){return e.message=e.message.replace(t,n),e}function tF(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!HM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nF(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=HM(e[0])?e[0]:HM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rF=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new ZM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return xM(this._delegate,e._delegate)}}]),e}(),iF=function(e){k(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||iE(),t}}]),n}(rF),aF=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $M(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ZL(this._delegate,function(e,t,n){var r=t,i=$L("where",e);return eM._create(i,r,n)}(t,n,r)))}catch(i){throw eF(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ZL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$L("orderBy",e);return nM._create(n,t)}(t,n)))}catch(r){throw eF(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ZL(this._delegate,(WD("limit",n=t),rM._create("limit",n,"F"))))}catch(n){throw eF(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ZL(this._delegate,(WD("limitToLast",n=t),rM._create("limitToLast",n,"L"))))}catch(n){throw eF(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,ZL(this._delegate,aM.apply(void 0,arguments)))}catch(t){throw eF(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ZL(this._delegate,oM.apply(void 0,arguments)))}catch(t){throw eF(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ZL(this._delegate,sM.apply(void 0,arguments)))}catch(t){throw eF(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ZL(this._delegate,cM.apply(void 0,arguments)))}catch(t){throw eF(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?TM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?CM(this._delegate):SM(this._delegate)).then((function(e){return new uF(t.firestore,new wM(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tF(n),a=nF(n,(function(t){return new uF(e.firestore,new wM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return OM(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oF=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iF(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uF=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new aF(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iF(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oF(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iF(n._firestore,r))}))}},{key:"isEqual",value:function(e){return xM(this._delegate,e._delegate)}}]),e}(),sF=function(e){k(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZM(this.firestore,void 0===e?tL(this._delegate):tL(this._delegate,e))}catch(t){throw eF(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=HD(e.firestore,uL),r=tL(e),i=mM(e.converter,t);return PM(n,[CL(TL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ZT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(XM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aF);function cF(e){return HD(e,XD)}var lF=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(gL,n)}return y(e,[{key:"isEqual",value:function(e){return(e=zc(e))instanceof gL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(CE.keyField().canonicalString())}}]),e}(),fF=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new OL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new AL("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=VM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=zM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new DL("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hF={Firestore:QM,GeoPoint:bL,Timestamp:xE,Blob:GM,Transaction:YM,WriteBatch:JM,DocumentReference:ZM,DocumentSnapshot:rF,Query:aF,QueryDocumentSnapshot:iF,QuerySnapshot:uF,CollectionReference:sF,FieldPath:lF,FieldValue:fF,setLogLevel:function(e){var t;t=e,Xx.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Bc("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hF)))}(e,(function(e,t){return new QM(e,t,new WM)})),e.registerVersion("@firebase/firestore-compat","0.3.16")}(bg);Kl("firebase","10.3.0","app");var dF={apiKey:"AIzaSyB-DfXxXu6FyhVnWJPDqRkdTRpvlnqZyxw",authDomain:"learn-lingo-9c026.firebaseapp.com",projectId:"learn-lingo-9c026",storageBucket:"learn-lingo-9c026.appspot.com",messagingSenderId:"737873017439",appId:"1:737873017439:web:ddf6a1b5eae91d51a6f9ea"},pF=Ul(dF);bg.initializeApp(dF);var vF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl(),t=Rl(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=Rl(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Pc(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Af(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Sy,persistence:[qv,yv,kv]}),i=kc("authTokenSyncURL");if(i){var a=(n=i,function(){var e=rt(tt().mark((function e(t){var r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>jy)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Uy!==a){e.next=12;break}return e.abrupt("return");case 12:return Uy=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){zc(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){zc(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=yc("auth");return o&&id(r,"http://".concat(o)),r}(pF),mF=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl(),t=arguments.length>1?arguments[1]:void 0,n=Rl(e=zc(e),fg).getImmediate({identifier:t}),r=function(e){var t=yc(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("storage");r&&hg.apply(void 0,[n].concat(h(r)))}(pF),bg.firestore()),yF=function(){var e=rt(tt().mark((function e(t){var n,r,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=mF.collection("teachers"),e.next=4,n.orderBy("id","asc").startAfter(t).limit(4).get();case 4:return r=e.sent,i=r.docs.map((function(e){return e.data()})),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),gF=function(){var e=rt(tt().mark((function e(t){var n,r,i,a,o;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.email,i=t.password,e.prev=1,e.next=4,Fp(vF,r,i);case 4:return a=e.sent,o=a.user,e.next=8,$p(o,{displayName:n});case 8:return e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),kF=function(){var e=rt(tt().mark((function e(t){var n,r,i,a;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.prev=1,e.next=4,Up(vF,n,r);case 4:return i=e.sent,a=i.user,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),bF=function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vF.signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),wF=Yr().shape({email:Fr().email("Invalid email address").required("Required"),password:Fr().min(7,"Must contain 7 characters or more").required("Required")}),_F=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,i=l((0,r.useState)(!1),2),a=i[0],o=i[1],u=(0,r.useRef)(null),s=hs({initialValues:{email:"",password:""},onSubmit:function(e,t){kF(e),t.resetForm({values:{email:"",password:""}}),n(!1)},validationSchema:wF});return(0,ft.jsx)(jn,{mountOnEnter:!0,unmountOnExit:!0,in:t,nodeRef:u,timeout:{enter:700,exit:700},classNames:{enterActive:$s,exitActive:Ys},children:(0,ft.jsxs)("form",{className:Qs,ref:u,onSubmit:s.handleSubmit,children:[(0,ft.jsx)("button",{type:"button",className:Js,onClick:function(){return n()},children:(0,ft.jsx)("img",{src:_s,alt:"close"})}),(0,ft.jsx)("h2",{className:Xs,children:"Log In"}),(0,ft.jsx)("p",{className:Zs,children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."}),(0,ft.jsxs)("label",{className:tc,children:[(0,ft.jsx)("input",{className:nc,id:"email",name:"email",type:"email",placeholder:"Email",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email}),s.errors.email&&s.touched.email&&(0,ft.jsx)("span",{className:ec,children:s.errors.email})]}),(0,ft.jsxs)("label",{className:rc,children:[(0,ft.jsx)("input",{className:ic,id:"password",name:"password",type:a?"text":"password",placeholder:"Password",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password}),(0,ft.jsx)("button",{className:ac,type:"button",onClick:function(){o(!a)},children:(0,ft.jsx)("img",{src:a?uc:sc,alt:"toggle show password"})}),s.errors.password&&s.touched.password&&(0,ft.jsx)("span",{className:ec,children:s.errors.password})]}),(0,ft.jsx)("button",{className:oc,type:"submit",children:"Log In"})]})})},xF=function(e){var t=e.isLoggedIn,n=e.favoriteTeachers,i=e.addToFavorites,a=e.removeFromFavorites,o=e.teacherInfo,u=l((0,r.useState)(!1),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1],y=l((0,r.useState)(!1),2),g=y[0],k=y[1],b=function(){var e=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,m(!0);case 3:c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=rt(tt().mark((function e(n){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}g?a(n):i(n),e.next=8;break;case 4:return m(!1),e.next=7,d(!0);case 7:c(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){null!==n&&void 0!==n&&n.length?k(!(null===n||void 0===n||!n.find((function(e){return e.id===o.id})))):k(!1)}),[n,o.id]),(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("li",{className:Ct,children:[(0,ft.jsx)("div",{children:(0,ft.jsx)("div",{className:At,children:(0,ft.jsx)("img",{className:Nt,src:o.avatar_url,alt:"teacher"})})}),(0,ft.jsxs)("div",{children:[g?(0,ft.jsx)(It,{icon:Tt,alt:"liked",id:o.id,handleClick:w}):(0,ft.jsx)(It,{icon:St,alt:"like",id:o.id,handleClick:w}),(0,ft.jsxs)("ul",{className:Ot,children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("span",{className:Rt,children:"Languages"})}),(0,ft.jsx)("li",{children:(0,ft.jsx)("span",{className:Pt,children:"Lessons online"})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Dt,children:["Lessons done: ",o.lessons_done]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Lt,children:["Rating: ",o.rating]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Mt,children:["Price / 1 hour:"," ",(0,ft.jsxs)("span",{className:Ft,children:[o.price_per_hour,"$"]})]})})]}),(0,ft.jsxs)("h2",{className:jt,children:[o.name," ",o.surname]}),(0,ft.jsxs)("ul",{className:Ut,children:[(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Vt,children:["Speaks:"," ",(0,ft.jsx)("span",{className:zt,children:o.languages.join(", ")})]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Vt,children:["Lesson info:"," ",(0,ft.jsx)("span",{className:Bt,children:o.lesson_info})]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("span",{className:Vt,children:["Conditions:"," ",(0,ft.jsx)("span",{className:Bt,children:o.conditions})]})})]}),(0,ft.jsx)("p",{className:qt,children:o.experience}),(0,ft.jsx)("ul",{className:Kt,children:o.reviews.map((function(e,t){return(0,ft.jsxs)("li",{children:[(0,ft.jsxs)("div",{className:Gt,children:[(0,ft.jsx)("div",{className:Ht,children:(0,ft.jsx)("img",{className:Wt,src:e.reviewer_avatar_url,alt:e.reviewer_name})}),(0,ft.jsxs)("div",{className:Qt,children:[(0,ft.jsx)("span",{className:$t,children:e.reviewer_name}),(0,ft.jsx)("span",{className:Yt,children:(Math.round(10*e.reviewer_rating)/10).toFixed(1)})]})]}),(0,ft.jsx)("p",{children:e.comment})]},t)}))}),(0,ft.jsx)("ul",{className:Jt,children:o.levels.map((function(e,t){return(0,ft.jsxs)("li",{className:Xt,children:["#",e]},t)}))}),(0,ft.jsx)("button",{type:"button",className:Zt,onClick:b,children:"Book trial lesson"})]})]}),(0,ft.jsxs)(bn,{isModalOpen:s,setIsModalOpen:c,children:[v&&(0,ft.jsx)(Ws,{teacherName:o.name+" "+o.surname,teacherPhoto:o.avatar_url,isModalOpen:s,setIsModalOpen:c}),h&&(0,ft.jsx)(_F,{isModalOpen:s,setIsModalOpen:c})]})]})},EF="LoadMoreButton_loadMoreButton__1rFtB",IF=function(e){var t=e.handleLoadMore;return(0,ft.jsx)("button",{type:"button",className:EF,onClick:function(){return t()},children:"Load more"})},SF=function(e){var t=e.endOfCollection,n=e.handleLoadMore,r=e.isLoggedIn,i=e.teachers,a=e.favoriteTeachers,o=e.addToFavorites,u=e.removeFromFavorites;return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("h1",{className:_t,children:"Teachers"}),(0,ft.jsx)("ul",{className:xt,children:i.map((function(e,t){return(0,ft.jsx)(xF,{isLoggedIn:r,favoriteTeachers:a,addToFavorites:o,removeFromFavorites:u,teacherInfo:e},t)}))}),!t&&(0,ft.jsx)(IF,{handleLoadMore:n})]})},TF=function(e){var t=e.endOfCollection,n=e.handleLoadMore,r=e.isLoggedIn,i=e.teachers,a=e.favoriteTeachers,o=e.addToFavorites,u=e.removeFromFavorites;return(0,ft.jsx)("section",{className:"sectionContainer",children:(0,ft.jsx)(SF,{endOfCollection:t,handleLoadMore:n,isLoggedIn:r,teachers:i,favoriteTeachers:a,addToFavorites:o,removeFromFavorites:u})})},CF=function(e){var t=e.endOfCollection,n=e.handleLoadMore,i=e.isLoggedIn,a=e.teachers,o=e.favoriteTeachers,u=e.addToFavorites,s=e.removeFromFavorites,c=e.changeColor;return(0,r.useEffect)((function(){c("#f8f8f8")}),[c]),(0,ft.jsx)(TF,{endOfCollection:t,handleLoadMore:n,isLoggedIn:i,teachers:a,favoriteTeachers:o,addToFavorites:u,removeFromFavorites:s})};function AF(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=AF(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var NF=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=AF(e))&&(r&&(r+=" "),r+=t);return r},OF="FavoriteTeachersList_title__-F6R4",RF="FavoriteTeachersList_visible__VQVO5",PF="FavoriteTeachersList_teachersList__-+QBf",DF=function(e){var t=e.isLoggedIn,n=e.favoriteTeachers,r=e.addToFavorites,i=e.removeFromFavorites;return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("h1",{className:OF,children:"Favorite Teachers"}),(0,ft.jsx)("h2",{className:NF(OF,0===n.length&&RF),children:"Here is your Favorite Teachers list, but it is probably empty yet..."}),n.length>0&&(0,ft.jsx)("ul",{className:PF,children:n.map((function(e,a){return(0,ft.jsx)(xF,{isLoggedIn:t,favoriteTeachers:n,addToFavorites:r,removeFromFavorites:i,teacherInfo:e},a)}))})]})},LF=function(e){var t=e.isLoggedIn,n=e.favoriteTeachers,r=e.addToFavorites,i=e.removeFromFavorites;return(0,ft.jsx)("section",{className:"sectionContainer",children:(0,ft.jsx)(DF,{isLoggedIn:t,favoriteTeachers:n,addToFavorites:r,removeFromFavorites:i})})},MF=function(e){var t=e.isLoggedIn,n=e.favoriteTeachers,i=e.addToFavorites,a=e.removeFromFavorites,o=e.changeColor;return(0,r.useEffect)((function(){o("#f8f8f8")}),[o]),(0,ft.jsx)(LF,{isLoggedIn:t,favoriteTeachers:n,addToFavorites:i,removeFromFavorites:a})},FF=n(805),jF="Logo_logo__6yrBi",UF="Logo_caption__Stah6",VF="Logo_graphics__y1JRK",zF=function(){return(0,ft.jsxs)(Je,{to:"/",className:NF(UF,jF),children:[(0,ft.jsx)("div",{className:VF}),"LearnLingo"]})};function BF(e){return cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}var qF=n.p+"static/media/login.d3edbd99db7c1c3d823755570ca3eb2f.svg",KF="RegistrationModal_modal__6N9nZ",GF="RegistrationModal_modalEnterActive__7ewIK",HF="RegistrationModal_modalExitActive__o7LmD",WF="RegistrationModal_closeButton__WQoJg",QF="RegistrationModal_title__4c-kU",$F="RegistrationModal_caption__pH7o6",YF="RegistrationModal_error__iKQm2",JF="RegistrationModal_nameInputWrapper__vxVPP",XF="RegistrationModal_nameInput__sMYlJ",ZF="RegistrationModal_emailInputWrapper__b26Dp",ej="RegistrationModal_emailInput__-S5w2",tj="RegistrationModal_passwordInputWrapper__TgkNz",nj="RegistrationModal_passwordInput__zAPuQ",rj="RegistrationModal_passwordShownButton__smjGk",ij="RegistrationModal_submitButton__am-pN",aj=Yr().shape({name:Fr().required("Required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,{message:"Name may contain only letters, apostrophe, dash and spaces.",excludeEmptyString:!0}),email:Fr().email("Invalid email address").required("Required"),password:Fr().min(7,"Must contain 7 characters or more").required("Required")}),oj=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,i=l((0,r.useState)(!1),2),a=i[0],o=i[1],u=(0,r.useRef)(null),s=hs({initialValues:{name:"",email:"",password:""},onSubmit:function(e,t){gF(e),t.resetForm({values:{name:"",email:"",password:""}})},validationSchema:aj});return(0,ft.jsx)(jn,{mountOnEnter:!0,unmountOnExit:!0,in:t,nodeRef:u,timeout:{enter:700,exit:700},classNames:{enterActive:GF,exitActive:HF},children:(0,ft.jsxs)("form",{className:KF,ref:u,onSubmit:s.handleSubmit,children:[(0,ft.jsx)("button",{type:"button",className:WF,onClick:function(){return n()},children:(0,ft.jsx)("img",{src:_s,alt:"close"})}),(0,ft.jsx)("h2",{className:QF,children:"Registration"}),(0,ft.jsx)("p",{className:$F,children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information"}),(0,ft.jsxs)("label",{className:JF,children:[(0,ft.jsx)("input",{className:XF,id:"name",name:"name",type:"name",placeholder:"Name",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.name}),s.errors.name&&s.touched.name&&(0,ft.jsx)("span",{className:YF,children:s.errors.name})]}),(0,ft.jsxs)("label",{className:ZF,children:[(0,ft.jsx)("input",{className:ej,id:"email",name:"email",type:"email",placeholder:"Email",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email}),s.errors.email&&s.touched.email&&(0,ft.jsx)("span",{className:YF,children:s.errors.email})]}),(0,ft.jsxs)("label",{className:tj,children:[(0,ft.jsx)("input",{className:nj,id:"password",name:"password",type:a?"text":"password",placeholder:"Password",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password}),(0,ft.jsx)("button",{className:rj,type:"button",onClick:function(){o(!a)},children:(0,ft.jsx)("img",{src:a?uc:sc,alt:"toggle show password"})}),s.errors.password&&s.touched.password&&(0,ft.jsx)("span",{className:YF,children:s.errors.password})]}),(0,ft.jsx)("button",{className:ij,type:"submit",children:"Sign Up"})]})})},uj=function(e){var t=e.isLoggedIn,n=e.toggleSidebar,i=e.navbarAuth,a=e.navbarLogin,o=e.navbarLogout,u=e.navbarRegister,s=l((0,r.useState)(!1),2),c=s[0],f=s[1],h=l((0,r.useState)(!1),2),d=h[0],p=h[1],v=l((0,r.useState)(!1),2),m=v[0],y=v[1],g=function(){var e=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Login"!==t.target.innerText){e.next=7;break}return y(!1),e.next=5,p(!0);case 5:e.next=10;break;case 7:return p(!1),e.next=10,y(!0);case 10:if(e.t0=n,!e.t0){e.next=14;break}return e.next=14,n();case 14:f(!c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ft.jsx)(ft.Fragment,{children:t?(0,ft.jsxs)("button",{className:o,type:"button",onClick:function(){bF()},children:[(0,ft.jsx)("img",{src:qF,alt:"Login Icon"}),"Log Out"]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("ul",{className:i,children:[(0,ft.jsx)("li",{className:a,children:(0,ft.jsxs)("button",{type:"button",onClick:function(e){return g(e)},children:[(0,ft.jsx)("img",{src:qF,alt:"Login Icon"}),"Login"]})}),(0,ft.jsx)("li",{className:u,children:(0,ft.jsx)("button",{type:"button",onClick:function(e){return g(e)},children:"Registration"})})]}),(0,ft.jsxs)(bn,{isModalOpen:c,setIsModalOpen:f,children:[d&&(0,ft.jsx)(_F,{isModalOpen:c,setIsModalOpen:f}),m&&(0,ft.jsx)(oj,{isModalOpen:c,setIsModalOpen:f})]})]})})},sj="Navbar_burgerIcon__cCHEa",cj="Navbar_sidebar__8hgmh",lj="Navbar_active__MLHq1",fj="Navbar_navText__x3jRv",hj="Navbar_isActive__3BTXF",dj="Navbar_navbarTop__03725",pj="Navbar_closeIcon__RanWU",vj="Navbar_menuControls__ZedFA",mj="Navbar_navbarAuth__tu2j9",yj="Navbar_navbarLogin__8Xkt7",gj="Navbar_navbarLogout__tlErB",kj="Navbar_navbarRegister__Cf0qx",bj=function(e){var t=e.isLoggedIn,n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=function(){return a(!i)};return(0,r.useEffect)((function(){document.body.style.overflow=i?"hidden":"unset"}),[i]),(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsxs)(an.Provider,{value:{color:"undefined"},children:[!i&&(0,ft.jsx)("div",{children:(0,ft.jsx)(Je,{to:"#",className:vj,children:(0,ft.jsx)(BF,{className:sj,onClick:o})})}),(0,ft.jsxs)("nav",{className:i?NF(cj,lj):cj,children:[(0,ft.jsxs)("ul",{children:[(0,ft.jsx)("li",{className:dj,children:(0,ft.jsx)(Je,{to:"#",className:vj,children:(0,ft.jsx)(hn,{className:pj,onClick:o})})}),(t?vn:mn).map((function(e,t){return(0,ft.jsx)("li",{className:fj,children:(0,ft.jsxs)(Xe,{to:e.path,onClick:function(){o()},className:function(e){return e.isActive?hj:""},children:[e.icons,(0,ft.jsx)("span",{children:e.title})]})},t)}))]}),(0,ft.jsx)(uj,{isLoggedIn:t,navbarAuth:mj,navbarLogin:yj,navbarLogout:gj,navbarRegister:kj,toggleSidebar:o})]})]})})},wj="Header_header__OKWO7",_j="Header_headerFlexWrapper__Mz2uY",xj="Header_topNavbar__rkDhE",Ej="Header_navItem__9eamZ",Ij="Header_navbarAuth__+T01f",Sj="Header_navbarLogin__NvBgs",Tj="Header_navbarLogout__VMmly",Cj="Header_navbarRegister__Cipo4",Aj=function(e){var t=e.isLoggedIn,n=(0,FF.useMediaQuery)({query:"(max-width: 767px)"});return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("header",{className:wj,children:[!n&&(0,ft.jsx)("div",{className:"headerContainer",children:(0,ft.jsxs)("div",{className:_j,children:[(0,ft.jsx)(zF,{}),(0,ft.jsx)("nav",{children:(0,ft.jsx)("ul",{className:xj,children:(t?vn:mn).map((function(e){var t=e.path,n=e.title;return(0,ft.jsx)("li",{children:(0,ft.jsx)(Xe,{className:Ej,style:function(e){return e.isActive?{color:"#ffb700",cursor:"default",background:"none"}:{color:"#2c2c2c"}},to:t,children:n})},t)}))})}),(0,ft.jsx)(uj,{isLoggedIn:t,navbarAuth:Ij,navbarLogin:Sj,navbarLogout:Tj,navbarRegister:Cj})]})}),n&&(0,ft.jsx)("div",{className:"headerContainer",children:(0,ft.jsxs)("div",{className:_j,children:[(0,ft.jsx)(zF,{}),(0,ft.jsx)(bj,{isLoggedIn:t})]})})]}),(0,ft.jsx)(Me,{})]})};var Nj=function(){var e=l((0,r.useState)("#fff"),2),t=e[0],n=e[1],i=function(e){n(e),document.body.style.backgroundColor=e},a=l((0,r.useState)(!1),2),o=a[0],u=a[1],s=l((0,r.useState)([]),2),c=s[0],f=s[1],d=l((0,r.useState)(0),2),p=d[0],v=d[1],m=l((0,r.useState)(!1),2),y=m[0],g=m[1],k=l((0,r.useState)((function(){try{var e=JSON.parse(localStorage.getItem("favoriteTeachers")||"");return e||[]}catch(t){console.log(t)}})),2),b=k[0],w=k[1],_=function(e){var t=c.filter((function(t){return t.id===e}));w((function(e){return e?[].concat(h(e),h(t)):h(t)}))},x=function(e){w((function(t){return t.filter((function(t){return t.id!==e}))}))},E=function(){var e=rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yF(p);case 2:(t=e.sent)&&f((function(e){return[].concat(h(e),h(t))})),(0===t.length||t.length<4)&&g(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){!function(e,t,n,r){zc(e).onAuthStateChanged(t,n,r)}(vF,(function(e){u(!!e)}))}),[]),(0,r.useEffect)((function(){0===p&&rt(tt().mark((function e(){var t;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yF(p);case 2:(t=e.sent)&&f((function(e){return[].concat(h(e),h(t))}));case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,r.useEffect)((function(){v(c.length)}),[c.length]),(0,r.useEffect)((function(){try{localStorage.setItem("favoriteTeachers",JSON.stringify(b))}catch(e){console.log(e.message)}}),[b]),0===c.length?(0,ft.jsx)("h1",{children:"Loading..."}):(0,ft.jsx)("div",{style:{background:t},id:"main",children:(0,ft.jsx)(Ue,{children:(0,ft.jsxs)(Fe,{path:"/",element:(0,ft.jsx)(Aj,{isLoggedIn:o}),children:[(0,ft.jsx)(Fe,{index:!0,element:(0,ft.jsx)(wt,{changeColor:i})}),(0,ft.jsx)(Fe,{path:"/teachers",element:(0,ft.jsx)(CF,{endOfCollection:y,handleLoadMore:E,isLoggedIn:o,teachers:c,favoriteTeachers:b,addToFavorites:_,removeFromFavorites:x,changeColor:i})}),(0,ft.jsx)(Fe,{path:"/favorites",element:(0,ft.jsx)(MF,{isLoggedIn:o,favoriteTeachers:b,addToFavorites:_,removeFromFavorites:x,changeColor:i})}),(0,ft.jsx)(Fe,{path:"*",element:(0,ft.jsx)(Le,{to:"/"})})]})})})};a.createRoot(document.getElementById("root")).render((0,ft.jsx)(Qe,{basename:"/learn-lingo",children:(0,ft.jsx)(Nj,{})}))}()}();
//# sourceMappingURL=main.37f7d2b5.js.map